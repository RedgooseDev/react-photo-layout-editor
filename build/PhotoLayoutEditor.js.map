{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///PhotoLayoutEditor.js","webpack:///webpack/bootstrap 615826178fef13fb3dd9","webpack:///external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack:///external {\"commonjs\":\"classnames\",\"commonjs2\":\"classnames\",\"amd\":\"classnames\",\"root\":\"classNames\"}","webpack:///./src/PhotoLayoutEditor/actions/index.js","webpack:///./src/PhotoLayoutEditor/actions/types.js","webpack:///./src/PhotoLayoutEditor/lib/index.js","webpack:///external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}","webpack:///external {\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/reducers/defaults.js","webpack:///external {\"commonjs\":\"redux\",\"commonjs2\":\"redux\",\"amd\":\"redux\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/lib/object.js","webpack:///external {\"commonjs\":\"react-simple-colorpicker\",\"commonjs2\":\"react-simple-colorpicker\",\"amd\":\"react-simple-colorpicker\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/API/index.js","webpack:///./src/PhotoLayoutEditor/Container/index.js","webpack:///./src/PhotoLayoutEditor/reducers/index.js","webpack:///./src/PhotoLayoutEditor/API/Cropper.js","webpack:///./src/PhotoLayoutEditor/API/Grid.js","webpack:///./src/PhotoLayoutEditor/API/Layout.js","webpack:///./src/PhotoLayoutEditor/API/Side.js","webpack:///./src/PhotoLayoutEditor/Container/Body/GridLayout/index.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/Button.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/EditLayoutSetting.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/index.js","webpack:///./src/PhotoLayoutEditor/Container/Body/index.js","webpack:///./src/PhotoLayoutEditor/Container/Cropper/Block.js","webpack:///./src/PhotoLayoutEditor/Container/Cropper/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Items/Item.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Items/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Navigation/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/ToggleSideButton/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/index.js","webpack:///./src/PhotoLayoutEditor/actions/body.js","webpack:///./src/PhotoLayoutEditor/actions/core.js","webpack:///./src/PhotoLayoutEditor/actions/cropper.js","webpack:///./src/PhotoLayoutEditor/actions/side.js","webpack:///./src/PhotoLayoutEditor/index.js","webpack:///./src/PhotoLayoutEditor/lib/Keyboard.js","webpack:///./src/PhotoLayoutEditor/lib/color.js","webpack:///./src/PhotoLayoutEditor/lib/number.js","webpack:///./src/PhotoLayoutEditor/lib/uploader.js","webpack:///./src/PhotoLayoutEditor/lib/util.js","webpack:///./src/PhotoLayoutEditor/reducers/body.js","webpack:///./src/PhotoLayoutEditor/reducers/core.js","webpack:///./src/PhotoLayoutEditor/reducers/cropper.js","webpack:///./src/PhotoLayoutEditor/reducers/side.js","webpack:///external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","webpack:///external {\"commonjs\":\"react-grid-layout\",\"commonjs2\":\"react-grid-layout\",\"amd\":\"react-grid-layout\",\"root\":\"PropTypes\"}"],"names":["root","factory","exports","module","require","define","amd","PhotoLayoutEditor","React","classNames","$","PropTypes","ReactDOM","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_5__","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_8__","__WEBPACK_EXTERNAL_MODULE_10__","__WEBPACK_EXTERNAL_MODULE_44__","__WEBPACK_EXTERNAL_MODULE_45__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","_interopRequireWildcard","obj","newObj","key","types","body","side","cropper","core","_core","_body","_cropper","_side","_types","INIT_PLE","SIDE_VISIBLE","SIDE_ADD_FILES","SIDE_REMOVE_FILES","SIDE_CHANGE_ACTIVE_FILE","SIDE_TOGGLE","SIDE_UPDATE_PROGRESS","ATTACH_IMAGES","ATTACH_IMAGE","GRID_ADD_BLOCK","GRID_REMOVE_BLOCK","GRID_SHUFFLE_BLOCKS","GRID_DUPLICATE_BLOCK","GRID_UPDATE_BLOCKS","GRID_ACTIVE_BLOCK","GRID_SETTING_UPDATE","GRID_CHANGE_COLOR","GRID_REMOVE_IMAGES","CROPPER_OPEN","CROPPER_CLOSE","uploader","color","number","util","_util","_number","_object","_color","_uploader","_uploader2","setting","base","uploadScript","uploadParamsConvertFunc","width","height","column","outerMargin","innerMargin","freeMode","bgColor","blockColor","grid","layout","x","y","w","h","files","visible","progressPercent","visibleToolbarButtons","shuffle","add","select","edit","removeImage","duplicate","removeBlock","editColor","input","length","randomIndex","Math","floor","random","itemAtIndex","findObjectValueInArray","array","arguments","isArray","arr","_interopRequireDefault","API","store","_Layout2","_Side2","_Grid2","_Cropper2","_Layout","_Side","_Grid","_Cropper","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_class","_temp","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","_react","_react2","_reactRedux","_classnames","_classnames2","_actions","actions","_Body","_Body2","Container","_React$Component","_this","getPrototypeOf","el","dispatch","init","parent","api","preference","_this2","createElement","ref","r","className","ple-side-active","tree","Component","displayName","defaultProps","connect","state","assign","_redux","_side2","combineReducers","keyboard","element","activeBlock","item","Cropper","open","index","getState","libs","image","e","alert","close","console","log","_lib","Grid","Layout","toggleSide","sw","currentSw","targetSw","warn","Side","uploading","Array","addFiles","upload","callbacks","defer","_jquery2","Deferred","start","lib","progress","type","res","updateProgress","percent","parseInt","loaded","total","data","result","url","complete","done","completeAll","fail","error","promise","_jquery","_extends","source","_reactGridLayout","_reactGridLayout2","timeStamp","GridLayout","id","isImage","keyName","newActiveBlock","indexOf","splice","push","Date","getTime","newGrid","map","k","updateBlocks","indexPrefix","active","data-grid","data-index","onClick","event","stopPropagation","_selectBlock","style","backgroundColor","ple-grid__item-active","backgroundImage","src","backgroundPosition","position","backgroundSize","size","_this3","bodyWidth","autoSize","cols","rowHeight","margin","containerPadding","verticalCompact","onDragStart","_updateBlocks","onDragStop","onResizeStart","onResizeStop","renderItem","bind","Button","apply","title","iconClass","children","_defineProperty","_reactSimpleColorpicker","_reactSimpleColorpicker2","EditLayoutSetting","defaultSetting","popup_bgColor","setState","cTarget","currentTarget","document","on","closest","parentNode","activeBgColorPopup","off","preventDefault","submit","persist","onSubmit","_submit","htmlFor","min","max","maxLength","onChange","_change","required","ple-edit-bgColor__inputBox-active","_openBgColorPicker","readOnly","checked","_reset","_Button","_Button2","_EditLayoutSetting","_EditLayoutSetting2","Toolbar","editBlockColor","userSW","changeActive","Promise","reject","updateSetting","_this4","activeBlockColor","ple-toolbar__block-active","deactivate","then","submitEditSetting","shuffleBlocks","addBlock","Infinity","forEach","_onClickEdit","removeImages","duplicateBlock","changeColorBlock","_GridLayout","_GridLayout2","_Toolbar","_Toolbar2","Body","_reactDom","_reactDom2","controlEvent","isTouchDevice","move","end","Block","isCover","$self","$img","moveStartInfo","resizeStartInfo","findDOMNode","refs","nextProps","find","containerX","split","containerY","mouseX","clientX","pageX","nativeEvent","touches","window","scrollLeft","mouseY","clientY","pageY","scrollTop","_moveIng","_moveEnd","evt","originalEvent","mouse","distance","posX","posY","_resizeIng","_resizeEnd","ratio","distanceHeight","distanceX","naturalWidth","naturalHeight","ple-cropperBlock__image-resize","transform","alt","onMouseDown","_moveStart","onTouchStart","ple-cropperBlock__control-active","_resizeStart","_Block","_Block2","imageMeta","_block","$item","filter","pending","top","offset","left","getImageSize","targetSize","getRatioForResize","_onClose","_toggleImageType","ple-cropper__nav-active","Item","attr","onTouchMove","onTouchEnd","onDragEnd","data-id","data-image","draggable","ple-sideItems__item-active","_Item","_Item2","Items","onSelect","SideNavigation","timestamp","now","onUpload","onAttach","onToggleSelect","multiple","onRemove","ToggleSideButton","_Component","ple-ico-arrow-right","show","ple-ico-arrow-left","_ToggleSideButton","_ToggleSideButton2","_Navigation","_Navigation2","_Items","_Items2","firstSelectIdx","dragTarget","dragPosition","$gridItems","$dragItem","each","$this","pos","currentItem","changeActiveFile","activeItems","confirm","removeFiles","some","selectedImages","attachImages","hasClass","addClass","removeClass","attachImage","clone","removeAttr","append","touch","css","remove","getGridsterItem","_selectItem","ple-side__wrap-show","_attach","_toggleSelect","_upload","_removeItems","_dragStartItem","_dragEndItem","_touchStartItem","_touchMoveItem","_touchEndItem","options","blocks","images","activeBlocks","columns","ids","toggle","selectType","_Container","_Container2","_reducers","_reducers2","_API","_API2","createStore","Provider","Keyboard","eventName","getTimeStamp","code","names","17","18","91","93","16","_keyDown","keyCode","_keyUp","rgbToHex","match","toString","slice","randomRange","round","local","file","reader","FileReader","addEventListener","resolve","readAsDataURL","external","script","onLoad","JSON","parse","responseText","onProgress","notify","xhr","XMLHttpRequest","FormData","_typeof","formData","send","count","Symbol","iterator","navigator","MaxTouchPoints","msMaxTouchPoints","sleep","time","setTimeout","img","onload","onerror","cssPrefix","styles","getComputedStyle","documentElement","pre","join","OLink","dom","RegExp","lowercase","js","toUpperCase","substr","defaults","action","newState","lastGridId","shuffleIndex","concat","_defaults","_Keyboard2","_Keyboard","_toConsumableArray","arr2","from","activeCount","getActiveItems","items","nextFileId","selectItems"],"mappings":"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","file":"PhotoLayoutEditor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-dom\"), require(\"react-grid-layout\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"classnames\", \"jquery\", \"react-redux\", \"redux\", \"react-simple-colorpicker\", \"react-dom\", \"react-grid-layout\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoLayoutEditor\"] = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-dom\"), require(\"react-grid-layout\"));\n\telse\n\t\troot[\"PhotoLayoutEditor\"] = factory(root[\"React\"], root[\"classNames\"], root[\"$\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"ReactDOM\"], root[\"PropTypes\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_44__, __WEBPACK_EXTERNAL_MODULE_45__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-dom\"), require(\"react-grid-layout\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"classnames\", \"jquery\", \"react-redux\", \"redux\", \"react-simple-colorpicker\", \"react-dom\", \"react-grid-layout\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoLayoutEditor\"] = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-dom\"), require(\"react-grid-layout\"));\n\telse\n\t\troot[\"PhotoLayoutEditor\"] = factory(root[\"React\"], root[\"classNames\"], root[\"$\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"ReactDOM\"], root[\"PropTypes\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_44__, __WEBPACK_EXTERNAL_MODULE_45__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 34);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.types = exports.body = exports.side = exports.cropper = exports.core = undefined;\n\nvar _core = __webpack_require__(31);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _body = __webpack_require__(30);\n\nvar body = _interopRequireWildcard(_body);\n\nvar _cropper = __webpack_require__(32);\n\nvar cropper = _interopRequireWildcard(_cropper);\n\nvar _side = __webpack_require__(33);\n\nvar side = _interopRequireWildcard(_side);\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.core = core;\nexports.cropper = cropper;\nexports.side = side;\nexports.body = body;\nexports.types = types;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar INIT_PLE = exports.INIT_PLE = 'INIT_PLE';\n\nvar SIDE_VISIBLE = exports.SIDE_VISIBLE = 'SIDE_VISIBLE';\nvar SIDE_ADD_FILES = exports.SIDE_ADD_FILES = 'SIDE_ADD_FILES';\nvar SIDE_REMOVE_FILES = exports.SIDE_REMOVE_FILES = 'SIDE_REMOVE_FILES';\nvar SIDE_CHANGE_ACTIVE_FILE = exports.SIDE_CHANGE_ACTIVE_FILE = 'SIDE_CHANGE_ACTIVE_FILE';\nvar SIDE_TOGGLE = exports.SIDE_TOGGLE = 'SIDE_TOGGLE';\nvar SIDE_UPDATE_PROGRESS = exports.SIDE_UPDATE_PROGRESS = 'SIDE_UPDATE_PROGRESS';\n\nvar ATTACH_IMAGES = exports.ATTACH_IMAGES = 'ATTACH_IMAGES';\nvar ATTACH_IMAGE = exports.ATTACH_IMAGE = 'ATTACH_IMAGE';\n\nvar GRID_ADD_BLOCK = exports.GRID_ADD_BLOCK = 'GRID_ADD_BLOCK';\nvar GRID_REMOVE_BLOCK = exports.GRID_REMOVE_BLOCK = 'GRID_REMOVE_BLOCK';\nvar GRID_SHUFFLE_BLOCKS = exports.GRID_SHUFFLE_BLOCKS = 'GRID_SHUFFLE_BLOCKS';\nvar GRID_DUPLICATE_BLOCK = exports.GRID_DUPLICATE_BLOCK = 'GRID_DUPLICATE_BLOCK';\nvar GRID_UPDATE_BLOCKS = exports.GRID_UPDATE_BLOCKS = 'GRID_UPDATE_BLOCKS';\nvar GRID_ACTIVE_BLOCK = exports.GRID_ACTIVE_BLOCK = 'GRID_ACTIVE_BLOCK';\nvar GRID_SETTING_UPDATE = exports.GRID_SETTING_UPDATE = 'GRID_SETTING_UPDATE';\nvar GRID_CHANGE_COLOR = exports.GRID_CHANGE_COLOR = 'GRID_CHANGE_COLOR';\nvar GRID_REMOVE_IMAGES = exports.GRID_REMOVE_IMAGES = 'GRID_REMOVE_IMAGES';\n\nvar CROPPER_OPEN = exports.CROPPER_OPEN = 'CROPPER_OPEN';\nvar CROPPER_CLOSE = exports.CROPPER_CLOSE = 'CROPPER_CLOSE';\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.uploader = exports.object = exports.color = exports.number = exports.util = undefined;\n\nvar _util = __webpack_require__(39);\n\nvar util = _interopRequireWildcard(_util);\n\nvar _number = __webpack_require__(37);\n\nvar number = _interopRequireWildcard(_number);\n\nvar _object = __webpack_require__(9);\n\nvar object = _interopRequireWildcard(_object);\n\nvar _color = __webpack_require__(36);\n\nvar color = _interopRequireWildcard(_color);\n\nvar _uploader = __webpack_require__(38);\n\nvar _uploader2 = _interopRequireDefault(_uploader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.util = util;\nexports.number = number;\nexports.color = color;\nexports.object = object;\nexports.uploader = _uploader2.default;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar setting = exports.setting = {\n\n\tbase: {\n\t\tuploadScript: null,\n\t\tuploadParamsConvertFunc: null\n\t},\n\tbody: {\n\t\tsetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t\tbgColor: 'rgba(255,255,255,1)'\n\t\t},\n\t\tblockColor: 'rgba(211,211,211,1)',\n\t\tgrid: [{ layout: { x: 0, y: 0, w: 2, h: 2 } }, { layout: { x: 2, y: 0, w: 1, h: 2 } }, { layout: { x: 3, y: 0, w: 2, h: 1 } }, { layout: { x: 3, y: 1, w: 1, h: 1 } }]\n\t},\n\tside: {\n\t\tfiles: [],\n\t\tvisible: true,\n\t\tprogressPercent: null\n\t}\n\n};\n\nvar side = exports.side = {\n\tfiles: [],\n\tvisible: true,\n\tprogressPercent: null\n};\n\nvar body = exports.body = {\n\tvisibleToolbarButtons: {\n\t\tsetting: true,\n\t\tshuffle: true,\n\t\tadd: true,\n\t\tselect: true,\n\t\tedit: false,\n\t\tremoveImage: false,\n\t\tduplicate: false,\n\t\tremoveBlock: false,\n\t\teditColor: false\n\t}\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shuffle = shuffle;\nexports.findObjectValueInArray = findObjectValueInArray;\nexports.isArray = isArray;\n/**\n * Shuffles array in place.\n *\n * @param {Array} input items The array containing the items.\n * @return {Array}\n */\nfunction shuffle(input) {\n  for (var i = input.length - 1; i >= 0; i--) {\n    var randomIndex = Math.floor(Math.random() * (i + 1));\n    var itemAtIndex = input[randomIndex];\n    input[randomIndex] = input[i];\n    input[i] = itemAtIndex;\n  }\n  return input;\n}\n\n/**\n * Find object value in array\n *\n * @param {Array} array\n * @param {String} key\n * @param {Number|String} value\n * @return {Number}\n */\nfunction findObjectValueInArray() {\n  var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'index';\n  var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  for (var i = 0; i < array.length; i++) {\n    if (array[i][key] === value) return i;\n  }\n}\n\n/**\n * is array\n *\n * @param {Array} arr\n * @return {Boolean}\n */\nfunction isArray() {\n  var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return !!(arr && arr.length);\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = API;\n\nvar _Layout = __webpack_require__(16);\n\nvar _Layout2 = _interopRequireDefault(_Layout);\n\nvar _Side = __webpack_require__(17);\n\nvar _Side2 = _interopRequireDefault(_Side);\n\nvar _Grid = __webpack_require__(15);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _Cropper = __webpack_require__(14);\n\nvar _Cropper2 = _interopRequireDefault(_Cropper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction API(store) {\n\n\tthis.layout = new _Layout2.default(store);\n\tthis.side = new _Side2.default(store);\n\tthis.grid = new _Grid2.default(store);\n\tthis.cropper = new _Cropper2.default(store);\n}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _classnames = __webpack_require__(1);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _actions = __webpack_require__(2);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _Body = __webpack_require__(22);\n\nvar _Body2 = _interopRequireDefault(_Body);\n\nvar _Side = __webpack_require__(29);\n\nvar _Side2 = _interopRequireDefault(_Side);\n\nvar _Cropper = __webpack_require__(24);\n\nvar _Cropper2 = _interopRequireDefault(_Cropper);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = (_temp = _class = function (_React$Component) {\n\t_inherits(Container, _React$Component);\n\n\tfunction Container() {\n\t\t_classCallCheck(this, Container);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).call(this));\n\n\t\t_this.el = null;\n\t\treturn _this;\n\t}\n\n\t_createClass(Container, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tprops.dispatch(actions.core.init(props.parent.api, props.parent.preference || { side: {}, grid: {} }, this.el));\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t_this2.el = r;\n\t\t\t\t\t},\n\t\t\t\t\tclassName: (0, _classnames2.default)('ple-editor', { 'ple-side-active': props.tree.side.visible }) },\n\t\t\t\tprops.setting && _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-wrap' },\n\t\t\t\t\t_react2.default.createElement(_Body2.default, null),\n\t\t\t\t\t_react2.default.createElement(_Side2.default, null),\n\t\t\t\t\tprops.tree.cropper.visible ? _react2.default.createElement(_Cropper2.default, null) : null\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Container;\n}(_react2.default.Component), _class.displayName = 'Container', _class.defaultProps = {\n\tparent: {},\n\tdispatch: null,\n\ttree: {},\n\tsetting: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Container);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _redux = __webpack_require__(8);\n\nvar _core = __webpack_require__(41);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _body = __webpack_require__(40);\n\nvar body = _interopRequireWildcard(_body);\n\nvar _side = __webpack_require__(43);\n\nvar _side2 = _interopRequireDefault(_side);\n\nvar _cropper = __webpack_require__(42);\n\nvar cropper = _interopRequireWildcard(_cropper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.default = (0, _redux.combineReducers)({\n\n\t// settings\n\tsetting: core.setting,\n\n\t// api\n\tapi: core.api,\n\n\t// keyboard event\n\tkeyboard: core.keyboard,\n\n\t// element\n\telement: core.element,\n\n\t// data tree\n\ttree: (0, _redux.combineReducers)({\n\t\tside: _side2.default,\n\t\tbody: (0, _redux.combineReducers)({\n\t\t\tsetting: body.setting,\n\t\t\tvisibleToolbarButtons: body.visibleToolbarButtons,\n\t\t\tgrid: body.grid,\n\t\t\tactiveBlock: body.activeBlock\n\t\t}),\n\t\tcropper: (0, _redux.combineReducers)({\n\t\t\tvisible: cropper.visible,\n\t\t\titem: cropper.item\n\t\t})\n\t})\n\n});\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = Cropper;\n\nvar _actions = __webpack_require__(2);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(4);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction Cropper(store) {\n\n\tthis.open = function (index) {\n\t\tvar state = store.getState();\n\t\tvar item = null;\n\n\t\ttry {\n\t\t\tvar n = libs.object.findObjectValueInArray(state.tree.body.grid, 'index', index);\n\t\t\tif (typeof n !== 'number') throw 'Not found item';\n\t\t\titem = state.tree.body.grid[n];\n\t\t\tif (!item.image) throw 'Not found image in item';\n\t\t} catch (e) {\n\t\t\talert(e);\n\t\t\treturn;\n\t\t}\n\n\t\tstore.dispatch(actions.cropper.open(item));\n\t};\n\n\tthis.close = function () {\n\t\tconsole.log('close cropper');\n\n\t\tstore.dispatch(actions.cropper.close());\n\t};\n}\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Grid;\n\nvar _actions = __webpack_require__(2);\n\nvar actions = _interopRequireWildcard(_actions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction Grid(store) {}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = Layout;\n\nvar _actions = __webpack_require__(2);\n\nvar actions = _interopRequireWildcard(_actions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction Layout(store) {\n\n\t/**\n  * Toggle side\n  *\n  * @param {Boolean|undefined} sw\n  */\n\tthis.toggleSide = function (sw) {\n\t\ttry {\n\t\t\tvar currentSw = store.getState().tree.side.visible;\n\t\t\tvar targetSw = typeof sw === 'undefined' ? !currentSw : sw;\n\n\t\t\tstore.dispatch(actions.side.visible(targetSw));\n\t\t} catch (e) {\n\t\t\tconsole.warn('Error action', e);\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = Side;\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _actions = __webpack_require__(2);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(4);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Side(store) {\n\n\tthis.uploading = false;\n\n\t/**\n  * Add files\n  *\n  * @param {Array} files\n  */\n\tthis.add = function (files) {\n\t\tif (!(files instanceof Array)) return;\n\n\t\tstore.dispatch(actions.side.addFiles(files));\n\t};\n\n\t/**\n  * Upload files\n  *\n  * @param {FileList} files\n  * @param {Object} callbacks\n  */\n\tthis.upload = function (files) {\n\t\tvar _this = this;\n\n\t\tvar callbacks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t/**\n   * @param {Function} callbacks.start\n   * @param {Function} callbacks.complete\n   * @param {Function} callbacks.completeAll\n   * @param {Function} callbacks.fail\n   */\n\t\tif (this.uploading) return;\n\n\t\tvar defer = _jquery2.default.Deferred();\n\t\tvar state = store.getState();\n\t\tthis.uploading = true;\n\n\t\tif (callbacks.start) callbacks.start();\n\n\t\tlib.uploader(files, state.setting.base.uploadScript).progress(function (type, res) {\n\t\t\tswitch (type) {\n\t\t\t\tcase 'start':\n\t\t\t\t\tstore.dispatch(actions.side.updateProgress(0));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'progress':\n\t\t\t\t\tvar percent = parseInt(res.loaded / res.total * 100);\n\t\t\t\t\tstore.dispatch(actions.side.updateProgress(percent));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'done':\n\t\t\t\t\tstore.dispatch(actions.side.updateProgress(null));\n\t\t\t\t\tif (!res.data) return;\n\t\t\t\t\tif (state.setting.base.uploadParamsConvertFunc) {\n\t\t\t\t\t\tvar result = state.setting.base.uploadParamsConvertFunc(res.data);\n\t\t\t\t\t\tstore.dispatch(actions.side.addFiles([result]));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstore.dispatch(actions.side.addFiles([res.data.url]));\n\t\t\t\t\t}\n\t\t\t\t\tif (callbacks.complete) callbacks.complete(res.data);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}).done(function () {\n\t\t\t_this.uploading = false;\n\t\t\tif (callbacks.completeAll) callbacks.completeAll();\n\t\t}).fail(function (error) {\n\t\t\t_this.uploading = false;\n\t\t\tif (callbacks.fail) callbacks.fail(error);\n\t\t});\n\n\t\treturn defer.promise();\n\t};\n}\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _reactGridLayout = __webpack_require__(45);\n\nvar _reactGridLayout2 = _interopRequireDefault(_reactGridLayout);\n\nvar _classnames = __webpack_require__(1);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _actions = __webpack_require__(2);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(4);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar timeStamp = [];\n\nvar GridLayout = (_temp = _class = function (_React$Component) {\n\t_inherits(GridLayout, _React$Component);\n\n\tfunction GridLayout(props) {\n\t\t_classCallCheck(this, GridLayout);\n\n\t\treturn _possibleConstructorReturn(this, (GridLayout.__proto__ || Object.getPrototypeOf(GridLayout)).call(this, props));\n\t}\n\n\t/**\n  * On select block\n  *\n  * @param {Number} id\n  * @param {boolean} isImage\n  */\n\n\n\t_createClass(GridLayout, [{\n\t\tkey: '_selectBlock',\n\t\tvalue: function _selectBlock() {\n\t\t\tvar id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar isImage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\t\tvar props = this.props;\n\n\n\t\t\tif (id === null) {\n\t\t\t\tprops.dispatch(actions.body.activeBlock([], false));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (props.keyboard.keyName) {\n\t\t\t\tcase 'CMD':\n\t\t\t\tcase 'CTRL':\n\t\t\t\tcase 'SHIFT':\n\t\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\t\t\tvar newActiveBlock = Object.assign([], props.tree.body.activeBlock);\n\t\t\t\t\t\tif (newActiveBlock.indexOf(id) > -1) {\n\t\t\t\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(id), 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewActiveBlock.push(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(newActiveBlock, isImage));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock([id], isImage));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tprops.dispatch(actions.body.activeBlock([id], isImage));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * On update blocks\n   *\n   * @param {String} type\n   * @param {Array} layout\n   */\n\n\t}, {\n\t\tkey: '_updateBlocks',\n\t\tvalue: function _updateBlocks(type, layout) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'start':\n\t\t\t\t\ttimeStamp[0] = new Date().getTime();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'end':\n\t\t\t\t\ttimeStamp[1] = new Date().getTime();\n\t\t\t\t\tif (timeStamp[1] - timeStamp[0] > 400) {\n\t\t\t\t\t\tvar newGrid = props.tree.body.grid.map(function (o, k) {\n\t\t\t\t\t\t\treturn _extends({}, o, {\n\t\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\t\tx: layout[k].x,\n\t\t\t\t\t\t\t\t\ty: layout[k].y,\n\t\t\t\t\t\t\t\t\tw: layout[k].w,\n\t\t\t\t\t\t\t\t\th: layout[k].h\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tprops.dispatch(actions.body.updateBlocks(newGrid));\n\t\t\t\t\t}\n\t\t\t\t\ttimeStamp = [];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Render item\n   *\n   * @param {Object} item\n   * @param {Number} n\n   * @return {Component}\n   */\n\n\t}, {\n\t\tkey: 'renderItem',\n\t\tvalue: function renderItem(item, n) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar activeBlock = props.tree.body.activeBlock;\n\n\n\t\t\tvar key = item.indexPrefix + '__' + item.index;\n\t\t\tvar active = !!(activeBlock && activeBlock.length && activeBlock.indexOf(item.index) > -1);\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tkey: key,\n\t\t\t\t\t'data-grid': item.layout,\n\t\t\t\t\t'data-index': item.index,\n\t\t\t\t\tonClick: function onClick(event) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t_this2._selectBlock(item.index, !!item.image);\n\t\t\t\t\t},\n\t\t\t\t\tstyle: { backgroundColor: item.color || props.setting.body.blockColor },\n\t\t\t\t\tclassName: (0, _classnames2.default)({ 'ple-grid__item-active': active }) },\n\t\t\t\titem.image && _react2.default.createElement('figure', {\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tbackgroundImage: 'url(\\'' + item.image.src + '\\')',\n\t\t\t\t\t\tbackgroundPosition: item.image.position,\n\t\t\t\t\t\tbackgroundSize: item.image.size\n\t\t\t\t\t} })\n\t\t\t);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar setting = props.tree.body.setting;\n\n\t\t\tvar bodyWidth = setting.width * setting.column + setting.innerMargin * (setting.column - 1) + setting.outerMargin * 2;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-grid__wrap', onClick: function onClick() {\n\t\t\t\t\t\treturn _this3._selectBlock();\n\t\t\t\t\t} },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_reactGridLayout2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\tautoSize: true,\n\t\t\t\t\t\tcols: setting.column,\n\t\t\t\t\t\trowHeight: setting.height,\n\t\t\t\t\t\twidth: bodyWidth,\n\t\t\t\t\t\tmargin: [setting.innerMargin, setting.innerMargin],\n\t\t\t\t\t\tcontainerPadding: [setting.outerMargin, setting.outerMargin],\n\t\t\t\t\t\tverticalCompact: !setting.freeMode,\n\t\t\t\t\t\tonDragStart: function onDragStart() {\n\t\t\t\t\t\t\treturn _this3._updateBlocks('start', null);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonDragStop: function onDragStop(layout) {\n\t\t\t\t\t\t\treturn _this3._updateBlocks('end', layout);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonResizeStart: function onResizeStart() {\n\t\t\t\t\t\t\treturn _this3._updateBlocks('start', null);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonResizeStop: function onResizeStop(layout) {\n\t\t\t\t\t\t\treturn _this3._updateBlocks('end', layout);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\twidth: bodyWidth + 'px',\n\t\t\t\t\t\t\tbackgroundColor: setting.bgColor\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'ple-grid' },\n\t\t\t\t\tprops.tree.body.grid.map(this.renderItem.bind(this))\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn GridLayout;\n}(_react2.default.Component), _class.displayName = 'GridLayout', _class.defaultProps = {\n\ttree: null,\n\tdispatch: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(GridLayout);\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(1);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Button = (_temp = _class = function (_React$Component) {\n\t_inherits(Button, _React$Component);\n\n\tfunction Button() {\n\t\t_classCallCheck(this, Button);\n\n\t\treturn _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n\t}\n\n\t_createClass(Button, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: (0, _classnames2.default)('ple-toolbar__block', props.className) },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ type: 'button', title: props.title, onClick: props.onClick },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: (0, _classnames2.default)('ple-sp-ico', 'ple-abs', props.iconClass) },\n\t\t\t\t\t\tprops.title\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t!!props.children && _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-toolbar__pop' },\n\t\t\t\t\tprops.children\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Button;\n}(_react2.default.Component), _class.displayName = 'Button', _temp);\nexports.default = Button;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactSimpleColorpicker = __webpack_require__(10);\n\nvar _reactSimpleColorpicker2 = _interopRequireDefault(_reactSimpleColorpicker);\n\nvar _classnames = __webpack_require__(1);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EditLayoutSetting = (_temp = _class = function (_React$Component) {\n\t_inherits(EditLayoutSetting, _React$Component);\n\n\tfunction EditLayoutSetting(props) {\n\t\t_classCallCheck(this, EditLayoutSetting);\n\n\t\tvar _this = _possibleConstructorReturn(this, (EditLayoutSetting.__proto__ || Object.getPrototypeOf(EditLayoutSetting)).call(this, props));\n\n\t\t_this.state = _extends({}, props.defaultSetting, props.setting, {\n\t\t\tpopup_bgColor: false\n\t\t});\n\t\treturn _this;\n\t}\n\n\t_createClass(EditLayoutSetting, [{\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.setState(_extends({}, props.defaultSetting, props.setting));\n\t\t}\n\t}, {\n\t\tkey: 'activeBgColorPopup',\n\t\tvalue: function activeBgColorPopup(sw, e) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar state = this.state;\n\n\t\t\tvar cTarget = e ? e.currentTarget : null;\n\n\t\t\tsw = sw || !state.popup_bgColor;\n\n\t\t\tif (sw) {\n\t\t\t\t(0, _jquery2.default)(document).on('click.pleEditBgColor', function (e) {\n\t\t\t\t\tif ((0, _jquery2.default)(e.target).closest('.ple-edit-bgColor__popup').length) return;\n\t\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget)) {\n\t\t\t\t\t\t_this2.activeBgColorPopup(false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t(0, _jquery2.default)(document).off('click.pleEditBgColor');\n\t\t\t}\n\n\t\t\tthis.setState({ popup_bgColor: sw });\n\t\t}\n\t}, {\n\t\tkey: '_submit',\n\t\tvalue: function _submit(e) {\n\t\t\te.preventDefault();\n\t\t\tthis.props.submit(this.state);\n\t\t}\n\t}, {\n\t\tkey: '_reset',\n\t\tvalue: function _reset() {\n\t\t\tthis.setState(_extends({}, this.props.defaultSetting));\n\t\t}\n\t}, {\n\t\tkey: '_change',\n\t\tvalue: function _change(e) {\n\t\t\tswitch (e.target.type) {\n\t\t\t\tcase 'text':\n\t\t\t\t\tthis.setState(_defineProperty({}, e.target.name, e.target.value));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\tthis.setState(_defineProperty({}, e.target.name, parseInt(e.target.value)));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_openBgColorPicker',\n\t\tvalue: function _openBgColorPicker(e) {\n\t\t\te.persist();\n\t\t\tvar state = this.state;\n\n\t\t\tthis.activeBgColorPopup(null, e);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'form',\n\t\t\t\t{ onSubmit: this._submit.bind(this), className: 'ple-edit-setting' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'fieldset',\n\t\t\t\t\t{ className: 'ple-edit-setting__form' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'legend',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Settings form'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h1',\n\t\t\t\t\t\t{ className: 'ple-edit-setting__title' },\n\t\t\t\t\t\t'Settings'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_width' },\n\t\t\t\t\t\t\t\t'Width'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'width', id: 'frm_width',\n\t\t\t\t\t\t\t\tmin: 1, max: 999, maxLength: 3,\n\t\t\t\t\t\t\t\tvalue: state.width,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_height' },\n\t\t\t\t\t\t\t\t'Height'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'height', id: 'frm_height',\n\t\t\t\t\t\t\t\tmin: 1, max: 999,\n\t\t\t\t\t\t\t\tvalue: state.height,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_column' },\n\t\t\t\t\t\t\t\t'Column'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'column', id: 'frm_column',\n\t\t\t\t\t\t\t\tmin: 1, max: 99,\n\t\t\t\t\t\t\t\tvalue: state.column,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'ea'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_outerMargin' },\n\t\t\t\t\t\t\t\t'Outer margin'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'outerMargin', id: 'frm_outerMargin',\n\t\t\t\t\t\t\t\tmin: 0, max: 500,\n\t\t\t\t\t\t\t\tvalue: state.outerMargin,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_innerMargin' },\n\t\t\t\t\t\t\t\t'Inner margin'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'innerMargin', id: 'frm_innerMargin',\n\t\t\t\t\t\t\t\tmin: 0, max: 500,\n\t\t\t\t\t\t\t\tvalue: state.innerMargin,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_bgColor' },\n\t\t\t\t\t\t\t\t'Bg color'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{ className: 'ple-edit-bgColor' },\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ className: (0, _classnames2.default)('ple-edit-bgColor__inputBox', {\n\t\t\t\t\t\t\t\t\t\t\t'ple-edit-bgColor__inputBox-active': state.popup_bgColor\n\t\t\t\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\tname: 'bgColor',\n\t\t\t\t\t\t\t\t\t\tid: 'frm_bgColor',\n\t\t\t\t\t\t\t\t\t\tvalue: state.bgColor,\n\t\t\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\t\t\tonClick: this._openBgColorPicker.bind(this),\n\t\t\t\t\t\t\t\t\t\treadOnly: true,\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tclassName: 'ple-edit-bgColor__input',\n\t\t\t\t\t\t\t\t\t\tstyle: { backgroundColor: state.bgColor }\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tstate.popup_bgColor && _react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t{ className: 'ple-edit-bgColor__popup' },\n\t\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t{ className: 'ple-edit-bgColor__picker' },\n\t\t\t\t\t\t\t\t\t\t_react2.default.createElement(_reactSimpleColorpicker2.default, {\n\t\t\t\t\t\t\t\t\t\t\tonChange: function onChange(color) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn _this3.setState({ bgColor: color });\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tcolor: state.bgColor })\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_freeMode' },\n\t\t\t\t\t\t\t\t'Free mode'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-checkbox' },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\ttype: 'radio', name: 'freeMode', id: 'frm_freeMode',\n\t\t\t\t\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\t\t\t\t\treturn _this3.setState({ freeMode: true });\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchecked: state.freeMode }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'true'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\ttype: 'radio', name: 'freeMode',\n\t\t\t\t\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\t\t\t\t\treturn _this3.setState({ freeMode: false });\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchecked: !state.freeMode }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'nav',\n\t\t\t\t\t{ className: 'ple-edit-setting__buttons' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'button', onClick: this._reset.bind(this) },\n\t\t\t\t\t\t\t'Reset'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'submit', className: 'ple-submit' },\n\t\t\t\t\t\t\t'Apply'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn EditLayoutSetting;\n}(_react2.default.Component), _class.displayName = 'EditLayoutSetting', _class.defaultProps = {\n\tsubmit: function submit(e) {},\n\tsetting: null,\n\tdefaultSetting: {\n\t\twidth: 100,\n\t\theight: 100,\n\t\tcolumn: 5,\n\t\touterMargin: 10,\n\t\tinnerMargin: 10,\n\t\tfreeMode: false,\n\t\tbgColor: 'rgba(255,255,255,1)'\n\t}\n}, _temp);\nexports.default = EditLayoutSetting;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(1);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactSimpleColorpicker = __webpack_require__(10);\n\nvar _reactSimpleColorpicker2 = _interopRequireDefault(_reactSimpleColorpicker);\n\nvar _object = __webpack_require__(9);\n\nvar _actions = __webpack_require__(2);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(4);\n\nvar libs = _interopRequireWildcard(_lib);\n\nvar _Button = __webpack_require__(19);\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _EditLayoutSetting = __webpack_require__(20);\n\nvar _EditLayoutSetting2 = _interopRequireDefault(_EditLayoutSetting);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Toolbar = (_temp = _class = function (_React$Component) {\n\t_inherits(Toolbar, _React$Component);\n\n\tfunction Toolbar(props) {\n\t\t_classCallCheck(this, Toolbar);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, props));\n\n\t\t_this.state = {\n\t\t\tactive: {\n\t\t\t\tsetting: false,\n\t\t\t\teditBlockColor: false\n\t\t\t}\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(Toolbar, [{\n\t\tkey: 'changeActive',\n\t\tvalue: function changeActive(keyName, userSW, event) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar state = this.state;\n\n\t\t\tvar sw = userSW || !state.active[keyName];\n\t\t\tvar cTarget = event ? event.currentTarget : null;\n\n\t\t\tif (sw) {\n\t\t\t\t(0, _jquery2.default)(document).on('click.pleToolbar', function (e) {\n\t\t\t\t\tif ((0, _jquery2.default)(e.target).closest('.ple-toolbar__pop').length) return;\n\t\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget)) {\n\t\t\t\t\t\t_this2.changeActive(keyName, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t(0, _jquery2.default)(document).off('click.pleToolbar');\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tactive: _extends({}, state.active, _defineProperty({\n\t\t\t\t\tsetting: false,\n\t\t\t\t\teditColor: false\n\t\t\t\t}, keyName, sw))\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'deactivate',\n\t\tvalue: function deactivate() {\n\t\t\tvar _this3 = this;\n\n\t\t\t(0, _jquery2.default)(document).off('click.pleToolbar');\n\t\t\treturn new Promise(function (reject) {\n\t\t\t\t_this3.setState({\n\t\t\t\t\tactive: {\n\t\t\t\t\t\tsetting: false,\n\t\t\t\t\t\teditColor: false\n\t\t\t\t\t}\n\t\t\t\t}, reject);\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'submitEditSetting',\n\t\tvalue: function submitEditSetting(state) {\n\t\t\tthis.props.dispatch(actions.body.updateSetting(state));\n\t\t\tthis.changeActive('setting', false);\n\t\t\treturn false;\n\t\t}\n\t}, {\n\t\tkey: '_onClickEdit',\n\t\tvalue: function _onClickEdit() {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.api.cropper.open(props.tree.body.activeBlock[0]);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\t\t\tvar visible = props.tree.body.visibleToolbarButtons;\n\t\t\tvar activeBlockColor = '#fff';\n\n\t\t\tif (libs.object.isArray(props.tree.body.grid)) {\n\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\t\tvar n = (0, _object.findObjectValueInArray)(props.tree.body.grid, 'index', props.tree.body.activeBlock[0]);\n\t\t\t\t\tactiveBlockColor = props.tree.body.grid[n] && props.tree.body.grid[n].color ? props.tree.body.grid[n].color : props.setting.body.blockColor;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'nav',\n\t\t\t\t{ className: 'ple-toolbar' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-toolbar__wrap' },\n\t\t\t\t\tvisible.setting && _react2.default.createElement(\n\t\t\t\t\t\t_Button2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticonClass: 'ple-ico-setting',\n\t\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-edit-setting', {\n\t\t\t\t\t\t\t\t'ple-toolbar__block-active': state.active.setting\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tonClick: function onClick(e) {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.setting) {\n\t\t\t\t\t\t\t\t\t_this4.deactivate().then(function () {\n\t\t\t\t\t\t\t\t\t\t_this4.changeActive('setting', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttitle: 'Edit preference' },\n\t\t\t\t\t\t_react2.default.createElement(_EditLayoutSetting2.default, {\n\t\t\t\t\t\t\tsubmit: this.submitEditSetting.bind(this),\n\t\t\t\t\t\t\tsetting: props.tree.body.setting,\n\t\t\t\t\t\t\tdefaultSetting: props.setting.body.setting })\n\t\t\t\t\t),\n\t\t\t\t\tvisible.shuffle && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-arrow-random',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.dispatch(actions.body.shuffleBlocks({\n\t\t\t\t\t\t\t\tx: props.tree.body.setting.column,\n\t\t\t\t\t\t\t\ty: 2,\n\t\t\t\t\t\t\t\tw: 2,\n\t\t\t\t\t\t\t\th: 2\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Shuffle block' }),\n\t\t\t\t\tvisible.add && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-plus',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.dispatch(actions.body.addBlock({\n\t\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\t\t//x: randomRange(0, tree.body.setting.column-1),\n\t\t\t\t\t\t\t\t\tx: props.tree.body.grid.length % props.tree.body.setting.column,\n\t\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Add block' }),\n\t\t\t\t\tvisible.select && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-select',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(null));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar newActiveBlock = [];\n\t\t\t\t\t\t\tvar isImage = !!(props.tree.body.grid[0] && props.tree.body.grid[0].image);\n\t\t\t\t\t\t\tprops.tree.body.grid.forEach(function (o) {\n\t\t\t\t\t\t\t\treturn newActiveBlock.push(o.index);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(newActiveBlock, isImage));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Toggle select block' }),\n\t\t\t\t\tvisible.edit && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-pencil',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: this._onClickEdit.bind(this),\n\t\t\t\t\t\ttitle: 'Edit block' }),\n\t\t\t\t\tvisible.removeImage && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-empty',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.dispatch(actions.body.removeImages(props.tree.body.activeBlock));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Remove image in block' }),\n\t\t\t\t\tvisible.duplicate && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-duplicate',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null) {\n\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprops.dispatch(actions.body.duplicateBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Duplicate block' }),\n\t\t\t\t\tvisible.removeBlock && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-trash',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null) {\n\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprops.dispatch(actions.body.removeBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Remove block' }),\n\t\t\t\t\tvisible.editColor && _react2.default.createElement(\n\t\t\t\t\t\t_Button2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticonClass: 'ple-ico-palette',\n\t\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-edit-color', 'ple-toolbar__block-key', { 'ple-toolbar__block-active': state.active.editColor }),\n\t\t\t\t\t\t\tonClick: function onClick(e) {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.editColor) {\n\t\t\t\t\t\t\t\t\t_this4.deactivate().then(function () {\n\t\t\t\t\t\t\t\t\t\treturn _this4.changeActive('editColor', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttitle: 'Change color' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'ple-colorPicker__wrap' },\n\t\t\t\t\t\t\t_react2.default.createElement(_reactSimpleColorpicker2.default, {\n\t\t\t\t\t\t\t\tonChange: function onChange(color) {\n\t\t\t\t\t\t\t\t\tif (!color) return;\n\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.changeColorBlock(props.tree.body.activeBlock, color));\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcolor: activeBlockColor,\n\t\t\t\t\t\t\t\tclassName: 'ple-colorPicker__body' })\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Toolbar;\n}(_react2.default.Component), _class.displayName = 'Toolbar', _class.defaultProps = {\n\tdispatch: null,\n\ttree: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Toolbar);\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _GridLayout = __webpack_require__(18);\n\nvar _GridLayout2 = _interopRequireDefault(_GridLayout);\n\nvar _Toolbar = __webpack_require__(21);\n\nvar _Toolbar2 = _interopRequireDefault(_Toolbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Body = (_temp = _class = function (_React$Component) {\n\t_inherits(Body, _React$Component);\n\n\tfunction Body(props) {\n\t\t_classCallCheck(this, Body);\n\n\t\treturn _possibleConstructorReturn(this, (Body.__proto__ || Object.getPrototypeOf(Body)).call(this, props));\n\t}\n\n\t_createClass(Body, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-container' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-body' },\n\t\t\t\t\t_react2.default.createElement(_Toolbar2.default, null),\n\t\t\t\t\t_react2.default.createElement(_GridLayout2.default, null)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Body;\n}(_react2.default.Component), _class.displayName = 'Body', _temp);\nexports.default = Body;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(44);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _classnames = __webpack_require__(1);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _lib = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlEvent = {\n\tstart: _lib.util.isTouchDevice() ? 'touchstart' : 'mousedown',\n\tmove: _lib.util.isTouchDevice() ? 'touchmove' : 'mousemove',\n\tend: _lib.util.isTouchDevice() ? 'touchend' : 'mouseup'\n};\n\nvar Block = (_temp = _class = function (_React$Component) {\n\t_inherits(Block, _React$Component);\n\n\tfunction Block(props) {\n\t\t_classCallCheck(this, Block);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, props));\n\n\t\t_this.state = {\n\t\t\tposition: props.position,\n\t\t\tsize: props.size,\n\t\t\tisCover: props.size === 'cover'\n\t\t};\n\n\t\t_this.$self = null;\n\t\t_this.$img = null;\n\t\t_this.moveStartInfo = {};\n\t\t_this.resizeStartInfo = {};\n\t\treturn _this;\n\t}\n\n\t_createClass(Block, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\t// set dom\n\t\t\tthis.$self = (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.self));\n\t\t}\n\t}, {\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps(nextProps) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tif (props.size !== nextProps.size) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: nextProps.position,\n\t\t\t\t\tsize: nextProps.size,\n\t\t\t\t\tisCover: nextProps.size === 'cover'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_moveStart',\n\t\tvalue: function _moveStart(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar state = this.state;\n\n\t\t\t// set image element\n\n\t\t\tthis.$img = this.$self.find('img');\n\n\t\t\tthis.moveStartInfo = {\n\t\t\t\tcontainerX: parseInt(state.position.split(' ')[0]),\n\t\t\t\tcontainerY: parseInt(state.position.split(' ')[1]),\n\t\t\t\tmouseX: (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + (0, _jquery2.default)(window).scrollLeft(),\n\t\t\t\tmouseY: (e.clientY || e.pageY || e.nativeEvent.touches[0].clientY) + (0, _jquery2.default)(window).scrollTop()\n\t\t\t};\n\n\t\t\t(0, _jquery2.default)(document).on(controlEvent.move + '.move', this._moveIng.bind(this)).on(controlEvent.end + '.move', this._moveEnd.bind(this));\n\t\t}\n\t}, {\n\t\tkey: '_moveIng',\n\t\tvalue: function _moveIng(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar evt = e.type === 'touchmove' ? e.originalEvent.touches[0] : e;\n\t\t\tvar mouse = {};\n\t\t\tvar distance = {};\n\n\t\t\tmouse.x = (evt.clientX || evt.pageX) + (0, _jquery2.default)(window).scrollLeft();\n\t\t\tmouse.y = (evt.clientY || evt.pageY) + (0, _jquery2.default)(window).scrollTop();\n\n\t\t\tdistance.x = this.moveStartInfo.containerX + (mouse.x - this.moveStartInfo.mouseX);\n\t\t\tdistance.y = this.moveStartInfo.containerY + (mouse.y - this.moveStartInfo.mouseY);\n\n\t\t\tthis.setState({\n\t\t\t\tposition: parseInt(distance.x) + 'px ' + parseInt(distance.y) + 'px'\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_moveEnd',\n\t\tvalue: function _moveEnd(e) {\n\t\t\te.preventDefault();\n\n\t\t\tthis.$img = null;\n\t\t\tthis.moveStartInfo = null;\n\n\t\t\t(0, _jquery2.default)(document).off(controlEvent.move + '.move').off(controlEvent.end + '.move');\n\t\t}\n\t}, {\n\t\tkey: '_resizeStart',\n\t\tvalue: function _resizeStart(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar state = this.state;\n\n\n\t\t\tthis.$img = this.$self.find('img');\n\t\t\tthis.resizeStartInfo = {\n\t\t\t\ttitle: e.currentTarget.title,\n\t\t\t\twidth: this.$img.width(),\n\t\t\t\theight: this.$img.height(),\n\t\t\t\tmouseX: (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + (0, _jquery2.default)(window).scrollLeft(),\n\t\t\t\tposX: parseInt(state.position.split(' ')[0]),\n\t\t\t\tposY: parseInt(state.position.split(' ')[1])\n\t\t\t};\n\n\t\t\t(0, _jquery2.default)(document).on(controlEvent.move + '.resize', this._resizeIng.bind(this)).on(controlEvent.end + '.resize', this._resizeEnd.bind(this));\n\t\t}\n\t}, {\n\t\tkey: '_resizeIng',\n\t\tvalue: function _resizeIng(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar size = {};\n\t\t\tvar position = {};\n\t\t\tvar ratio = 1;\n\t\t\tvar distanceHeight = 0;\n\t\t\tvar evt = e.type === 'touchmove' ? e.originalEvent.touches[0] : e;\n\n\t\t\t// set mouse position\n\t\t\tvar distanceX = (evt.clientX || evt.pageX) + (0, _jquery2.default)(window).scrollLeft() - this.resizeStartInfo.mouseX;\n\n\t\t\t// set position and size\n\t\t\tswitch (this.resizeStartInfo.title) {\n\t\t\t\tcase 'resize-lt':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-rt':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-lb':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-rb':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// set image size\n\n\t\t\tthis.setState({\n\t\t\t\tsize: parseInt(size.width) + 'px ' + parseInt(size.height) + 'px',\n\t\t\t\tposition: parseInt(position.x) + 'px ' + parseInt(position.y) + 'px'\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_resizeEnd',\n\t\tvalue: function _resizeEnd(e) {\n\t\t\tthis.$img = null;\n\t\t\tthis.resizeStartInfo = null;\n\n\t\t\t(0, _jquery2.default)(document).off(controlEvent.move + '.resize').off(controlEvent.end + '.resize');\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\t\t\tvar size = state.size !== 'cover' ? state.size.split(' ') : state.size;\n\t\t\tvar position = state.position.split(' ');\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'figure',\n\t\t\t\t{\n\t\t\t\t\tref: 'self',\n\t\t\t\t\tstyle: { backgroundColor: props.bgColor },\n\t\t\t\t\tclassName: 'ple-cropperBlock ple-cropper__block' },\n\t\t\t\tstate.isCover ? _react2.default.createElement('span', {\n\t\t\t\t\tstyle: { backgroundImage: 'url(\\'' + props.src + '\\')' },\n\t\t\t\t\tclassName: 'ple-cropperBlock__image ple-cropperBlock__image-cover' }) : _react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{\n\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-cropperBlock__image', { 'ple-cropperBlock__image-resize': props.size !== 'cover' }) },\n\t\t\t\t\t_react2.default.createElement('img', {\n\t\t\t\t\t\tsrc: props.src,\n\t\t\t\t\t\tstyle: Object.assign({}, state.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\ttransform: 'translate(' + position[0] + ', ' + position[1] + ')'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\talt: 'image' })\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tonMouseDown: this._moveStart.bind(this),\n\t\t\t\t\t\tonTouchStart: this._moveStart.bind(this),\n\t\t\t\t\t\tstyle: Object.assign({}, state.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\theight: size[1],\n\t\t\t\t\t\t\ttransform: 'translate(' + position[0] + ', ' + position[1] + ')'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-cropperBlock__control', { 'ple-cropperBlock__control-active': props.size !== 'cover' }) },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-lt',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-lt' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-rt',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-rt' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-lb',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-lb' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-rb',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-rb' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Block;\n}(_react2.default.Component), _class.displayName = 'Block', _class.defaultProps = {\n\tsrc: '',\n\tposition: '',\n\tsize: '',\n\tbgColor: '#fff'\n}, _temp);\nexports.default = Block;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _classnames = __webpack_require__(1);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Block = __webpack_require__(23);\n\nvar _Block2 = _interopRequireDefault(_Block);\n\nvar _actions = __webpack_require__(2);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(4);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cropper = (_temp = _class = function (_React$Component) {\n\t_inherits(Cropper, _React$Component);\n\n\tfunction Cropper(props) {\n\t\t_classCallCheck(this, Cropper);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Cropper.__proto__ || Object.getPrototypeOf(Cropper)).call(this, props));\n\n\t\tvar cropper = props.tree.cropper;\n\n\n\t\t_this.imageMeta = null;\n\t\t_this._block = null;\n\t\t_this.$item = (0, _jquery2.default)(props.element).find('.react-grid-item').filter('[data-index=' + props.tree.cropper.item.index + ']');\n\n\t\t_this.state = {\n\t\t\tpending: true,\n\t\t\tposition: cropper.item.image.position,\n\t\t\tsize: cropper.item.image.size || 'cover',\n\t\t\twidth: _this.$item.width(),\n\t\t\theight: _this.$item.height(),\n\t\t\ttop: _this.$item.offset().top,\n\t\t\tleft: _this.$item.offset().left\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(Cropper, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar cropper = props.tree.cropper;\n\n\n\t\t\tlib.util.getImageSize(cropper.item.image.src).then(function (res) {\n\t\t\t\t_this2.imageMeta = res;\n\t\t\t\t_this2.setState({ pending: false });\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * on close cropper\n   * cropper를 닫고, 변경된 이미지를 grid로 보낸다.\n   *\n   */\n\n\t}, {\n\t\tkey: '_onClose',\n\t\tvalue: function _onClose() {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.dispatch(actions.cropper.close({\n\t\t\t\tindex: props.tree.cropper.item.index,\n\t\t\t\tposition: this._block.state.position,\n\t\t\t\tsize: this._block.state.size\n\t\t\t}));\n\t\t}\n\n\t\t/**\n   * toggle image type\n   * 직접 리사이즈를 사용하는지 기본(꽉채우는..)타입으로 사용할건지 변경하는 액션\n   *\n   */\n\n\t}, {\n\t\tkey: '_toggleImageType',\n\t\tvalue: function _toggleImageType() {\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\tif (state.size === 'cover') {\n\t\t\t\tvar targetSize = '';\n\t\t\t\tvar ratio = 0;\n\t\t\t\tif (state.height > state.width) {\n\t\t\t\t\tratio = lib.number.getRatioForResize(state.height, this.imageMeta.height);\n\t\t\t\t\ttargetSize = parseInt(this.imageMeta.width * ratio) + 'px ' + state.height + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tratio = lib.number.getRatioForResize(state.width, this.imageMeta.width);\n\t\t\t\t\ttargetSize = state.width + 'px ' + parseInt(this.imageMeta.height * ratio) + 'px';\n\t\t\t\t}\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: '0 0',\n\t\t\t\t\tsize: targetSize\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\tsize: 'cover'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\tif (state.pending) return null;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-cropper' },\n\t\t\t\t_react2.default.createElement('span', { className: 'ple-cropper__bg' }),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\twidth: state.width + 'px',\n\t\t\t\t\t\t\theight: state.height + 'px',\n\t\t\t\t\t\t\ttop: state.top + 'px',\n\t\t\t\t\t\t\tleft: state.left + 'px'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'ple-cropper__wrap' },\n\t\t\t\t\t_react2.default.createElement(_Block2.default, {\n\t\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t\t_this3._block = r;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsrc: props.tree.cropper.item.image.src,\n\t\t\t\t\t\tposition: state.position,\n\t\t\t\t\t\tsize: state.size,\n\t\t\t\t\t\tbgColor: props.tree.cropper.item.color || props.setting.body.blockColor }),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'nav',\n\t\t\t\t\t\t{ className: 'ple-cropper__nav' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'button', onClick: this._onClose.bind(this) },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-close ple-abs' },\n\t\t\t\t\t\t\t\t'Close cropper'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\t\tonClick: this._toggleImageType.bind(this),\n\t\t\t\t\t\t\t\tclassName: (0, _classnames2.default)({\n\t\t\t\t\t\t\t\t\t'ple-cropper__nav-active': state.size !== 'cover'\n\t\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-resize ple-abs' },\n\t\t\t\t\t\t\t\t'Toggle background size type'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Cropper;\n}(_react2.default.Component), _class.displayName = 'Cropper', _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Cropper);\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(1);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _lib = __webpack_require__(4);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Item = (_temp = _class = function (_React$Component) {\n\t_inherits(Item, _React$Component);\n\n\tfunction Item() {\n\t\t_classCallCheck(this, Item);\n\n\t\treturn _possibleConstructorReturn(this, (Item.__proto__ || Object.getPrototypeOf(Item)).apply(this, arguments));\n\t}\n\n\t_createClass(Item, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tvar attr = Object.assign({}, lib.util.isTouchDevice() ? {\n\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\tonTouchEnd: props.onTouchEnd\n\t\t\t} : {\n\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\tonDragEnd: props.onDragEnd\n\t\t\t});\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'li',\n\t\t\t\tnull,\n\t\t\t\t_react2.default.createElement('button', _extends({\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\t'data-id': props.id,\n\t\t\t\t\t'data-image': props.image,\n\t\t\t\t\tdraggable: true,\n\t\t\t\t\tonClick: props.onClick\n\t\t\t\t}, attr, {\n\t\t\t\t\tstyle: { backgroundImage: 'url(\\'' + props.image + '\\')' },\n\t\t\t\t\tclassName: (0, _classnames2.default)({ 'ple-sideItems__item-active': props.active }) }))\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Item;\n}(_react2.default.Component), _class.displayName = 'Item', _class.defaultProps = {\n\timage: null, // image\n\tid: null, // id\n\tactive: null, // active item\n\tonClick: null, // on click item\n\tonDragStart: null, // on drag start\n\tonDragEnd: null, // on drag end\n\tonTouchStart: null, // on touch start\n\tonTouchMove: null, // on touch move\n\tonTouchEnd: null // on touch end\n}, _temp);\nexports.default = Item;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Item = __webpack_require__(25);\n\nvar _Item2 = _interopRequireDefault(_Item);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Items = (_temp = _class = function (_React$Component) {\n\t_inherits(Items, _React$Component);\n\n\tfunction Items() {\n\t\t_classCallCheck(this, Items);\n\n\t\treturn _possibleConstructorReturn(this, (Items.__proto__ || Object.getPrototypeOf(Items)).apply(this, arguments));\n\t}\n\n\t_createClass(Items, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-sideItems' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-sideItems__wrap' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'ul',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tprops.files.map(function (o, k) {\n\t\t\t\t\t\t\treturn _react2.default.createElement(_Item2.default, {\n\t\t\t\t\t\t\t\tkey: k,\n\t\t\t\t\t\t\t\tid: o.id,\n\t\t\t\t\t\t\t\timage: o.image,\n\t\t\t\t\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\t\t\t\t\tonDragEnd: props.onDragEnd,\n\t\t\t\t\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\t\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\t\t\t\t\tonTouchEnd: props.onTouchEnd,\n\t\t\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\t\t\treturn props.onSelect(o.id);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tactive: o.active });\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tprops.progress !== null && _react2.default.createElement(\n\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t{ className: 'ple-sideItems__loading' },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{ className: 'ple-sideItems__progress' },\n\t\t\t\t\t\t\t\t_react2.default.createElement('span', {\n\t\t\t\t\t\t\t\t\tclassName: 'ple-sideItems__bar',\n\t\t\t\t\t\t\t\t\tstyle: { height: props.progress + '%' } }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ className: 'ple-sideItems__percent' },\n\t\t\t\t\t\t\t\t\tprops.progress + '%'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Items;\n}(_react2.default.Component), _class.displayName = 'Items', _class.defaultProps = {\n\tfiles: [], // files\n\tonSelect: function onSelect(id) {}, // on select event\n\tonDragStart: null, // on drag start\n\tonDragEnd: null, // on drag end\n\tonTouchStart: null, // on touch start\n\tonTouchMove: null, // on touch move\n\tonTouchEnd: null, // on touch end\n\tprogress: null // on progress number\n}, _temp);\nexports.default = Items;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SideNavigation = (_temp = _class = function (_React$Component) {\n\t_inherits(SideNavigation, _React$Component);\n\n\tfunction SideNavigation(props) {\n\t\t_classCallCheck(this, SideNavigation);\n\n\t\tvar _this = _possibleConstructorReturn(this, (SideNavigation.__proto__ || Object.getPrototypeOf(SideNavigation)).call(this, props));\n\n\t\t_this.state = {\n\t\t\ttimestamp: Date.now()\n\t\t};\n\t\treturn _this;\n\t}\n\n\t/**\n  * Upload images\n  *\n  * @param {Event} e\n  */\n\n\n\t_createClass(SideNavigation, [{\n\t\tkey: 'upload',\n\t\tvalue: function upload(e) {\n\t\t\tthis.props.onUpload(e.target.files);\n\n\t\t\tthis.setState({\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props,\n\t\t\t    state = this.state;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'nav',\n\t\t\t\t{ className: 'ple-sideNavigation ple-side__navigation' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-sideNavigation__wrap' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'attach images', onClick: props.onAttach },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-reply ple-abs' },\n\t\t\t\t\t\t\t'Moving the image to grid block'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'toggle select', onClick: props.onToggleSelect },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-select ple-abs' },\n\t\t\t\t\t\t\t'Toggle all select'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{ title: 'upload images', key: state.timestamp },\n\t\t\t\t\t\t_react2.default.createElement('input', { type: 'file', ref: 'inputFile', onChange: this.upload.bind(this), multiple: true }),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-upload ple-abs' },\n\t\t\t\t\t\t\t'upload images'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'remove images', onClick: props.onRemove },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-trash ple-abs' },\n\t\t\t\t\t\t\t'remove images'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn SideNavigation;\n}(_react2.default.Component), _class.displayName = 'Navigation', _class.defaultProps = {\n\tonRemove: function onRemove() {},\n\tonToggleSelect: function onToggleSelect() {},\n\tonAttach: function onAttach() {},\n\tonUpload: function onUpload() {}\n}, _temp);\nexports.default = SideNavigation;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(1);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ToggleSideButton = (_temp = _class = function (_Component) {\n\t_inherits(ToggleSideButton, _Component);\n\n\tfunction ToggleSideButton() {\n\t\t_classCallCheck(this, ToggleSideButton);\n\n\t\treturn _possibleConstructorReturn(this, (ToggleSideButton.__proto__ || Object.getPrototypeOf(ToggleSideButton)).apply(this, arguments));\n\t}\n\n\t_createClass(ToggleSideButton, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'button',\n\t\t\t\t{\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tonClick: props.onClick,\n\t\t\t\t\tclassName: 'ple-side__toggle' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: (0, _classnames2.default)('ple-sp-ico', 'ple-abs', {\n\t\t\t\t\t\t\t\t'ple-ico-arrow-right': props.show,\n\t\t\t\t\t\t\t\t'ple-ico-arrow-left': !props.show\n\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t'Toggle sidebar'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn ToggleSideButton;\n}(_react.Component), _class.displayName = 'ToggleSideButton', _class.defaultProps = {\n\tshow: false,\n\tonClick: function onClick() {}\n}, _temp);\nexports.default = ToggleSideButton;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _classnames = __webpack_require__(1);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _actions = __webpack_require__(2);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _ToggleSideButton = __webpack_require__(28);\n\nvar _ToggleSideButton2 = _interopRequireDefault(_ToggleSideButton);\n\nvar _Navigation = __webpack_require__(27);\n\nvar _Navigation2 = _interopRequireDefault(_Navigation);\n\nvar _Items = __webpack_require__(26);\n\nvar _Items2 = _interopRequireDefault(_Items);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar firstSelectIdx = null;\n\nvar Side = (_temp = _class = function (_React$Component) {\n\t_inherits(Side, _React$Component);\n\n\tfunction Side(props) {\n\t\t_classCallCheck(this, Side);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Side.__proto__ || Object.getPrototypeOf(Side)).call(this, props));\n\n\t\t_this.dragTarget = null;\n\t\t_this.dragPosition = [];\n\t\t_this.$gridItems = null;\n\t\t_this.$dragItem = null;\n\t\t_this.uploading = false;\n\t\treturn _this;\n\t}\n\n\t/**\n  * get gridster item\n  * 포인트 위치에 있는 gridster블럭을 가져온다.\n  *\n  * @return {Object} gridster item\n  */\n\n\n\t_createClass(Side, [{\n\t\tkey: 'getGridsterItem',\n\t\tvalue: function getGridsterItem() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\n\t\t\tvar target = null;\n\t\t\tthis.$gridItems = (0, _jquery2.default)(props.element).find('.ple-grid > div');\n\n\t\t\tthis.$gridItems.each(function (n, el) {\n\t\t\t\tvar $this = (0, _jquery2.default)(el);\n\t\t\t\tvar pos = $this.offset();\n\t\t\t\tif (pos.left < _this2.dragPosition[0] && pos.left + $this.width() > _this2.dragPosition[0] && pos.top < _this2.dragPosition[1] && pos.top + $this.height() > _this2.dragPosition[1]) {\n\t\t\t\t\ttarget = $this.data('index');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn target;\n\t\t}\n\n\t\t/**\n   * On select item\n   *\n   * @param {Object} id\n   */\n\n\t}, {\n\t\tkey: '_selectItem',\n\t\tvalue: function _selectItem(id) {\n\t\t\tvar props = this.props;\n\t\t\tvar keyName = props.keyboard.keyName;\n\n\t\t\tvar type = null;\n\n\t\t\tif (keyName !== 'SHIFT') {\n\t\t\t\tvar currentItem = null;\n\t\t\t\tprops.tree.side.files.forEach(function (o, k) {\n\t\t\t\t\tif (o.id === id) {\n\t\t\t\t\t\tcurrentItem = o;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tfirstSelectIdx = currentItem.active === true ? null : id;\n\t\t\t\tif (!firstSelectIdx && currentItem.active === true) {\n\t\t\t\t\tfirstSelectIdx = currentItem.id;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tswitch (keyName) {\n\t\t\t\tcase 'CTRL':\n\t\t\t\tcase 'CMD':\n\t\t\t\t\ttype = 'add';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'SHIFT':\n\t\t\t\t\ttype = 'range';\n\t\t\t}\n\n\t\t\tprops.dispatch(actions.side.changeActiveFile(firstSelectIdx, id, type));\n\t\t}\n\n\t\t/**\n   * Remove items\n   */\n\n\t}, {\n\t\tkey: '_removeItems',\n\t\tvalue: function _removeItems() {\n\t\t\tvar props = this.props;\n\n\t\t\tvar activeItems = [];\n\n\t\t\tif (!props.tree.side.files.length) return;\n\n\t\t\tprops.tree.side.files.forEach(function (o) {\n\t\t\t\tif (o.active) activeItems.push(o.id);\n\t\t\t});\n\n\t\t\tif (!activeItems.length) {\n\t\t\t\tif (confirm('Delete all?')) {\n\t\t\t\t\tprops.tree.side.files.forEach(function (o) {\n\t\t\t\t\t\tactiveItems.push(o.id);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tprops.dispatch(actions.side.removeFiles(activeItems));\n\t\t}\n\n\t\t/**\n   * toggle select all items\n   */\n\n\t}, {\n\t\tkey: '_toggleSelect',\n\t\tvalue: function _toggleSelect() {\n\t\t\tvar props = this.props;\n\n\t\t\tvar type = 'all';\n\n\t\t\tprops.tree.side.files.some(function (o) {\n\t\t\t\tif (o.active) type = 'none';\n\t\t\t\treturn o.active;\n\t\t\t});\n\n\t\t\tprops.dispatch(actions.side.changeActiveFile(null, null, type));\n\t\t}\n\n\t\t/**\n   * upload\n   *\n   * @param {FileList} files\n   */\n\n\t}, {\n\t\tkey: '_upload',\n\t\tvalue: function _upload(files) {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.api.side.upload(files);\n\t\t}\n\n\t\t/**\n   * Attach images to grid\n   */\n\n\t}, {\n\t\tkey: '_attach',\n\t\tvalue: function _attach() {\n\t\t\tvar props = this.props;\n\n\t\t\tvar selectedImages = [];\n\n\t\t\tprops.tree.side.files.forEach(function (o, k) {\n\t\t\t\tif (o.active) {\n\t\t\t\t\tselectedImages.push(o.image);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!selectedImages.length) {\n\t\t\t\talert('not select image');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tprops.dispatch(actions.body.attachImages(selectedImages, props.tree.body.setting.column, props.tree.body.activeBlock));\n\t\t}\n\t}, {\n\t\tkey: '_dragStartItem',\n\t\tvalue: function _dragStartItem(e) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$gridItems = (0, _jquery2.default)(props.element).find('.ple-grid > div');\n\t\t\tthis.$gridItems.on('dragover', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif ((0, _jquery2.default)(e.currentTarget).hasClass('ple-grid__item-hover')) return;\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).addClass('ple-grid__item-hover');\n\t\t\t}).on('dragleave', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t\t}).on('drop', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t\t\t_this3.dragTarget = (0, _jquery2.default)(e.currentTarget).data('index');\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_dragEndItem',\n\t\tvalue: function _dragEndItem(e) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$gridItems.off();\n\t\t\tthis.$gridItems = null;\n\n\t\t\t// check drag target\n\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t// play redux\n\t\t\tprops.dispatch(actions.body.attachImage(this.dragTarget, (0, _jquery2.default)(e.currentTarget).data('image')));\n\n\t\t\t// empty dragTarget\n\t\t\tthis.dragTarget = null;\n\t\t}\n\t}, {\n\t\tkey: '_touchStartItem',\n\t\tvalue: function _touchStartItem(e) {\n\t\t\tthis.$dragItem = (0, _jquery2.default)(e.currentTarget).clone().removeAttr('draggable').addClass('ple-side__placeholder').width((0, _jquery2.default)(e.currentTarget).width()).height((0, _jquery2.default)(e.currentTarget).height());\n\n\t\t\t(0, _jquery2.default)('body').append(this.$dragItem);\n\t\t}\n\t}, {\n\t\tkey: '_touchMoveItem',\n\t\tvalue: function _touchMoveItem(e) {\n\t\t\tvar touch = e.nativeEvent.touches[0];\n\t\t\tthis.dragPosition = [touch.pageX, touch.pageY];\n\t\t\tthis.$dragItem.css({\n\t\t\t\tleft: touch.pageX - this.$dragItem.width() * 0.5,\n\t\t\t\ttop: touch.pageY - this.$dragItem.height() * 0.5\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_touchEndItem',\n\t\tvalue: function _touchEndItem(e) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$dragItem.remove();\n\t\t\tthis.$dragItem = null;\n\n\t\t\tif (this.dragPosition.length > 0) {\n\t\t\t\tthis.dragTarget = this.getGridsterItem();\n\n\t\t\t\t// check drag target\n\t\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t\t// play redux\n\t\t\t\tprops.dispatch(actions.body.attachImage(this.dragTarget, (0, _jquery2.default)(e.currentTarget).data('image')));\n\t\t\t\tthis.dragPosition = [];\n\t\t\t} else {\n\t\t\t\tthis._selectItem((0, _jquery2.default)(e.currentTarget).data('id'));\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'aside',\n\t\t\t\t{ className: 'ple-side' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: (0, _classnames2.default)('ple-side__wrap', { 'ple-side__wrap-show': props.tree.side.visible }) },\n\t\t\t\t\t_react2.default.createElement('span', {\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.dispatch(actions.side.changeActiveFile(null, null, 'none'));\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'ple-side__background' }),\n\t\t\t\t\t_react2.default.createElement(_ToggleSideButton2.default, {\n\t\t\t\t\t\tshow: props.tree.side.visible,\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.layout.toggleSide(undefined);\n\t\t\t\t\t\t} }),\n\t\t\t\t\t_react2.default.createElement(_Navigation2.default, {\n\t\t\t\t\t\tonAttach: this._attach.bind(this),\n\t\t\t\t\t\tonToggleSelect: this._toggleSelect.bind(this),\n\t\t\t\t\t\tonUpload: this._upload.bind(this),\n\t\t\t\t\t\tonRemove: this._removeItems.bind(this) }),\n\t\t\t\t\t_react2.default.createElement(_Items2.default, {\n\t\t\t\t\t\tfiles: props.tree.side.files,\n\t\t\t\t\t\tonSelect: this._selectItem.bind(this),\n\t\t\t\t\t\tonDragStart: this._dragStartItem.bind(this),\n\t\t\t\t\t\tonDragEnd: this._dragEndItem.bind(this),\n\t\t\t\t\t\tonTouchStart: this._touchStartItem.bind(this),\n\t\t\t\t\t\tonTouchMove: this._touchMoveItem.bind(this),\n\t\t\t\t\t\tonTouchEnd: this._touchEndItem.bind(this),\n\t\t\t\t\t\tprogress: props.tree.side.progressPercent })\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Side;\n}(_react2.default.Component), _class.displayName = 'Side', _class.defaultProps = {\n\ttree: {}, // data tree in reduce\n\tsetting: {}, // setting in reduce\n\tapi: {}, // api\n\tdispatch: null // redux dispatch\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Side);\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.addBlock = addBlock;\nexports.removeBlock = removeBlock;\nexports.shuffleBlocks = shuffleBlocks;\nexports.duplicateBlock = duplicateBlock;\nexports.updateBlocks = updateBlocks;\nexports.activeBlock = activeBlock;\nexports.changeColorBlock = changeColorBlock;\nexports.updateSetting = updateSetting;\nexports.attachImages = attachImages;\nexports.attachImage = attachImage;\nexports.removeImages = removeImages;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction addBlock(value) {\n\treturn {\n\t\ttype: types.GRID_ADD_BLOCK,\n\t\tvalue: value\n\t};\n}\n\nfunction removeBlock(index) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_BLOCK,\n\t\tindex: index\n\t};\n}\n\nfunction shuffleBlocks(options) {\n\treturn {\n\t\ttype: types.GRID_SHUFFLE_BLOCKS,\n\t\tvalue: options\n\t};\n}\n\nfunction duplicateBlock(index) {\n\treturn {\n\t\ttype: types.GRID_DUPLICATE_BLOCK,\n\t\tindex: index\n\t};\n}\n\nfunction updateBlocks(blocks) {\n\treturn {\n\t\ttype: types.GRID_UPDATE_BLOCKS,\n\t\tvalue: blocks\n\t};\n}\n\nfunction activeBlock(index) {\n\tvar isImage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n\treturn {\n\t\ttype: types.GRID_ACTIVE_BLOCK,\n\t\tvalue: index,\n\t\tisImage: isImage\n\t};\n}\n\nfunction changeColorBlock(item, color) {\n\treturn {\n\t\ttype: types.GRID_CHANGE_COLOR,\n\t\titem: item,\n\t\tcolor: color\n\t};\n}\n\nfunction updateSetting(value) {\n\treturn {\n\t\ttype: types.GRID_SETTING_UPDATE,\n\t\tvalue: value\n\t};\n}\n\nfunction attachImages(images, cols, activeBlocks) {\n\treturn {\n\t\ttype: types.ATTACH_IMAGES,\n\t\tvalue: images,\n\t\tcolumns: cols,\n\t\tactiveBlocks: activeBlocks\n\t};\n}\n\nfunction attachImage(index, image) {\n\treturn {\n\t\ttype: types.ATTACH_IMAGE,\n\t\tindex: index,\n\t\timage: image\n\t};\n}\n\nfunction removeImages(ids) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_IMAGES,\n\t\tvalue: ids\n\t};\n}\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.init = init;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction init(api, preference, element) {\n\treturn {\n\t\ttype: types.INIT_PLE,\n\t\tapi: api,\n\t\tpreference: preference,\n\t\telement: element\n\t};\n}\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.open = open;\nexports.close = close;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction open(item) {\n\treturn {\n\t\ttype: types.CROPPER_OPEN,\n\t\tvalue: item\n\t};\n}\n\nfunction close(options) {\n\treturn {\n\t\ttype: types.CROPPER_CLOSE,\n\t\tvalue: options\n\t};\n}\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.visible = visible;\nexports.toggle = toggle;\nexports.addFiles = addFiles;\nexports.removeFiles = removeFiles;\nexports.changeActiveFile = changeActiveFile;\nexports.updateProgress = updateProgress;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// control visible side bar\nfunction visible(sw) {\n\treturn {\n\t\ttype: types.SIDE_VISIBLE,\n\t\tvalue: sw\n\t};\n}\n\n// toggle side bar\nfunction toggle() {\n\treturn {\n\t\ttype: types.SIDE_TOGGLE\n\t};\n}\n\nfunction addFiles(files) {\n\treturn {\n\t\ttype: types.SIDE_ADD_FILES,\n\t\tfiles: files\n\t};\n}\n\nfunction removeFiles(ids) {\n\treturn {\n\t\ttype: types.SIDE_REMOVE_FILES,\n\t\tids: ids\n\t};\n}\n\nfunction changeActiveFile(start, end, selectType) {\n\treturn {\n\t\ttype: types.SIDE_CHANGE_ACTIVE_FILE,\n\t\tstart: start,\n\t\tend: end,\n\t\tselectType: selectType\n\t};\n}\n\nfunction updateProgress(percent) {\n\treturn {\n\t\ttype: types.SIDE_UPDATE_PROGRESS,\n\t\tvalue: percent\n\t};\n}\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _redux = __webpack_require__(8);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _Container = __webpack_require__(12);\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _reducers = __webpack_require__(13);\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nvar _API = __webpack_require__(11);\n\nvar _API2 = _interopRequireDefault(_API);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PhotoLayoutEditor = (_temp = _class = function (_React$Component) {\n\t_inherits(PhotoLayoutEditor, _React$Component);\n\n\tfunction PhotoLayoutEditor() {\n\t\t_classCallCheck(this, PhotoLayoutEditor);\n\n\t\t// set store\n\t\tvar _this = _possibleConstructorReturn(this, (PhotoLayoutEditor.__proto__ || Object.getPrototypeOf(PhotoLayoutEditor)).call(this));\n\n\t\t_this.store = (0, _redux.createStore)(_reducers2.default);\n\n\t\t// set api\n\t\t_this.api = new _API2.default(_this.store);\n\t\treturn _this;\n\t}\n\n\t_createClass(PhotoLayoutEditor, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_reactRedux.Provider,\n\t\t\t\t{ store: this.store },\n\t\t\t\t_react2.default.createElement(_Container2.default, { parent: { preference: props, api: this.api } })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn PhotoLayoutEditor;\n}(_react2.default.Component), _class.displayName = 'PhotoLayoutEditor', _temp);\nexports.default = PhotoLayoutEditor;\n\nmodule.exports = PhotoLayoutEditor;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lib = __webpack_require__(4);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Keyboard = function () {\n\tfunction Keyboard() {\n\t\t_classCallCheck(this, Keyboard);\n\n\t\tthis.eventName = 'PLE_' + libs.number.getTimeStamp();\n\t\tthis.code = null;\n\t\tthis.keyName = null;\n\t\tthis.names = {\n\t\t\t17: 'CTRL',\n\t\t\t18: 'ALT',\n\t\t\t91: 'CMD',\n\t\t\t93: 'CMD',\n\t\t\t16: 'SHIFT'\n\t\t};\n\n\t\t// init key down event\n\t\t(0, _jquery2.default)(window).on('keydown.' + this.eventName, this._keyDown.bind(this));\n\t}\n\n\t/**\n  * apply\n  *\n  * @param {Number} code\n  */\n\n\n\t_createClass(Keyboard, [{\n\t\tkey: 'apply',\n\t\tvalue: function apply(code) {\n\t\t\tthis.code = code;\n\t\t\tthis.keyName = this.names[this.code] || null;\n\t\t}\n\n\t\t/**\n   * key down event\n   *\n   * @param {Event} e\n   */\n\n\t}, {\n\t\tkey: '_keyDown',\n\t\tvalue: function _keyDown(e) {\n\t\t\t// apply keyCode\n\t\t\tthis.apply(e.keyCode);\n\n\t\t\t// set events\n\t\t\t(0, _jquery2.default)(window).on('keyup.' + this.eventName, this._keyUp.bind(this)).on('contextmenu.' + this.eventName, this._keyUp.bind(this)).on('blur.' + this.eventName, this._keyUp.bind(this)).off('keydown.' + this.eventName);\n\t\t}\n\n\t\t/**\n   * key up event\n   *\n   */\n\n\t}, {\n\t\tkey: '_keyUp',\n\t\tvalue: function _keyUp() {\n\t\t\t// apply keyCode\n\t\t\tthis.apply(null);\n\n\t\t\t// set events\n\t\t\t(0, _jquery2.default)(window).on('keydown.' + this.eventName, this._keyDown.bind(this)).off('contextmenu.' + this.eventName + ' keyup.' + this.eventName + ' blur.' + this.eventName);\n\t\t}\n\n\t\t/**\n   * destroy event\n   *\n   */\n\n\t}, {\n\t\tkey: 'destroy',\n\t\tvalue: function destroy() {\n\t\t\t(0, _jquery2.default)(window).off('keydown.' + this.eventName + ' contextmenu.' + this.eventName + ' keyup.' + this.eventName + ' blur.' + this.eventName);\n\t\t}\n\t}]);\n\n\treturn Keyboard;\n}();\n\nexports.default = Keyboard;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rgbToHex = rgbToHex;\n/**\n * rgba to hex\n *\n * @param {String} color\n * @return {String}\n */\nfunction rgbToHex(color) {\n  color = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n  return color && color.length === 4 ? \"#\" + (\"0\" + parseInt(color[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(color[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(color[3], 10).toString(16)).slice(-2) : '';\n}\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.randomRange = randomRange;\nexports.getRatioForResize = getRatioForResize;\nexports.getTimeStamp = getTimeStamp;\n/**\n * Random range\n * min~max 사이의 랜덤 정수를 반환한다.\n *\n * @param {Number} min\n * @param {Number} max\n * @param {Boolean} useDecimal\n * @return {Number}\n */\nfunction randomRange(min, max) {\n  var useDecimal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (useDecimal) {\n    return Math.random() * (max - min) + min;\n  } else {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n}\n\n/**\n * get ratio for resize\n * max와 min값의 차이의 비율을 가져온다.\n *\n * @param {Number} min\n * @param {Number} max\n * @return {Number}\n */\nfunction getRatioForResize(min, max) {\n  return max > min ? min / max : max / min;\n}\n\n/**\n * Get timestamp\n *\n * @return {Number}\n */\nfunction getTimeStamp() {\n  return Math.round(+new Date() / 1000);\n}\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = uploader;\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * local upload\n *\n * @param {File} file\n * @return {Promise}\n */\nfunction local(file) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar reader = new FileReader();\n\n\treader.addEventListener('load', function (e) {\n\t\tdefer.resolve({\n\t\t\tname: file.name,\n\t\t\ttype: file.type,\n\t\t\tsize: file.size,\n\t\t\turl: e.target.result\n\t\t});\n\t});\n\treader.addEventListener('error', function (e) {\n\t\tdefer.reject(e.target);\n\t});\n\n\treader.readAsDataURL(file);\n\n\treturn defer.promise();\n}\n\n/**\n * external upload\n *\n * @param {String} script\n * @param {File} file\n * @return {Promise}\n */\nfunction external(script, file) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar xhr = new XMLHttpRequest();\n\n\tif (!(typeof FormData === 'function' || (typeof FormData === 'undefined' ? 'undefined' : _typeof(FormData)) === 'object')) {\n\t\tdefer.reject('not support browser', file);\n\t\treturn null;\n\t}\n\tvar formData = new FormData();\n\n\tfunction onLoad(e) {\n\t\ttry {\n\t\t\tvar result = JSON.parse(e.target.responseText);\n\t\t\tif (result.state === 'success') {\n\t\t\t\tdefer.resolve(result.data);\n\t\t\t} else {\n\t\t\t\tthrow 'server error';\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tdefer.reject(e);\n\t\t}\n\t}\n\n\tfunction onProgress(event) {\n\t\tvar loaded = event.loaded,\n\t\t    total = event.total;\n\n\t\tdefer.notify('progress', loaded, total);\n\t}\n\n\tformData.append('files[]', file);\n\txhr.open('post', script, true);\n\n\txhr.addEventListener('load', onLoad);\n\txhr.upload.addEventListener('progress', onProgress);\n\n\txhr.send(formData);\n\n\t// start queue\n\tdefer.notify('start');\n\n\treturn defer.promise();\n}\n\n/**\n * upload multiple files\n *\n */\nfunction uploader(files, script) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar total = files.length;\n\tvar count = 0;\n\n\tfunction upload() {\n\t\tif (count >= total) {\n\t\t\tdefer.resolve();\n\t\t\treturn;\n\t\t}\n\n\t\tif (script) {\n\t\t\texternal(script, files[count]).done(function (data) {\n\t\t\t\tdefer.notify('done', { count: count, data: data });\n\t\t\t\tcount++;\n\t\t\t\tupload();\n\t\t\t}).progress(function (state, loaded, total) {\n\t\t\t\tdefer.notify(state, state === 'progress' && { loaded: loaded, total: total });\n\t\t\t}).fail(function (error) {\n\t\t\t\tdefer.reject(error);\n\t\t\t});\n\t\t} else {\n\t\t\tlocal(files[count]).done(function (data) {\n\t\t\t\tdefer.notify('done', { count: count, data: data });\n\t\t\t\tcount++;\n\t\t\t\tupload();\n\t\t\t}).fail(function () {});\n\t\t}\n\t}\n\n\tupload(0);\n\n\treturn defer.promise();\n}\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.isTouchDevice = isTouchDevice;\nexports.sleep = sleep;\nexports.getImageSize = getImageSize;\n/**\n * is touch device\n *\n * @returns {boolean}\n */\nfunction isTouchDevice() {\n\treturn 'ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;\n}\n\n/**\n * Sleep\n *\n * @param {Number} time\n * @param {String} id\n * @return {Promise}\n */\nfunction sleep(time) {\n\tvar id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'pleTimer';\n\n\treturn new Promise(function (resolve) {\n\t\twindow[id] = setTimeout(resolve, time);\n\t});\n}\n\n/**\n * Get image size\n *\n * @param {String} src\n * @return {Promise}\n */\nfunction getImageSize(src) {\n\treturn new Promise(function (resolve, reject) {\n\t\tif (!(src && typeof src === 'string')) reject();\n\n\t\tvar img = document.createElement('img');\n\n\t\timg.onload = function () {\n\t\t\tresolve({\n\t\t\t\twidth: img.naturalWidth,\n\t\t\t\theight: img.naturalHeight,\n\t\t\t\tratio: img.naturalHeight / img.naturalWidth\n\t\t\t});\n\t\t};\n\n\t\timg.onerror = function () {\n\t\t\treject();\n\t\t};\n\n\t\timg.src = src;\n\t});\n}\n\n/**\n * Get css prefix\n *\n * @variation {Object}\n */\nvar cssPrefix = exports.cssPrefix = function () {\n\tvar styles = window.getComputedStyle(document.documentElement, '');\n\tvar pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\tvar dom = 'WebKit|Moz|MS|O'.match(new RegExp('(' + pre + ')', 'i'))[1];\n\n\treturn {\n\t\tdom: dom,\n\t\tlowercase: pre,\n\t\tcss: '-' + pre + '-',\n\t\tjs: pre[0].toUpperCase() + pre.substr(1)\n\t};\n}();\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.setting = setting;\nexports.visibleToolbarButtons = visibleToolbarButtons;\nexports.grid = grid;\nexports.activeBlock = activeBlock;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _lib = __webpack_require__(4);\n\nvar libs = _interopRequireWildcard(_lib);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar lastGridId = null;\nvar shuffleIndex = 0;\n\n/**\n * setting\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nfunction setting() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.setting.body.setting;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn _extends({}, state, action.preference.body.setting);\n\t\t\t} catch (e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.GRID_SETTING_UPDATE:\n\t\t\treturn _extends({}, state, action.value);\n\t}\n\treturn state;\n}\n\n/**\n * visible toolbar buttons\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nfunction visibleToolbarButtons() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.body.visibleToolbarButtons;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\tif (action.value && action.value.length) {\n\t\t\t\treturn Object.assign({}, state, {\n\t\t\t\t\tremoveImage: true,\n\t\t\t\t\tduplicate: true,\n\t\t\t\t\tremoveBlock: true,\n\t\t\t\t\teditColor: true\n\t\t\t\t}, action.isImage && action.value.length === 1 ? {\n\t\t\t\t\tedit: true\n\t\t\t\t} : {\n\t\t\t\t\tedit: false\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn _extends({}, state, {\n\t\t\t\t\tedit: false,\n\t\t\t\t\tremoveImage: false,\n\t\t\t\t\tduplicate: false,\n\t\t\t\t\tremoveBlock: false,\n\t\t\t\t\teditColor: false\n\t\t\t\t});\n\t\t\t}\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tedit: false,\n\t\t\t\tremoveImage: false,\n\t\t\t\tduplicate: false,\n\t\t\t\tremoveBlock: false,\n\t\t\t\teditColor: false\n\t\t\t});\n\n\t\tcase types.GRID_REMOVE_IMAGES:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tedit: false\n\t\t\t});\n\t}\n\treturn state;\n}\n\n/**\n * grid\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nfunction grid() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.setting.body.grid;\n\tvar action = arguments[1];\n\n\tvar newState = null;\n\tvar n = null;\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\tvar _grid = [];\n\t\t\ttry {\n\t\t\t\t_grid = action.preference.body.grid || state;\n\t\t\t} catch (e) {\n\t\t\t\t_grid = state;\n\t\t\t}\n\n\t\t\treturn _grid.map(function (o, k) {\n\t\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\t\treturn _extends({\n\t\t\t\t\tcolor: null\n\t\t\t\t}, o, {\n\t\t\t\t\tindex: lastGridId,\n\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t});\n\t\t\t});\n\n\t\tcase types.GRID_ADD_BLOCK:\n\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\treturn state.concat(_extends({\n\t\t\t\tcolor: null,\n\t\t\t\tlayout: { x: Infinity, y: Infinity, w: 1, h: 1 }\n\t\t\t}, action.value, {\n\t\t\t\tindex: lastGridId,\n\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t}));\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (!action.index || !action.index.length) return state;\n\t\t\tnewState = Object.assign([], state);\n\t\t\tfor (var i = 0; i < action.index.length; i++) {\n\t\t\t\tvar _n = libs.object.findObjectValueInArray(newState, 'index', action.index[i]);\n\t\t\t\tnewState.splice(_n, 1);\n\t\t\t}\n\t\t\treturn newState;\n\n\t\tcase types.GRID_SHUFFLE_BLOCKS:\n\t\t\tshuffleIndex++;\n\t\t\tnewState = Object.assign([], state);\n\t\t\treturn newState.map(function (o, k) {\n\t\t\t\treturn _extends({}, o, {\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tx: libs.number.randomRange(0, action.value.x - 1),\n\t\t\t\t\t\ty: libs.number.randomRange(0, action.value.y - 1),\n\t\t\t\t\t\tw: libs.number.randomRange(1, action.value.w),\n\t\t\t\t\t\th: libs.number.randomRange(1, action.value.h)\n\t\t\t\t\t},\n\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t});\n\t\t\t});\n\n\t\tcase types.GRID_DUPLICATE_BLOCK:\n\t\t\tnewState = Object.assign([], state);\n\t\t\taction.index.forEach(function (o, k) {\n\t\t\t\tn = libs.object.findObjectValueInArray(state, 'index', o);\n\t\t\t\tif (!newState[n]) return;\n\t\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\t\tnewState = newState.concat(_extends({}, newState[n], {\n\t\t\t\t\tindex: lastGridId\n\t\t\t\t}));\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_CHANGE_COLOR:\n\t\t\tnewState = Object.assign([], state);\n\t\t\taction.item.forEach(function (o, k) {\n\t\t\t\tn = libs.object.findObjectValueInArray(newState, 'index', o);\n\t\t\t\tif (newState[n]) newState[n].color = action.color;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.ATTACH_IMAGES:\n\t\t\tif (!libs.object.isArray(action.value)) return state;\n\t\t\tnewState = Object.assign([], state);\n\n\t\t\tif (action.activeBlocks && action.activeBlocks.length) {\n\t\t\t\tnewState.forEach(function (o, k) {\n\t\t\t\t\tif (!action.value.length) return;\n\t\t\t\t\tif (action.activeBlocks.indexOf(o.index) < 0) return;\n\t\t\t\t\to.image = {\n\t\t\t\t\t\tsrc: action.value.splice(0, 1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnewState.forEach(function (o) {\n\t\t\t\t\tif (o.image) return;\n\t\t\t\t\tif (!action.value || !action.value.length) return;\n\t\t\t\t\to.image = {\n\t\t\t\t\t\tsrc: action.value.splice(0, 1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tif (action.value.length) {\n\t\t\t\t\taction.value.forEach(function (o, k) {\n\t\t\t\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\t\t\t\tnewState = newState.concat({\n\t\t\t\t\t\t\tcolor: null,\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: (state.length + k) % action.columns,\n\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\timage: {\n\t\t\t\t\t\t\t\tsrc: o,\n\t\t\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tindex: lastGridId\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newState;\n\n\t\tcase types.ATTACH_IMAGE:\n\t\t\tif (!(action.image && typeof action.image === 'string')) return state;\n\t\t\tif (!(action.index !== null && typeof action.index === 'number')) return state;\n\n\t\t\tnewState = Object.assign([], state);\n\t\t\tn = libs.object.findObjectValueInArray(newState, 'index', action.index);\n\t\t\tnewState[n].image = {\n\t\t\t\tsrc: action.image,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover'\n\t\t\t};\n\n\t\t\treturn newState;\n\n\t\tcase types.GRID_REMOVE_IMAGES:\n\t\t\tnewState = Object.assign([], state);\n\t\t\taction.value.forEach(function (o) {\n\t\t\t\tn = libs.object.findObjectValueInArray(newState, 'index', o);\n\t\t\t\tif (newState[n] && newState[n].image) {\n\t\t\t\t\tdelete newState[n].image;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_UPDATE_BLOCKS:\n\t\t\treturn Object.assign([], state, action.value);\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\tnewState = Object.assign([], state);\n\t\t\tn = libs.object.findObjectValueInArray(state, 'index', action.value.index);\n\n\t\t\tnewState[n].image.position = action.value.position;\n\t\t\tnewState[n].image.size = action.value.size;\n\n\t\t\treturn newState;\n\t}\n\n\treturn state;\n}\n\n/**\n * active block\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nfunction activeBlock() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\tvar action = arguments[1];\n\n\tvar newState = null;\n\n\tswitch (action.type) {\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\treturn action.value;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (action.index && action.index.length) {\n\t\t\t\tnewState = Object.assign([], state);\n\t\t\t\taction.index.forEach(function (o, k) {\n\t\t\t\t\tif (newState.indexOf(o) < 0) return;\n\t\t\t\t\tnewState.splice(newState.indexOf(o), 1);\n\t\t\t\t});\n\t\t\t\treturn newState;\n\t\t\t}\n\t\t\treturn [];\n\t}\n\n\treturn state;\n}\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.setting = setting;\nexports.api = api;\nexports.keyboard = keyboard;\nexports.element = element;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _Keyboard = __webpack_require__(35);\n\nvar _Keyboard2 = _interopRequireDefault(_Keyboard);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction setting() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn Object.assign({}, {\n\t\t\t\tbase: _extends({}, defaults.setting.base, {\n\t\t\t\t\tuploadScript: action.preference.uploadScript || defaults.setting.base.uploadScript,\n\t\t\t\t\tuploadParamsConvertFunc: action.preference.uploadParamsConvertFunc || defaults.setting.base.uploadParamsConvertFunc\n\t\t\t\t}),\n\t\t\t\tside: _extends({}, defaults.setting.side, action.preference.side),\n\t\t\t\tbody: _extends({}, defaults.setting.body, action.preference.body)\n\t\t\t});\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction api() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.api;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction keyboard() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn new _Keyboard2.default();\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction element() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.element;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.visible = visible;\nexports.item = item;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction visible() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn true;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn false;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction item() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.value;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = base;\n\nvar _types = __webpack_require__(3);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar nextFileId = 0;\n\n/**\n * Change active\n *\n * @param {Object} item\n * @param {Number} start\n * @param {Number} end\n * @param {String} type press key name and select type\n * @param {Number} activeCount\n */\nfunction changeActive(item, start, end, type, activeCount) {\n\tswitch (type) {\n\t\tcase 'all':\n\t\t\treturn Object.assign({}, item, { active: true });\n\t\tcase 'none':\n\t\t\treturn Object.assign({}, item, { active: false });\n\t\tcase 'add':\n\t\t\tif (item.id === end) {\n\t\t\t\treturn Object.assign({}, item, { active: !item.active });\n\t\t\t} else {\n\t\t\t\treturn item;\n\t\t\t}\n\t\tcase 'range':\n\t\t\tstart = start || 0;\n\t\t\tif (start < end) {\n\t\t\t\tif (item.id >= start && item.id <= end) {\n\t\t\t\t\treturn Object.assign({}, item, { active: true });\n\t\t\t\t} else {\n\t\t\t\t\treturn Object.assign({}, item, { active: false });\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (item.id <= start && item.id >= end) {\n\t\t\t\t\treturn Object.assign({}, item, { active: true });\n\t\t\t\t} else {\n\t\t\t\t\treturn Object.assign({}, item, { active: false });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn item;\n\t}\n\n\t// not fount key\n\tif (activeCount >= 2 && item.id === end) {\n\t\treturn Object.assign({}, item, { active: true });\n\t} else if (item.id === end) {\n\t\treturn Object.assign({}, item, { active: !item.active });\n\t} else {\n\t\treturn Object.assign({}, item, { active: false });\n\t}\n}\n\n/**\n * Get active items\n *\n * @param {Array} items\n * @return {Array}\n */\nfunction getActiveItems(items) {\n\treturn items.map(function (o) {\n\t\tif (o.active) return o;\n\t});\n}\n\n/**\n * Reducers\n */\n\n// base\nfunction base() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.side;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn _extends({}, state, action.preference.side, {\n\t\t\t\t\tfiles: [].concat(_toConsumableArray(action.preference.side.files.map(function (o) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tid: nextFileId++,\n\t\t\t\t\t\t\timage: o,\n\t\t\t\t\t\t\tactive: false\n\t\t\t\t\t\t};\n\t\t\t\t\t})))\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.SIDE_VISIBLE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tvisible: action.value\n\t\t\t});\n\n\t\tcase types.SIDE_TOGGLE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tvisible: !state.visible\n\t\t\t});\n\n\t\tcase types.SIDE_ADD_FILES:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tfiles: [].concat(_toConsumableArray(state.files), _toConsumableArray(action.files.map(function (o) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: nextFileId++,\n\t\t\t\t\t\timage: o,\n\t\t\t\t\t\tactive: false\n\t\t\t\t\t};\n\t\t\t\t})))\n\t\t\t});\n\n\t\tcase types.SIDE_REMOVE_FILES:\n\t\t\tif (!action.ids.length) return state;\n\t\t\tvar selectItems = [];\n\t\t\tstate.files.forEach(function (o) {\n\t\t\t\tif (action.ids.indexOf(o.id) < 0) selectItems.push(o);\n\t\t\t});\n\t\t\treturn _extends({}, state, {\n\t\t\t\tfiles: selectItems\n\t\t\t});\n\n\t\tcase types.SIDE_CHANGE_ACTIVE_FILE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tfiles: state.files.map(function (item) {\n\t\t\t\t\treturn changeActive(item, action.start, action.end, action.selectType, getActiveItems(state.files).length);\n\t\t\t\t})\n\t\t\t});\n\n\t\tcase types.SIDE_UPDATE_PROGRESS:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tprogressPercent: action.value\n\t\t\t});\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_44__;\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_45__;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// PhotoLayoutEditor.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 34);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 615826178fef13fb3dd9","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"classnames\",\"commonjs2\":\"classnames\",\"amd\":\"classnames\",\"root\":\"classNames\"}\n// module id = 1\n// module chunks = 0","import * as core from './core';\nimport * as body from './body';\nimport * as cropper from './cropper';\nimport * as side from './side';\nimport * as types from './types';\n\n\nexport {\n\tcore,\n\tcropper,\n\tside,\n\tbody,\n\ttypes,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/index.js","export const INIT_PLE = 'INIT_PLE';\n\nexport const SIDE_VISIBLE = 'SIDE_VISIBLE';\nexport const SIDE_ADD_FILES = 'SIDE_ADD_FILES';\nexport const SIDE_REMOVE_FILES = 'SIDE_REMOVE_FILES';\nexport const SIDE_CHANGE_ACTIVE_FILE = 'SIDE_CHANGE_ACTIVE_FILE';\nexport const SIDE_TOGGLE = 'SIDE_TOGGLE';\nexport const SIDE_UPDATE_PROGRESS = 'SIDE_UPDATE_PROGRESS';\n\nexport const ATTACH_IMAGES = 'ATTACH_IMAGES';\nexport const ATTACH_IMAGE = 'ATTACH_IMAGE';\n\nexport const GRID_ADD_BLOCK = 'GRID_ADD_BLOCK';\nexport const GRID_REMOVE_BLOCK = 'GRID_REMOVE_BLOCK';\nexport const GRID_SHUFFLE_BLOCKS = 'GRID_SHUFFLE_BLOCKS';\nexport const GRID_DUPLICATE_BLOCK = 'GRID_DUPLICATE_BLOCK';\nexport const GRID_UPDATE_BLOCKS = 'GRID_UPDATE_BLOCKS';\nexport const GRID_ACTIVE_BLOCK = 'GRID_ACTIVE_BLOCK';\nexport const GRID_SETTING_UPDATE = 'GRID_SETTING_UPDATE';\nexport const GRID_CHANGE_COLOR = 'GRID_CHANGE_COLOR';\nexport const GRID_REMOVE_IMAGES = 'GRID_REMOVE_IMAGES';\n\nexport const CROPPER_OPEN = 'CROPPER_OPEN';\nexport const CROPPER_CLOSE = 'CROPPER_CLOSE';\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/types.js","import * as util from './util';\nimport * as number from './number';\nimport * as object from './object';\nimport * as color from './color';\nimport uploader from './uploader';\n\n\nexport {\n\tutil,\n\tnumber,\n\tcolor,\n\tobject,\n\tuploader\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}\n// module id = 5\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\",\"root\":\"PropTypes\"}\n// module id = 6\n// module chunks = 0","\nexport const setting = {\n\n\tbase: {\n\t\tuploadScript: null,\n\t\tuploadParamsConvertFunc: null,\n\t},\n\tbody: {\n\t\tsetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t\tbgColor: 'rgba(255,255,255,1)',\n\t\t},\n\t\tblockColor: 'rgba(211,211,211,1)',\n\t\tgrid: [\n\t\t\t{ layout: { x: 0, y: 0, w: 2, h: 2 } },\n\t\t\t{ layout: { x: 2, y: 0, w: 1, h: 2 } },\n\t\t\t{ layout: { x: 3, y: 0, w: 2, h: 1 } },\n\t\t\t{ layout: { x: 3, y: 1, w: 1, h: 1 } },\n\t\t],\n\t},\n\tside: {\n\t\tfiles: [],\n\t\tvisible: true,\n\t\tprogressPercent: null,\n\t},\n\n};\n\n\nexport const side = {\n\tfiles: [],\n\tvisible: true,\n\tprogressPercent: null,\n};\n\n\nexport const body = {\n\tvisibleToolbarButtons: {\n\t\tsetting: true,\n\t\tshuffle: true,\n\t\tadd: true,\n\t\tselect: true,\n\t\tedit: false,\n\t\tremoveImage: false,\n\t\tduplicate: false,\n\t\tremoveBlock: false,\n\t\teditColor: false,\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/defaults.js","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"redux\",\"commonjs2\":\"redux\",\"amd\":\"redux\",\"root\":\"PropTypes\"}\n// module id = 8\n// module chunks = 0","/**\n * Shuffles array in place.\n *\n * @param {Array} input items The array containing the items.\n * @return {Array}\n */\nexport function shuffle(input)\n{\n\tfor (let i = input.length-1; i >=0; i--)\n\t{\n\t\tconst randomIndex = Math.floor(Math.random()*(i+1));\n\t\tconst itemAtIndex = input[randomIndex];\n\t\tinput[randomIndex] = input[i];\n\t\tinput[i] = itemAtIndex;\n\t}\n\treturn input;\n}\n\n/**\n * Find object value in array\n *\n * @param {Array} array\n * @param {String} key\n * @param {Number|String} value\n * @return {Number}\n */\nexport function findObjectValueInArray(array=[], key='index', value=null)\n{\n\tfor (let i = 0; i < array.length; i++)\n\t{\n\t\tif (array[i][key] === value) return i;\n\t}\n}\n\n/**\n * is array\n *\n * @param {Array} arr\n * @return {Boolean}\n */\nexport function isArray(arr=[])\n{\n\treturn !!(arr && arr.length);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/object.js","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-simple-colorpicker\",\"commonjs2\":\"react-simple-colorpicker\",\"amd\":\"react-simple-colorpicker\",\"root\":\"PropTypes\"}\n// module id = 10\n// module chunks = 0","import Layout from './Layout';\nimport Side from './Side';\nimport Grid from './Grid';\nimport Cropper from './Cropper';\n\n\nexport default function API(store) {\n\n\tthis.layout = new Layout(store);\n\tthis.side = new Side(store);\n\tthis.grid = new Grid(store);\n\tthis.cropper = new Cropper(store);\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/index.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\n\nimport * as actions from '../actions';\n\nimport Body from './Body';\nimport Side from './Side';\nimport Cropper from './Cropper';\n\n\nclass Container extends React.Component {\n\n\tstatic displayName = 'Container';\n\n\tstatic defaultProps = {\n\t\tparent: {},\n\t\tdispatch: null,\n\t\ttree: {},\n\t\tsetting: null,\n\t};\n\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\tthis.el = null;\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tconst { props } = this;\n\n\t\tprops.dispatch(actions.core.init(\n\t\t\tprops.parent.api,\n\t\t\tprops.parent.preference || { side: {}, grid: {} },\n\t\t\tthis.el\n\t\t));\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={(r) => { this.el = r; }}\n\t\t\t\tclassName={classNames('ple-editor', { 'ple-side-active': props.tree.side.visible })}>\n\t\t\t\t{props.setting && (\n\t\t\t\t\t<div className=\"ple-wrap\">\n\t\t\t\t\t\t<Body/>\n\t\t\t\t\t\t<Side/>\n\t\t\t\t\t\t{props.tree.cropper.visible ? ( <Cropper/> ) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Container);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/index.js","import { combineReducers } from 'redux';\n\nimport * as core from './core';\nimport * as body from './body';\nimport side from './side';\nimport * as cropper from './cropper';\n\n\nexport default combineReducers({\n\n\t// settings\n\tsetting: core.setting,\n\n\t// api\n\tapi: core.api,\n\n\t// keyboard event\n\tkeyboard: core.keyboard,\n\n\t// element\n\telement: core.element,\n\n\t// data tree\n\ttree: combineReducers({\n\t\tside,\n\t\tbody: combineReducers({\n\t\t\tsetting: body.setting,\n\t\t\tvisibleToolbarButtons: body.visibleToolbarButtons,\n\t\t\tgrid: body.grid,\n\t\t\tactiveBlock: body.activeBlock,\n\t\t}),\n\t\tcropper: combineReducers({\n\t\t\tvisible: cropper.visible,\n\t\t\titem: cropper.item,\n\t\t})\n\t}),\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/index.js","import * as actions from '../actions';\nimport * as libs from '../lib';\n\n\nexport default function Cropper(store) {\n\n\tthis.open = function(index)\n\t{\n\t\tconst state = store.getState();\n\t\tlet item = null;\n\n\t\ttry {\n\t\t\tconst n = libs.object.findObjectValueInArray(state.tree.body.grid, 'index', index);\n\t\t\tif (typeof n !== 'number') throw 'Not found item';\n\t\t\titem = state.tree.body.grid[n];\n\t\t\tif (!item.image) throw 'Not found image in item';\n\t\t} catch(e) {\n\t\t\talert(e);\n\t\t\treturn;\n\t\t}\n\n\t\tstore.dispatch(actions.cropper.open(item));\n\t};\n\n\tthis.close = function()\n\t{\n\t\tconsole.log('close cropper');\n\n\t\tstore.dispatch(actions.cropper.close());\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Cropper.js","import * as actions from '../actions';\n\n\nexport default function Grid(store) {\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Grid.js","import * as actions from '../actions';\n\n\nexport default function Layout(store) {\n\n\t/**\n\t * Toggle side\n\t *\n\t * @param {Boolean|undefined} sw\n\t */\n\tthis.toggleSide = function(sw)\n\t{\n\t\ttry {\n\t\t\tconst currentSw = store.getState().tree.side.visible;\n\t\t\tconst targetSw = (typeof sw === 'undefined') ? !currentSw : sw;\n\n\t\t\tstore.dispatch(actions.side.visible(targetSw));\n\t\t} catch(e) {\n\t\t\tconsole.warn('Error action', e)\n\t\t}\n\t};\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Layout.js","import $ from 'jquery/dist/jquery.slim';\n\nimport * as actions from '../actions';\nimport * as lib from '../lib';\n\n\nexport default function Side(store) {\n\n\tthis.uploading = false;\n\n\t/**\n\t * Add files\n\t *\n\t * @param {Array} files\n\t */\n\tthis.add = function(files)\n\t{\n\t\tif (!(files instanceof Array)) return;\n\n\t\tstore.dispatch(actions.side.addFiles(files));\n\t};\n\n\t/**\n\t * Upload files\n\t *\n\t * @param {FileList} files\n\t * @param {Object} callbacks\n\t */\n\tthis.upload = function(files, callbacks={})\n\t{\n\t\t/**\n\t\t * @param {Function} callbacks.start\n\t\t * @param {Function} callbacks.complete\n\t\t * @param {Function} callbacks.completeAll\n\t\t * @param {Function} callbacks.fail\n\t\t */\n\t\tif (this.uploading) return;\n\n\t\tconst defer = $.Deferred();\n\t\tconst state = store.getState();\n\t\tthis.uploading = true;\n\n\t\tif (callbacks.start) callbacks.start();\n\n\t\tlib.uploader(files, state.setting.base.uploadScript)\n\t\t\t.progress((type, res) => {\n\t\t\t\tswitch(type)\n\t\t\t\t{\n\t\t\t\t\tcase 'start':\n\t\t\t\t\t\tstore.dispatch(actions.side.updateProgress(0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'progress':\n\t\t\t\t\t\tconst percent = parseInt((res.loaded / res.total * 100));\n\t\t\t\t\t\tstore.dispatch(actions.side.updateProgress(percent));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'done':\n\t\t\t\t\t\tstore.dispatch(actions.side.updateProgress(null));\n\t\t\t\t\t\tif (!res.data) return;\n\t\t\t\t\t\tif (state.setting.base.uploadParamsConvertFunc)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet result = state.setting.base.uploadParamsConvertFunc(res.data);\n\t\t\t\t\t\t\tstore.dispatch(actions.side.addFiles([result]));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstore.dispatch(actions.side.addFiles([res.data.url]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (callbacks.complete) callbacks.complete(res.data);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.done(() => {\n\t\t\t\tthis.uploading = false;\n\t\t\t\tif (callbacks.completeAll) callbacks.completeAll();\n\t\t\t})\n\t\t\t.fail((error) => {\n\t\t\t\tthis.uploading = false;\n\t\t\t\tif (callbacks.fail) callbacks.fail(error);\n\t\t\t});\n\n\t\treturn defer.promise();\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Side.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactGridLayout from 'react-grid-layout';\nimport classNames from 'classnames';\n\nimport * as actions from '../../../actions';\nimport * as libs from '../../../lib';\n\n\nlet timeStamp = [];\n\n\nclass GridLayout extends React.Component {\n\n\tstatic displayName = 'GridLayout';\n\n\tstatic defaultProps = {\n\t\ttree: null,\n\t\tdispatch: null,\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t}\n\n\t/**\n\t * On select block\n\t *\n\t * @param {Number} id\n\t * @param {boolean} isImage\n\t */\n\t_selectBlock(id=null, isImage=false)\n\t{\n\t\tconst { props } = this;\n\n\t\tif (id === null)\n\t\t{\n\t\t\tprops.dispatch(actions.body.activeBlock([], false));\n\t\t\treturn;\n\t\t}\n\n\t\tswitch(props.keyboard.keyName)\n\t\t{\n\t\t\tcase 'CMD':\n\t\t\tcase 'CTRL':\n\t\t\tcase 'SHIFT':\n\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock))\n\t\t\t\t{\n\t\t\t\t\tlet newActiveBlock = Object.assign([], props.tree.body.activeBlock);\n\t\t\t\t\tif (newActiveBlock.indexOf(id) > -1)\n\t\t\t\t\t{\n\t\t\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(id), 1);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tnewActiveBlock.push(id);\n\t\t\t\t\t}\n\t\t\t\t\tprops.dispatch(actions.body.activeBlock(newActiveBlock, isImage));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tprops.dispatch(actions.body.activeBlock([id], isImage));\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tprops.dispatch(actions.body.activeBlock([id], isImage));\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * On update blocks\n\t *\n\t * @param {String} type\n\t * @param {Array} layout\n\t */\n\t_updateBlocks(type, layout)\n\t{\n\t\tconst { props } = this;\n\n\t\tswitch(type)\n\t\t{\n\t\t\tcase 'start':\n\t\t\t\ttimeStamp[0] = new Date().getTime();\n\t\t\t\tbreak;\n\n\t\t\tcase 'end':\n\t\t\t\ttimeStamp[1] = new Date().getTime();\n\t\t\t\tif (timeStamp[1] - timeStamp[0] > 400)\n\t\t\t\t{\n\t\t\t\t\tlet newGrid = props.tree.body.grid.map((o, k) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...o,\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: layout[k].x,\n\t\t\t\t\t\t\t\ty: layout[k].y,\n\t\t\t\t\t\t\t\tw: layout[k].w,\n\t\t\t\t\t\t\t\th: layout[k].h,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tprops.dispatch(actions.body.updateBlocks(newGrid));\n\t\t\t\t}\n\t\t\t\ttimeStamp = [];\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * Render item\n\t *\n\t * @param {Object} item\n\t * @param {Number} n\n\t * @return {Component}\n\t */\n\trenderItem(item, n)\n\t{\n\t\tconst { props } = this;\n\t\tconst { activeBlock } = props.tree.body;\n\n\t\tlet key = `${item.indexPrefix}__${item.index}`;\n\t\tlet active = !!(activeBlock && activeBlock.length && activeBlock.indexOf(item.index) > -1);\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={key}\n\t\t\t\tdata-grid={item.layout}\n\t\t\t\tdata-index={item.index}\n\t\t\t\tonClick={(event) => {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tthis._selectBlock(item.index, !!item.image);\n\t\t\t\t}}\n\t\t\t\tstyle={{ backgroundColor: item.color || props.setting.body.blockColor }}\n\t\t\t\tclassName={classNames({ 'ple-grid__item-active': active })}>\n\t\t\t\t{item.image && (\n\t\t\t\t\t<figure\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundImage: `url('${item.image.src}')`,\n\t\t\t\t\t\t\tbackgroundPosition: item.image.position,\n\t\t\t\t\t\t\tbackgroundSize: item.image.size,\n\t\t\t\t\t\t}}/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\t\tconst { setting } = props.tree.body;\n\t\tconst bodyWidth = (setting.width * setting.column) +\n\t\t\t(setting.innerMargin * (setting.column-1)) +\n\t\t\t(setting.outerMargin * 2);\n\n\t\treturn (\n\t\t\t<div className=\"ple-grid__wrap\" onClick={() => this._selectBlock()}>\n\t\t\t\t<ReactGridLayout\n\t\t\t\t\tautoSize={true}\n\t\t\t\t\tcols={setting.column}\n\t\t\t\t\trowHeight={setting.height}\n\t\t\t\t\twidth={bodyWidth}\n\t\t\t\t\tmargin={[setting.innerMargin, setting.innerMargin]}\n\t\t\t\t\tcontainerPadding={[setting.outerMargin, setting.outerMargin]}\n\t\t\t\t\tverticalCompact={!setting.freeMode}\n\t\t\t\t\tonDragStart={() => this._updateBlocks('start', null)}\n\t\t\t\t\tonDragStop={(layout) => this._updateBlocks('end', layout)}\n\t\t\t\t\tonResizeStart={() => this._updateBlocks('start', null)}\n\t\t\t\t\tonResizeStop={(layout) => this._updateBlocks('end', layout)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: `${bodyWidth}px`,\n\t\t\t\t\t\tbackgroundColor: setting.bgColor\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"ple-grid\">\n\t\t\t\t\t{props.tree.body.grid.map(this.renderItem.bind(this))}\n\t\t\t\t</ReactGridLayout>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(GridLayout);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/GridLayout/index.js","import React from 'react';\nimport classNames from 'classnames';\n\n\nexport default class Button extends React.Component {\n\n\tstatic displayName = 'Button';\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div className={classNames('ple-toolbar__block', props.className)}>\n\t\t\t\t<button type=\"button\" title={props.title} onClick={props.onClick}>\n\t\t\t\t\t<i className={classNames('ple-sp-ico', 'ple-abs', props.iconClass)}>{props.title}</i>\n\t\t\t\t</button>\n\t\t\t\t{!!props.children && (\n\t\t\t\t\t<div className=\"ple-toolbar__pop\">{props.children}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/Button.js","import React from 'react';\nimport $ from 'jquery/dist/jquery.slim';\nimport ColorPicker from 'react-simple-colorpicker';\nimport className from 'classnames';\n\n\nexport default class EditLayoutSetting extends React.Component {\n\n\tstatic displayName = 'EditLayoutSetting';\n\n\tstatic defaultProps = {\n\t\tsubmit: (e) => {},\n\t\tsetting: null,\n\t\tdefaultSetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t\tbgColor: 'rgba(255,255,255,1)',\n\t\t},\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t...props.defaultSetting,\n\t\t\t...props.setting,\n\t\t\tpopup_bgColor: false,\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps()\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.setState({\n\t\t\t...props.defaultSetting,\n\t\t\t...props.setting,\n\t\t});\n\t}\n\n\tactiveBgColorPopup(sw, e)\n\t{\n\t\tconst { state } = this;\n\t\tconst cTarget = e ? e.currentTarget : null;\n\n\t\tsw = sw || !state.popup_bgColor;\n\n\t\tif (sw)\n\t\t{\n\t\t\t$(document).on('click.pleEditBgColor', (e) => {\n\t\t\t\tif ($(e.target).closest('.ple-edit-bgColor__popup').length) return;\n\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget))\n\t\t\t\t{\n\t\t\t\t\tthis.activeBgColorPopup(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(document).off('click.pleEditBgColor');\n\t\t}\n\n\t\tthis.setState({ popup_bgColor: sw });\n\t}\n\n\t_submit(e)\n\t{\n\t\te.preventDefault();\n\t\tthis.props.submit(this.state);\n\t}\n\n\t_reset()\n\t{\n\t\tthis.setState({\n\t\t\t...this.props.defaultSetting\n\t\t});\n\t}\n\n\t_change(e)\n\t{\n\t\tswitch(e.target.type) {\n\t\t\tcase 'text':\n\t\t\t\tthis.setState({ [e.target.name]: e.target.value });\n\t\t\t\tbreak;\n\t\t\tcase 'number':\n\t\t\t\tthis.setState({ [e.target.name]: parseInt(e.target.value) });\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t_openBgColorPicker(e)\n\t{\n\t\te.persist();\n\t\tconst { state } = this;\n\t\tthis.activeBgColorPopup(null, e);\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\n\t\treturn (\n\t\t\t<form onSubmit={this._submit.bind(this)} className=\"ple-edit-setting\">\n\t\t\t\t<fieldset className=\"ple-edit-setting__form\">\n\t\t\t\t\t<legend>Settings form</legend>\n\t\t\t\t\t<h1 className=\"ple-edit-setting__title\">Settings</h1>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_width\">Width</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"width\" id=\"frm_width\"\n\t\t\t\t\t\t\t\tmin={1} max={999} maxLength={3}\n\t\t\t\t\t\t\t\tvalue={state.width}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired/>\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_height\">Height</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"height\" id=\"frm_height\"\n\t\t\t\t\t\t\t\tmin={1} max={999}\n\t\t\t\t\t\t\t\tvalue={state.height}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired/>\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_column\">Column</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"column\" id=\"frm_column\"\n\t\t\t\t\t\t\t\tmin={1} max={99}\n\t\t\t\t\t\t\t\tvalue={state.column}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>ea</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl className=\"ple-type-input\">\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_outerMargin\">Outer margin</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"outerMargin\" id=\"frm_outerMargin\"\n\t\t\t\t\t\t\t\tmin={0} max={500}\n\t\t\t\t\t\t\t\tvalue={state.outerMargin}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl className=\"ple-type-input\">\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_innerMargin\">Inner margin</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"innerMargin\" id=\"frm_innerMargin\"\n\t\t\t\t\t\t\t\tmin={0} max={500}\n\t\t\t\t\t\t\t\tvalue={state.innerMargin}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_bgColor\">Bg color</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<div className=\"ple-edit-bgColor\">\n\t\t\t\t\t\t\t\t<span className={className('ple-edit-bgColor__inputBox', {\n\t\t\t\t\t\t\t\t\t'ple-edit-bgColor__inputBox-active': state.popup_bgColor\n\t\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"bgColor\"\n\t\t\t\t\t\t\t\t\t\tid=\"frm_bgColor\"\n\t\t\t\t\t\t\t\t\t\tvalue={state.bgColor}\n\t\t\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\t\t\tonClick={this._openBgColorPicker.bind(this)}\n\t\t\t\t\t\t\t\t\t\treadOnly={true}\n\t\t\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\t\t\tclassName=\"ple-edit-bgColor__input\"\n\t\t\t\t\t\t\t\t\t    style={{ backgroundColor: state.bgColor }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{state.popup_bgColor && (\n\t\t\t\t\t\t\t\t\t<div className=\"ple-edit-bgColor__popup\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"ple-edit-bgColor__picker\">\n\t\t\t\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(color) => this.setState({ bgColor: color })}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor={state.bgColor}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_freeMode\">Free mode</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-checkbox\">\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\" name=\"freeMode\" id=\"frm_freeMode\"\n\t\t\t\t\t\t\t\t\tonChange={() => this.setState({ freeMode: true })}\n\t\t\t\t\t\t\t\t\tchecked={state.freeMode}/>\n\t\t\t\t\t\t\t\t<span>true</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\" name=\"freeMode\"\n\t\t\t\t\t\t\t\t\tonChange={() => this.setState({ freeMode: false })}\n\t\t\t\t\t\t\t\t\tchecked={!state.freeMode}/>\n\t\t\t\t\t\t\t\t<span>false</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t</fieldset>\n\n\t\t\t\t<nav className=\"ple-edit-setting__buttons\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<button type=\"button\" onClick={this._reset.bind(this)}>Reset</button>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<button type=\"submit\" className=\"ple-submit\">Apply</button>\n\t\t\t\t\t</span>\n\t\t\t\t</nav>\n\t\t\t</form>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/EditLayoutSetting.js","import React from 'react';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport $ from 'jquery/dist/jquery.slim';\nimport ColorPicker from 'react-simple-colorpicker';\n\nimport { findObjectValueInArray } from '../../../lib/object';\nimport * as actions from '../../../actions';\nimport * as libs from '../../../lib';\n\nimport Button from './Button';\nimport EditLayoutSetting from './EditLayoutSetting';\n\n\nclass Toolbar extends React.Component {\n\n\tstatic displayName = 'Toolbar';\n\n\tstatic defaultProps = {\n\t\tdispatch: null,\n\t\ttree: null,\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactive: {\n\t\t\t\tsetting: false,\n\t\t\t\teditBlockColor: false,\n\t\t\t}\n\t\t}\n\t}\n\n\tchangeActive(keyName, userSW, event)\n\t{\n\t\tconst { state } = this;\n\t\tconst sw = userSW || !state.active[keyName];\n\t\tconst cTarget = event ? event.currentTarget : null;\n\n\t\tif (sw)\n\t\t{\n\t\t\t$(document).on('click.pleToolbar', (e) => {\n\t\t\t\tif ($(e.target).closest('.ple-toolbar__pop').length) return;\n\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget))\n\t\t\t\t{\n\t\t\t\t\tthis.changeActive(keyName, false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(document).off('click.pleToolbar');\n\t\t}\n\n\t\tthis.setState({\n\t\t\tactive: {\n\t\t\t\t...state.active,\n\t\t\t\tsetting: false,\n\t\t\t\teditColor: false,\n\t\t\t\t[keyName] : sw,\n\t\t\t}\n\t\t});\n\t}\n\n\tdeactivate()\n\t{\n\t\t$(document).off('click.pleToolbar');\n\t\treturn new Promise((reject) => {\n\t\t\tthis.setState({\n\t\t\t\tactive: {\n\t\t\t\t\tsetting: false,\n\t\t\t\t\teditColor: false,\n\t\t\t\t}\n\t\t\t}, reject);\n\t\t});\n\t}\n\n\tsubmitEditSetting(state)\n\t{\n\t\tthis.props.dispatch(actions.body.updateSetting(state));\n\t\tthis.changeActive('setting', false);\n\t\treturn false;\n\t}\n\n\t_onClickEdit()\n\t{\n\t\tconst { props } = this;\n\t\tprops.api.cropper.open(props.tree.body.activeBlock[0]);\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\t\tconst visible = props.tree.body.visibleToolbarButtons;\n\t\tlet activeBlockColor = '#fff';\n\n\t\tif (libs.object.isArray(props.tree.body.grid))\n\t\t{\n\t\t\tif (libs.object.isArray(props.tree.body.activeBlock))\n\t\t\t{\n\t\t\t\tconst n = findObjectValueInArray(props.tree.body.grid, 'index', props.tree.body.activeBlock[0]);\n\t\t\t\tactiveBlockColor = (props.tree.body.grid[n] && props.tree.body.grid[n].color) ?\n\t\t\t\t\tprops.tree.body.grid[n].color :\n\t\t\t\t\tprops.setting.body.blockColor;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<nav className=\"ple-toolbar\">\n\t\t\t\t<div className=\"ple-toolbar__wrap\">\n\t\t\t\t\t{visible.setting && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-setting\"\n\t\t\t\t\t\t\tclassName={classNames('ple-edit-setting', {\n\t\t\t\t\t\t\t\t'ple-toolbar__block-active': state.active.setting\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.setting)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.deactivate().then(() => {\n\t\t\t\t\t\t\t\t\t\tthis.changeActive('setting', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Edit preference\">\n\t\t\t\t\t\t\t<EditLayoutSetting\n\t\t\t\t\t\t\t\tsubmit={this.submitEditSetting.bind(this)}\n\t\t\t\t\t\t\t\tsetting={props.tree.body.setting}\n\t\t\t\t\t\t\t\tdefaultSetting={props.setting.body.setting}/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.shuffle && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-arrow-random\"\n\t\t\t\t\t\t\tonClick={() => props.dispatch(actions.body.shuffleBlocks({\n\t\t\t\t\t\t\t\tx: props.tree.body.setting.column,\n\t\t\t\t\t\t\t\ty: 2,\n\t\t\t\t\t\t\t\tw: 2,\n\t\t\t\t\t\t\t\th: 2\n\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\ttitle=\"Shuffle block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.add && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-plus\"\n\t\t\t\t\t\t\tonClick={() => props.dispatch(actions.body.addBlock({\n\t\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\t\t//x: randomRange(0, tree.body.setting.column-1),\n\t\t\t\t\t\t\t\t\tx: props.tree.body.grid.length % props.tree.body.setting.column,\n\t\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\ttitle=\"Add block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.select && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-select\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(null));\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet newActiveBlock = [];\n\t\t\t\t\t\t\t\tlet isImage = !!(props.tree.body.grid[0] && props.tree.body.grid[0].image);\n\t\t\t\t\t\t\t\tprops.tree.body.grid.forEach((o) => newActiveBlock.push(o.index));\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(newActiveBlock, isImage));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Toggle select block\"/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{visible.edit && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-pencil\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={this._onClickEdit.bind(this)}\n\t\t\t\t\t\t\ttitle=\"Edit block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.removeImage && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-empty\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => props.dispatch(actions.body.removeImages(props.tree.body.activeBlock))}\n\t\t\t\t\t\t\ttitle=\"Remove image in block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.duplicate && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-duplicate\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.duplicateBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Duplicate block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.removeBlock && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-trash\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.removeBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Remove block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.editColor && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-palette\"\n\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\t'ple-edit-color',\n\t\t\t\t\t\t\t\t'ple-toolbar__block-key',\n\t\t\t\t\t\t\t\t{ 'ple-toolbar__block-active': state.active.editColor }\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.editColor)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.deactivate().then(() => this.changeActive('editColor', null, e));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Change color\">\n\t\t\t\t\t\t\t<div className=\"ple-colorPicker__wrap\">\n\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\tonChange={(color) => {\n\t\t\t\t\t\t\t\t\t\tif (!color) return;\n\t\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.changeColorBlock(props.tree.body.activeBlock, color));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcolor={activeBlockColor}\n\t\t\t\t\t\t\t\t\tclassName=\"ple-colorPicker__body\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Toolbar);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/index.js","import React from 'react';\n\nimport GridLayout from \"./GridLayout\";\nimport Toolbar from './Toolbar';\n\n\nexport default class Body extends React.Component {\n\n\tstatic displayName = 'Body';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ple-container\">\n\t\t\t\t<div className=\"ple-body\">\n\t\t\t\t\t<Toolbar/>\n\t\t\t\t\t<GridLayout/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/index.js","import React from 'react';\nimport ReactDom from 'react-dom';\nimport $ from 'jquery/dist/jquery.slim';\nimport classNames from 'classnames';\n\nimport { util } from '../../lib';\n\n\nconst controlEvent = {\n\tstart: (util.isTouchDevice()) ? 'touchstart' : 'mousedown',\n\tmove: (util.isTouchDevice()) ? 'touchmove' : 'mousemove',\n\tend: (util.isTouchDevice()) ? 'touchend' : 'mouseup',\n};\n\n\nexport default class Block extends React.Component {\n\n\tstatic displayName = 'Block';\n\n\tstatic defaultProps = {\n\t\tsrc: '',\n\t\tposition: '',\n\t\tsize: '',\n\t\tbgColor: '#fff',\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tposition: props.position,\n\t\t\tsize: props.size,\n\t\t\tisCover: props.size === 'cover',\n\t\t};\n\n\t\tthis.$self = null;\n\t\tthis.$img = null;\n\t\tthis.moveStartInfo = {};\n\t\tthis.resizeStartInfo = {};\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\t// set dom\n\t\tthis.$self = $(ReactDom.findDOMNode(this.refs.self));\n\t}\n\n\tcomponentWillReceiveProps(nextProps)\n\t{\n\t\tconst { props } = this;\n\n\t\tif (props.size !== nextProps.size)\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tposition: nextProps.position,\n\t\t\t\tsize: nextProps.size,\n\t\t\t\tisCover: nextProps.size === 'cover',\n\t\t\t});\n\t\t}\n\t}\n\n\t_moveStart(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst { state } = this;\n\n\t\t// set image element\n\t\tthis.$img = this.$self.find('img');\n\n\t\tthis.moveStartInfo = {\n\t\t\tcontainerX: parseInt(state.position.split(' ')[0]),\n\t\t\tcontainerY: parseInt(state.position.split(' ')[1]),\n\t\t\tmouseX : (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + $(window).scrollLeft(),\n\t\t\tmouseY : (e.clientY || e.pageY || e.nativeEvent.touches[0].clientY) + $(window).scrollTop(),\n\t\t};\n\n\t\t$(document)\n\t\t\t.on(`${controlEvent.move}.move`, this._moveIng.bind(this))\n\t\t\t.on(`${controlEvent.end}.move`, this._moveEnd.bind(this));\n\t}\n\t_moveIng(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst evt = (e.type === 'touchmove') ? e.originalEvent.touches[0] : e;\n\t\tlet mouse = {};\n\t\tlet distance = {};\n\n\t\tmouse.x = (evt.clientX || evt.pageX) + $(window).scrollLeft();\n\t\tmouse.y = (evt.clientY || evt.pageY) + $(window).scrollTop();\n\n\t\tdistance.x = this.moveStartInfo.containerX + (mouse.x - this.moveStartInfo.mouseX);\n\t\tdistance.y = this.moveStartInfo.containerY + (mouse.y - this.moveStartInfo.mouseY);\n\n\t\tthis.setState({\n\t\t\tposition: `${parseInt(distance.x)}px ${parseInt(distance.y)}px`\n\t\t});\n\t}\n\t_moveEnd(e)\n\t{\n\t\te.preventDefault();\n\n\t\tthis.$img = null;\n\t\tthis.moveStartInfo = null;\n\n\t\t$(document)\n\t\t\t.off(`${controlEvent.move}.move`)\n\t\t\t.off(`${controlEvent.end}.move`);\n\t}\n\n\t_resizeStart(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst { state } = this;\n\n\t\tthis.$img = this.$self.find('img');\n\t\tthis.resizeStartInfo = {\n\t\t\ttitle: e.currentTarget.title,\n\t\t\twidth: this.$img.width(),\n\t\t\theight: this.$img.height(),\n\t\t\tmouseX : (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + $(window).scrollLeft(),\n\t\t\tposX: parseInt(state.position.split(' ')[0]),\n\t\t\tposY: parseInt(state.position.split(' ')[1]),\n\t\t};\n\n\t\t$(document)\n\t\t\t.on(`${controlEvent.move}.resize`, this._resizeIng.bind(this))\n\t\t\t.on(`${controlEvent.end}.resize`, this._resizeEnd.bind(this));\n\t}\n\t_resizeIng(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tlet size = {};\n\t\tlet position = {};\n\t\tlet ratio = 1;\n\t\tlet distanceHeight = 0;\n\t\tlet evt = (e.type === 'touchmove') ? e.originalEvent.touches[0] : e;\n\n\t\t// set mouse position\n\t\tlet distanceX = (evt.clientX || evt.pageX) + $(window).scrollLeft() - this.resizeStartInfo.mouseX;\n\n\t\t// set position and size\n\t\tswitch(this.resizeStartInfo.title) {\n\t\t\tcase 'resize-lt':\n\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\tbreak;\n\t\t\tcase 'resize-rt':\n\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\tbreak;\n\t\t\tcase 'resize-lb':\n\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tbreak;\n\t\t\tcase 'resize-rb':\n\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\t// set image size\n\n\t\tthis.setState({\n\t\t\tsize: `${parseInt(size.width)}px ${parseInt(size.height)}px`,\n\t\t\tposition: `${parseInt(position.x)}px ${parseInt(position.y)}px`\n\t\t});\n\t}\n\t_resizeEnd(e)\n\t{\n\t\tthis.$img = null;\n\t\tthis.resizeStartInfo = null;\n\n\t\t$(document)\n\t\t\t.off(`${controlEvent.move}.resize`)\n\t\t\t.off(`${controlEvent.end}.resize`);\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\t\tconst size = (state.size !== 'cover') ? state.size.split(' ') : state.size;\n\t\tconst position = state.position.split(' ');\n\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tref=\"self\"\n\t\t\t\tstyle={{ backgroundColor: props.bgColor }}\n\t\t\t\tclassName=\"ple-cropperBlock ple-cropper__block\">\n\t\t\t\t{state.isCover ? (\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{ backgroundImage: `url('${props.src}')` }}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__image ple-cropperBlock__image-cover\"/>\n\t\t\t\t) : (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'ple-cropperBlock__image',\n\t\t\t\t\t\t\t{ 'ple-cropperBlock__image-resize': (props.size !== 'cover') }\n\t\t\t\t\t\t)}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={props.src}\n\t\t\t\t\t\t\tstyle={Object.assign({},\n\t\t\t\t\t\t\t\tstate.size !== 'cover' && {\n\t\t\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\t\t\ttransform: `translate(${position[0]}, ${position[1]})`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\talt=\"image\"/>\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t\t<div\n\t\t\t\t\tonMouseDown={this._moveStart.bind(this)}\n\t\t\t\t\tonTouchStart={this._moveStart.bind(this)}\n\t\t\t\t\tstyle={Object.assign({},\n\t\t\t\t\t\tstate.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\theight: size[1],\n\t\t\t\t\t\t\ttransform: `translate(${position[0]}, ${position[1]})`\n\t\t\t\t\t\t}\n\t\t\t\t\t)}\n\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t'ple-cropperBlock__control',\n\t\t\t\t\t\t{ 'ple-cropperBlock__control-active': (props.size !== 'cover') }\n\t\t\t\t\t)}>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-lt\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-lt\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-rt\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-rt\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-lb\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-lb\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-rb\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-rb\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</figure>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Cropper/Block.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport $ from 'jquery/dist/jquery.slim';\nimport classNames from 'classnames';\n\nimport Block from './Block';\nimport * as actions from '../../actions';\nimport * as lib from '../../lib';\n\n\nclass Cropper extends React.Component {\n\n\tstatic displayName = 'Cropper';\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tconst { cropper } = props.tree;\n\n\t\tthis.imageMeta = null;\n\t\tthis._block = null;\n\t\tthis.$item = $(props.element)\n\t\t\t.find('.react-grid-item')\n\t\t\t.filter(`[data-index=${props.tree.cropper.item.index}]`);\n\n\t\tthis.state = {\n\t\t\tpending: true,\n\t\t\tposition: cropper.item.image.position,\n\t\t\tsize: cropper.item.image.size || 'cover',\n\t\t\twidth: this.$item.width(),\n\t\t\theight: this.$item.height(),\n\t\t\ttop: this.$item.offset().top,\n\t\t\tleft: this.$item.offset().left\n\t\t};\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tconst { props } = this;\n\t\tconst { cropper } = props.tree;\n\n\t\tlib.util.getImageSize(cropper.item.image.src).then((res) => {\n\t\t\tthis.imageMeta = res;\n\t\t\tthis.setState({ pending: false });\n\t\t});\n\t}\n\n\t/**\n\t * on close cropper\n\t * cropper를 닫고, 변경된 이미지를 grid로 보낸다.\n\t *\n\t */\n\t_onClose()\n\t{\n\t\tconst { props } = this;\n\t\tprops.dispatch(actions.cropper.close({\n\t\t\tindex: props.tree.cropper.item.index,\n\t\t\tposition: this._block.state.position,\n\t\t\tsize: this._block.state.size\n\t\t}));\n\t}\n\n\t/**\n\t * toggle image type\n\t * 직접 리사이즈를 사용하는지 기본(꽉채우는..)타입으로 사용할건지 변경하는 액션\n\t *\n\t */\n\t_toggleImageType()\n\t{\n\t\tconst { state, props } = this;\n\n\t\tif (state.size === 'cover')\n\t\t{\n\t\t\tlet targetSize = '';\n\t\t\tlet ratio = 0;\n\t\t\tif (state.height > state.width)\n\t\t\t{\n\t\t\t\tratio = lib.number.getRatioForResize(state.height, this.imageMeta.height);\n\t\t\t\ttargetSize = `${parseInt(this.imageMeta.width * ratio)}px ${state.height}px`;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tratio = lib.number.getRatioForResize(state.width, this.imageMeta.width);\n\t\t\t\ttargetSize = `${state.width}px ${parseInt(this.imageMeta.height * ratio)}px`;\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tposition: '0 0',\n\t\t\t\tsize: targetSize,\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tposition: `50% 50%`,\n\t\t\t\tsize: 'cover',\n\t\t\t});\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\n\t\tif (state.pending) return null;\n\n\t\treturn (\n\t\t\t<div className=\"ple-cropper\">\n\t\t\t\t<span className=\"ple-cropper__bg\"/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: `${state.width}px`,\n\t\t\t\t\t\theight: `${state.height}px`,\n\t\t\t\t\t\ttop: `${state.top}px`,\n\t\t\t\t\t\tleft: `${state.left}px`,\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"ple-cropper__wrap\">\n\t\t\t\t\t<Block\n\t\t\t\t\t\tref={(r) => { this._block = r; }}\n\t\t\t\t\t\tsrc={props.tree.cropper.item.image.src}\n\t\t\t\t\t\tposition={state.position}\n\t\t\t\t\t\tsize={state.size}\n\t\t\t\t\t\tbgColor={props.tree.cropper.item.color || props.setting.body.blockColor}/>\n\t\t\t\t\t<nav className=\"ple-cropper__nav\">\n\t\t\t\t\t\t<button type=\"button\" onClick={this._onClose.bind(this)}>\n\t\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-close ple-abs\">Close cropper</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={this._toggleImageType.bind(this)}\n\t\t\t\t\t\t\tclassName={classNames({\n\t\t\t\t\t\t\t\t'ple-cropper__nav-active': state.size !== 'cover'\n\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-resize ple-abs\">Toggle background size type</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</nav>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Cropper);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Cropper/index.js","import React from 'react';\nimport classNames from 'classnames';\n\nimport * as lib from '../../../lib';\n\n\nexport default class Item extends React.Component {\n\n\tstatic displayName = 'Item';\n\n\tstatic defaultProps = {\n\t\timage: null, // image\n\t\tid: null, // id\n\t\tactive: null, // active item\n\t\tonClick: null, // on click item\n\t\tonDragStart: null, // on drag start\n\t\tonDragEnd: null, // on drag end\n\t\tonTouchStart: null, // on touch start\n\t\tonTouchMove: null, // on touch move\n\t\tonTouchEnd: null, // on touch end\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\tlet attr = Object.assign({},\n\t\t\tlib.util.isTouchDevice() ? {\n\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\tonTouchEnd: props.onTouchEnd\n\t\t\t} : {\n\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\tonDragEnd: props.onDragEnd\n\t\t\t});\n\n\t\treturn (\n\t\t\t<li>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdata-id={props.id}\n\t\t\t\t\tdata-image={props.image}\n\t\t\t\t\tdraggable={true}\n\t\t\t\t\tonClick={props.onClick}\n\t\t\t\t\t{...attr}\n\t\t\t\t\tstyle={{ backgroundImage: `url('${props.image}')` }}\n\t\t\t\t\tclassName={classNames({ 'ple-sideItems__item-active': props.active })}/>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Items/Item.js","import React from 'react';\n\nimport Item from './Item';\n\n\nexport default class Items extends React.Component {\n\n\tstatic displayName = 'Items';\n\n\tstatic defaultProps = {\n\t\tfiles: [], // files\n\t\tonSelect: (id) => {}, // on select event\n\t\tonDragStart: null, // on drag start\n\t\tonDragEnd: null, // on drag end\n\t\tonTouchStart: null, // on touch start\n\t\tonTouchMove: null, // on touch move\n\t\tonTouchEnd: null, // on touch end\n\t\tprogress: null, // on progress number\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div className=\"ple-sideItems\">\n\t\t\t\t<div className=\"ple-sideItems__wrap\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{props.files.map((o, k) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\tkey={k}\n\t\t\t\t\t\t\t\t\tid={o.id}\n\t\t\t\t\t\t\t\t\timage={o.image}\n\t\t\t\t\t\t\t\t\tonDragStart={props.onDragStart}\n\t\t\t\t\t\t\t\t\tonDragEnd={props.onDragEnd}\n\t\t\t\t\t\t\t\t\tonTouchStart={props.onTouchStart}\n\t\t\t\t\t\t\t\t\tonTouchMove={props.onTouchMove}\n\t\t\t\t\t\t\t\t\tonTouchEnd={props.onTouchEnd}\n\t\t\t\t\t\t\t\t\tonClick={() => props.onSelect(o.id)}\n\t\t\t\t\t\t\t\t\tactive={o.active}/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{props.progress !== null && (\n\t\t\t\t\t\t\t<li className=\"ple-sideItems__loading\">\n\t\t\t\t\t\t\t\t<div className=\"ple-sideItems__progress\">\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName=\"ple-sideItems__bar\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ height: `${props.progress}%` }}/>\n\t\t\t\t\t\t\t\t\t<span className=\"ple-sideItems__percent\">{`${props.progress}%`}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Items/index.js","import React from 'react';\n\n\nexport default class SideNavigation extends React.Component {\n\n\tstatic displayName = 'Navigation';\n\n\tstatic defaultProps = {\n\t\tonRemove: () => {},\n\t\tonToggleSelect: () => {},\n\t\tonAttach: () => {},\n\t\tonUpload: () => {},\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttimestamp : Date.now(),\n\t\t};\n\t}\n\n\t/**\n\t * Upload images\n\t *\n\t * @param {Event} e\n\t */\n\tupload(e) {\n\t\tthis.props.onUpload(e.target.files);\n\n\t\tthis.setState({\n\t\t\ttimestamp : Date.now()\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { props, state } = this;\n\n\t\treturn (\n\t\t\t<nav className=\"ple-sideNavigation ple-side__navigation\">\n\t\t\t\t<div className=\"ple-sideNavigation__wrap\">\n\t\t\t\t\t<button type=\"button\" title=\"attach images\" onClick={props.onAttach}>\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-reply ple-abs\">Moving the image to grid block</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" title=\"toggle select\" onClick={props.onToggleSelect}>\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-select ple-abs\">Toggle all select</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span title=\"upload images\" key={state.timestamp}>\n\t\t\t\t\t\t<input type=\"file\" ref=\"inputFile\" onChange={this.upload.bind(this)} multiple />\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-upload ple-abs\">upload images</i>\n\t\t\t\t\t</span>\n\t\t\t\t\t<button type=\"button\" title=\"remove images\" onClick={props.onRemove}>\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-trash ple-abs\">remove images</i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Navigation/index.js","import React, { Component } from 'react';\nimport classNames from 'classnames';\n\n\nexport default class ToggleSideButton extends Component {\n\n\tstatic displayName = 'ToggleSideButton';\n\n\tstatic defaultProps = {\n\t\tshow: false,\n\t\tonClick: () => {}\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={props.onClick}\n\t\t\t\tclassName=\"ple-side__toggle\">\n\t\t\t\t<span>\n\t\t\t\t\t<i className={classNames(\n\t\t\t\t\t\t'ple-sp-ico',\n\t\t\t\t\t\t'ple-abs',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'ple-ico-arrow-right': props.show,\n\t\t\t\t\t\t\t'ple-ico-arrow-left': !props.show\n\t\t\t\t\t\t}\n\t\t\t\t\t)}>\n\t\t\t\t\t\tToggle sidebar\n\t\t\t\t\t</i>\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/ToggleSideButton/index.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport $ from 'jquery/dist/jquery.slim';\n\nimport * as actions from '../../actions';\n\nimport ToggleSideButton from './ToggleSideButton';\nimport Navigation from './Navigation';\nimport Items from './Items';\n\n\nlet firstSelectIdx = null;\n\n\nclass Side extends React.Component {\n\n\tstatic displayName = 'Side';\n\n\tstatic defaultProps = {\n\t\ttree: {}, // data tree in reduce\n\t\tsetting: {}, // setting in reduce\n\t\tapi: {}, // api\n\t\tdispatch: null, // redux dispatch\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.dragTarget = null;\n\t\tthis.dragPosition = [];\n\t\tthis.$gridItems = null;\n\t\tthis.$dragItem = null;\n\t\tthis.uploading = false;\n\t}\n\n\t/**\n\t * get gridster item\n\t * 포인트 위치에 있는 gridster블럭을 가져온다.\n\t *\n\t * @return {Object} gridster item\n\t */\n\tgetGridsterItem()\n\t{\n\t\tconst { props } = this;\n\t\tlet target = null;\n\t\tthis.$gridItems = $(props.element).find('.ple-grid > div');\n\n\t\tthis.$gridItems.each((n, el) => {\n\t\t\tconst $this = $(el);\n\t\t\tconst pos = $this.offset();\n\t\t\tif (pos.left < this.dragPosition[0] &&\n\t\t\t\t(pos.left + $this.width()) > this.dragPosition[0] &&\n\t\t\t\tpos.top < this.dragPosition[1] &&\n\t\t\t\t(pos.top + $this.height()) > this.dragPosition[1])\n\t\t\t{\n\t\t\t\ttarget = $this.data('index');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * On select item\n\t *\n\t * @param {Object} id\n\t */\n\t_selectItem(id)\n\t{\n\t\tconst { props } = this;\n\t\tconst { keyName } = props.keyboard;\n\t\tlet type = null;\n\n\t\tif (keyName !== 'SHIFT')\n\t\t{\n\t\t\tlet currentItem = null;\n\t\t\tprops.tree.side.files.forEach((o, k) => {\n\t\t\t\tif (o.id === id)\n\t\t\t\t{\n\t\t\t\t\tcurrentItem = o;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tfirstSelectIdx = (currentItem.active === true) ? null : id;\n\t\t\tif (!firstSelectIdx && currentItem.active === true)\n\t\t\t{\n\t\t\t\tfirstSelectIdx = currentItem.id;\n\t\t\t}\n\t\t}\n\n\t\tswitch (keyName) {\n\t\t\tcase 'CTRL':\n\t\t\tcase 'CMD':\n\t\t\t\ttype = 'add';\n\t\t\t\tbreak;\n\t\t\tcase 'SHIFT':\n\t\t\t\ttype = 'range';\n\t\t}\n\n\t\tprops.dispatch(actions.side.changeActiveFile(firstSelectIdx, id, type));\n\t}\n\n\t/**\n\t * Remove items\n\t */\n\t_removeItems()\n\t{\n\t\tconst { props } = this;\n\t\tlet activeItems = [];\n\n\t\tif (!props.tree.side.files.length) return;\n\n\t\tprops.tree.side.files.forEach(o => {\n\t\t\tif (o.active) activeItems.push(o.id);\n\t\t});\n\n\t\tif (!activeItems.length)\n\t\t{\n\t\t\tif (confirm('Delete all?'))\n\t\t\t{\n\t\t\t\tprops.tree.side.files.forEach(o => {\n\t\t\t\t\tactiveItems.push(o.id);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tprops.dispatch(actions.side.removeFiles(activeItems));\n\t}\n\n\t/**\n\t * toggle select all items\n\t */\n\t_toggleSelect()\n\t{\n\t\tconst { props } = this;\n\t\tlet type = 'all';\n\n\t\tprops.tree.side.files.some((o) => {\n\t\t\tif (o.active) type = 'none';\n\t\t\treturn o.active;\n\t\t});\n\n\t\tprops.dispatch(actions.side.changeActiveFile(null, null, type));\n\t}\n\n\t/**\n\t * upload\n\t *\n\t * @param {FileList} files\n\t */\n\t_upload(files)\n\t{\n\t\tconst { props } = this;\n\t\tprops.api.side.upload(files);\n\t}\n\n\t/**\n\t * Attach images to grid\n\t */\n\t_attach()\n\t{\n\t\tconst { props } = this;\n\t\tlet selectedImages = [];\n\n\t\tprops.tree.side.files.forEach((o, k) => {\n\t\t\tif (o.active)\n\t\t\t{\n\t\t\t\tselectedImages.push(o.image);\n\t\t\t}\n\t\t});\n\n\t\tif (!selectedImages.length)\n\t\t{\n\t\t\talert('not select image');\n\t\t\treturn;\n\t\t}\n\n\t\tprops.dispatch(actions.body.attachImages(\n\t\t\tselectedImages,\n\t\t\tprops.tree.body.setting.column,\n\t\t\tprops.tree.body.activeBlock\n\t\t));\n\t}\n\n\t_dragStartItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$gridItems = $(props.element).find('.ple-grid > div');\n\t\tthis.$gridItems.on('dragover', (e) => {\n\t\t\te.preventDefault();\n\t\t\tif ($(e.currentTarget).hasClass('ple-grid__item-hover')) return;\n\t\t\t$(e.currentTarget).addClass('ple-grid__item-hover');\n\t\t}).on('dragleave', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t}).on('drop', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t\tthis.dragTarget = $(e.currentTarget).data('index');\n\t\t});\n\t}\n\t_dragEndItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$gridItems.off();\n\t\tthis.$gridItems = null;\n\n\t\t// check drag target\n\t\tif (this.dragTarget === null) return;\n\n\t\t// play redux\n\t\tprops.dispatch(actions.body.attachImage(\n\t\t\tthis.dragTarget,\n\t\t\t$(e.currentTarget).data('image')\n\t\t));\n\n\t\t// empty dragTarget\n\t\tthis.dragTarget = null;\n\t}\n\t_touchStartItem(e)\n\t{\n\t\tthis.$dragItem = $(e.currentTarget)\n\t\t\t.clone()\n\t\t\t.removeAttr('draggable')\n\t\t\t.addClass('ple-side__placeholder')\n\t\t\t.width($(e.currentTarget).width())\n\t\t\t.height($(e.currentTarget).height());\n\n\t\t$('body').append(this.$dragItem);\n\t}\n\t_touchMoveItem(e)\n\t{\n\t\tlet touch = e.nativeEvent.touches[0];\n\t\tthis.dragPosition = [touch.pageX, touch.pageY];\n\t\tthis.$dragItem.css({\n\t\t\tleft: touch.pageX - (this.$dragItem.width() * 0.5),\n\t\t\ttop: touch.pageY - (this.$dragItem.height() * 0.5)\n\t\t});\n\t}\n\t_touchEndItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$dragItem.remove();\n\t\tthis.$dragItem = null;\n\n\t\tif (this.dragPosition.length > 0)\n\t\t{\n\t\t\tthis.dragTarget = this.getGridsterItem();\n\n\t\t\t// check drag target\n\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t// play redux\n\t\t\tprops.dispatch(actions.body.attachImage(\n\t\t\t\tthis.dragTarget,\n\t\t\t\t$(e.currentTarget).data('image')\n\t\t\t));\n\t\t\tthis.dragPosition = [];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._selectItem($(e.currentTarget).data('id'));\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<aside className=\"ple-side\">\n\t\t\t\t<div className={classNames(\n\t\t\t\t\t'ple-side__wrap',\n\t\t\t\t\t{ 'ple-side__wrap-show': props.tree.side.visible }\n\t\t\t\t)}>\n\t\t\t\t\t<span\n\t\t\t\t\t\tonClick={() => props.dispatch(actions.side.changeActiveFile(null, null, 'none'))}\n\t\t\t\t\t\tclassName=\"ple-side__background\"/>\n\t\t\t\t\t<ToggleSideButton\n\t\t\t\t\t\tshow={props.tree.side.visible}\n\t\t\t\t\t\tonClick={() => props.api.layout.toggleSide(undefined)}/>\n\t\t\t\t\t<Navigation\n\t\t\t\t\t\tonAttach={this._attach.bind(this)}\n\t\t\t\t\t\tonToggleSelect={this._toggleSelect.bind(this)}\n\t\t\t\t\t\tonUpload={this._upload.bind(this)}\n\t\t\t\t\t\tonRemove={this._removeItems.bind(this)}/>\n\t\t\t\t\t<Items\n\t\t\t\t\t\tfiles={props.tree.side.files}\n\t\t\t\t\t\tonSelect={this._selectItem.bind(this)}\n\t\t\t\t\t\tonDragStart={this._dragStartItem.bind(this)}\n\t\t\t\t\t\tonDragEnd={this._dragEndItem.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._touchStartItem.bind(this)}\n\t\t\t\t\t\tonTouchMove={this._touchMoveItem.bind(this)}\n\t\t\t\t\t\tonTouchEnd={this._touchEndItem.bind(this)}\n\t\t\t\t\t\tprogress={props.tree.side.progressPercent}/>\n\t\t\t\t</div>\n\t\t\t</aside>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Side);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/index.js","import * as types from './types';\n\n\nexport function addBlock(value)\n{\n\treturn {\n\t\ttype: types.GRID_ADD_BLOCK,\n\t\tvalue: value,\n\t};\n}\n\nexport function removeBlock(index) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_BLOCK,\n\t\tindex,\n\t};\n}\n\nexport function shuffleBlocks(options)\n{\n\treturn {\n\t\ttype: types.GRID_SHUFFLE_BLOCKS,\n\t\tvalue: options,\n\t}\n}\n\nexport function duplicateBlock(index)\n{\n\treturn {\n\t\ttype: types.GRID_DUPLICATE_BLOCK,\n\t\tindex,\n\t};\n}\n\nexport function updateBlocks(blocks)\n{\n\treturn {\n\t\ttype: types.GRID_UPDATE_BLOCKS,\n\t\tvalue: blocks,\n\t}\n}\n\nexport function activeBlock(index, isImage=false)\n{\n\treturn {\n\t\ttype: types.GRID_ACTIVE_BLOCK,\n\t\tvalue: index,\n\t\tisImage: isImage,\n\t};\n}\n\nexport function changeColorBlock(item, color)\n{\n\treturn {\n\t\ttype: types.GRID_CHANGE_COLOR,\n\t\titem,\n\t\tcolor,\n\t}\n}\n\nexport function updateSetting(value)\n{\n\treturn {\n\t\ttype: types.GRID_SETTING_UPDATE,\n\t\tvalue: value,\n\t};\n}\n\nexport function attachImages(images, cols, activeBlocks)\n{\n\treturn {\n\t\ttype: types.ATTACH_IMAGES,\n\t\tvalue: images,\n\t\tcolumns: cols,\n\t\tactiveBlocks: activeBlocks,\n\t}\n}\n\nexport function attachImage(index, image)\n{\n\treturn {\n\t\ttype: types.ATTACH_IMAGE,\n\t\tindex,\n\t\timage,\n\t};\n}\n\nexport function removeImages(ids)\n{\n\treturn {\n\t\ttype: types.GRID_REMOVE_IMAGES,\n\t\tvalue: ids,\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/body.js","import * as types from './types';\n\n\nexport function init(api, preference, element)\n{\n\treturn {\n\t\ttype: types.INIT_PLE,\n\t\tapi,\n\t\tpreference,\n\t\telement,\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/core.js","import * as types from './types';\n\n\nexport function open(item)\n{\n\treturn {\n\t\ttype: types.CROPPER_OPEN,\n\t\tvalue: item,\n\t};\n}\n\nexport function close(options)\n{\n\treturn {\n\t\ttype: types.CROPPER_CLOSE,\n\t\tvalue: options,\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/cropper.js","import * as types from './types';\n\n\n// control visible side bar\nexport function visible(sw)\n{\n\treturn {\n\t\ttype: types.SIDE_VISIBLE,\n\t\tvalue: sw,\n\t};\n}\n\n// toggle side bar\nexport function toggle()\n{\n\treturn {\n\t\ttype: types.SIDE_TOGGLE,\n\t};\n}\n\nexport function addFiles(files)\n{\n\treturn {\n\t\ttype: types.SIDE_ADD_FILES,\n\t\tfiles: files,\n\t};\n}\n\nexport function removeFiles(ids)\n{\n\treturn {\n\t\ttype: types.SIDE_REMOVE_FILES,\n\t\tids: ids,\n\t};\n}\n\nexport function changeActiveFile(start, end, selectType)\n{\n\treturn {\n\t\ttype: types.SIDE_CHANGE_ACTIVE_FILE,\n\t\tstart,\n\t\tend,\n\t\tselectType\n\t};\n}\n\nexport function updateProgress(percent)\n{\n\treturn {\n\t\ttype: types.SIDE_UPDATE_PROGRESS,\n\t\tvalue: percent\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/side.js","import React from 'react';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport Container from './Container';\n\nimport reducers from './reducers';\nimport API from './API';\n\n\nclass PhotoLayoutEditor extends React.Component {\n\n\tstatic displayName = 'PhotoLayoutEditor';\n\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\t// set store\n\t\tthis.store = createStore(reducers);\n\n\t\t// set api\n\t\tthis.api = new API(this.store);\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<Provider store={this.store}>\n\t\t\t\t<Container parent={{ preference: props, api: this.api }}/>\n\t\t\t</Provider>\n\t\t);\n\t}\n\n}\n\nexport default PhotoLayoutEditor;\nmodule.exports = PhotoLayoutEditor;\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/index.js","import $ from 'jquery/dist/jquery.slim';\n\nimport * as libs from '../lib';\n\n\nexport default class Keyboard {\n\n\tconstructor()\n\t{\n\t\tthis.eventName = `PLE_${libs.number.getTimeStamp()}`;\n\t\tthis.code = null;\n\t\tthis.keyName = null;\n\t\tthis.names = {\n\t\t\t17: 'CTRL',\n\t\t\t18: 'ALT',\n\t\t\t91: 'CMD',\n\t\t\t93: 'CMD',\n\t\t\t16: 'SHIFT',\n\t\t};\n\n\t\t// init key down event\n\t\t$(window).on(`keydown.${this.eventName}`, this._keyDown.bind(this));\n\t}\n\n\t/**\n\t * apply\n\t *\n\t * @param {Number} code\n\t */\n\tapply(code)\n\t{\n\t\tthis.code = code;\n\t\tthis.keyName = this.names[this.code] || null;\n\t}\n\n\t/**\n\t * key down event\n\t *\n\t * @param {Event} e\n\t */\n\t_keyDown(e)\n\t{\n\t\t// apply keyCode\n\t\tthis.apply(e.keyCode);\n\n\t\t// set events\n\t\t$(window)\n\t\t\t.on(`keyup.${this.eventName}`, this._keyUp.bind(this))\n\t\t\t.on(`contextmenu.${this.eventName}`, this._keyUp.bind(this))\n\t\t\t.on(`blur.${this.eventName}`, this._keyUp.bind(this))\n\t\t\t.off(`keydown.${this.eventName}`);\n\t}\n\n\t/**\n\t * key up event\n\t *\n\t */\n\t_keyUp()\n\t{\n\t\t// apply keyCode\n\t\tthis.apply(null);\n\n\t\t// set events\n\t\t$(window)\n\t\t\t.on(`keydown.${this.eventName}`, this._keyDown.bind(this))\n\t\t\t.off(`contextmenu.${this.eventName} keyup.${this.eventName} blur.${this.eventName}`);\n\t}\n\n\t/**\n\t * destroy event\n\t *\n\t */\n\tdestroy()\n\t{\n\t\t$(window).off(`keydown.${this.eventName} contextmenu.${this.eventName} keyup.${this.eventName} blur.${this.eventName}`);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/Keyboard.js","/**\n * rgba to hex\n *\n * @param {String} color\n * @return {String}\n */\nexport function rgbToHex(color)\n{\n\tcolor = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n\treturn (color && color.length === 4) ? \"#\" +\n\t\t(\"0\" + parseInt(color[1],10).toString(16)).slice(-2) +\n\t\t(\"0\" + parseInt(color[2],10).toString(16)).slice(-2) +\n\t\t(\"0\" + parseInt(color[3],10).toString(16)).slice(-2) : '';\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/color.js","/**\n * Random range\n * min~max 사이의 랜덤 정수를 반환한다.\n *\n * @param {Number} min\n * @param {Number} max\n * @param {Boolean} useDecimal\n * @return {Number}\n */\nexport function randomRange(min, max, useDecimal=false)\n{\n\tif (useDecimal)\n\t{\n\t\treturn Math.random() * (max - min) + min;\n\t}\n\telse\n\t{\n\t\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n\t}\n}\n\n\n/**\n * get ratio for resize\n * max와 min값의 차이의 비율을 가져온다.\n *\n * @param {Number} min\n * @param {Number} max\n * @return {Number}\n */\nexport function getRatioForResize(min, max)\n{\n\treturn (max > min) ? min / max : max / min;\n}\n\n\n/**\n * Get timestamp\n *\n * @return {Number}\n */\nexport function getTimeStamp()\n{\n\treturn Math.round(+new Date()/1000);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/number.js","import $ from 'jquery/dist/jquery.slim';\n\n\n/**\n * local upload\n *\n * @param {File} file\n * @return {Promise}\n */\nfunction local(file)\n{\n\tconst defer = $.Deferred();\n\tconst reader = new FileReader();\n\n\treader.addEventListener('load', function(e) {\n\t\tdefer.resolve({\n\t\t\tname: file.name,\n\t\t\ttype: file.type,\n\t\t\tsize: file.size,\n\t\t\turl: e.target.result,\n\t\t});\n\t});\n\treader.addEventListener('error', function(e) {\n\t\tdefer.reject(e.target);\n\t});\n\n\treader.readAsDataURL(file);\n\n\treturn defer.promise();\n}\n\n/**\n * external upload\n *\n * @param {String} script\n * @param {File} file\n * @return {Promise}\n */\nfunction external(script, file)\n{\n\tconst defer = $.Deferred();\n\tconst xhr = new XMLHttpRequest();\n\n\tif (!(typeof FormData === 'function' || typeof FormData === 'object'))\n\t{\n\t\tdefer.reject('not support browser', file);\n\t\treturn null;\n\t}\n\tconst formData = new FormData();\n\n\tfunction onLoad(e)\n\t{\n\t\ttry {\n\t\t\tconst result = JSON.parse(e.target.responseText);\n\t\t\tif (result.state === 'success')\n\t\t\t{\n\t\t\t\tdefer.resolve(result.data);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow 'server error';\n\t\t\t}\n\t\t} catch(e) {\n\t\t\tdefer.reject(e);\n\t\t}\n\t}\n\n\tfunction onProgress(event)\n\t{\n\t\tconst { loaded, total } = event;\n\t\tdefer.notify('progress', loaded, total);\n\t}\n\n\tformData.append('files[]', file);\n\txhr.open('post', script, true);\n\n\txhr.addEventListener('load', onLoad);\n\txhr.upload.addEventListener('progress', onProgress);\n\n\txhr.send(formData);\n\n\t// start queue\n\tdefer.notify('start');\n\n\treturn defer.promise();\n}\n\n\n/**\n * upload multiple files\n *\n */\nexport default function uploader(files, script)\n{\n\tconst defer = $.Deferred();\n\tconst total = files.length;\n\tlet count = 0;\n\n\tfunction upload()\n\t{\n\t\tif (count >= total)\n\t\t{\n\t\t\tdefer.resolve();\n\t\t\treturn;\n\t\t}\n\n\t\tif (script)\n\t\t{\n\t\t\texternal(script, files[count])\n\t\t\t\t.done((data) => {\n\t\t\t\t\tdefer.notify('done', { count, data });\n\t\t\t\t\tcount++;\n\t\t\t\t\tupload();\n\t\t\t\t})\n\t\t\t\t.progress((state, loaded, total) => {\n\t\t\t\t\tdefer.notify(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\tstate === 'progress' && { loaded, total },\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.fail((error) => {\n\t\t\t\t\tdefer.reject(error);\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlocal(files[count])\n\t\t\t\t.done((data) => {\n\t\t\t\t\tdefer.notify('done', { count, data });\n\t\t\t\t\tcount++;\n\t\t\t\t\tupload();\n\t\t\t\t})\n\t\t\t\t.fail(() => {});\n\t\t}\n\t}\n\n\tupload(0);\n\n\treturn defer.promise();\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/uploader.js","/**\n * is touch device\n *\n * @returns {boolean}\n */\nexport function isTouchDevice()\n{\n\treturn (\n\t\t('ontouchstart' in window) ||\n\t\t(navigator.MaxTouchPoints > 0) ||\n\t\t(navigator.msMaxTouchPoints > 0)\n\t);\n}\n\n\n/**\n * Sleep\n *\n * @param {Number} time\n * @param {String} id\n * @return {Promise}\n */\nexport function sleep(time, id='pleTimer')\n{\n\treturn new Promise((resolve) => {\n\t\twindow[id] = setTimeout(resolve, time);\n\t});\n}\n\n\n/**\n * Get image size\n *\n * @param {String} src\n * @return {Promise}\n */\nexport function getImageSize(src)\n{\n\treturn new Promise((resolve, reject) => {\n\t\tif (!(src && typeof src === 'string')) reject();\n\n\t\tlet img = document.createElement('img');\n\n\t\timg.onload = function()\n\t\t{\n\t\t\tresolve({\n\t\t\t\twidth: img.naturalWidth,\n\t\t\t\theight: img.naturalHeight,\n\t\t\t\tratio: img.naturalHeight / img.naturalWidth,\n\t\t\t});\n\t\t};\n\n\t\timg.onerror = function()\n\t\t{\n\t\t\treject();\n\t\t};\n\n\t\timg.src = src;\n\t});\n}\n\n\n/**\n * Get css prefix\n *\n * @variation {Object}\n */\nexport const cssPrefix = (function()\n{\n\tconst styles = window.getComputedStyle(document.documentElement, '');\n\tconst pre = (Array.prototype.slice\n\t\t.call(styles)\n\t\t.join('')\n\t\t.match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o'])\n\t)[1];\n\tconst dom = ('WebKit|Moz|MS|O').match(new RegExp('(' + pre + ')', 'i'))[1];\n\n\treturn {\n\t\tdom: dom,\n\t\tlowercase: pre,\n\t\tcss: `-${pre}-`,\n\t\tjs: pre[0].toUpperCase() + pre.substr(1)\n\t};\n})();\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/util.js","import * as types from '../actions/types';\nimport * as libs from '../lib';\nimport * as defaults from './defaults';\n\n\nlet lastGridId = null;\nlet shuffleIndex = 0;\n\n\n/**\n * setting\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nexport function setting(state=defaults.setting.body.setting, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...action.preference.body.setting\n\t\t\t\t};\n\t\t\t} catch(e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.GRID_SETTING_UPDATE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.value,\n\t\t\t};\n\t}\n\treturn state;\n}\n\n/**\n * visible toolbar buttons\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nexport function visibleToolbarButtons(state=defaults.body.visibleToolbarButtons, action)\n{\n\tswitch(action.type) {\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\tif (action.value && action.value.length)\n\t\t\t{\n\t\t\t\treturn Object.assign({},\n\t\t\t\t\tstate,\n\t\t\t\t\t{\n\t\t\t\t\t\tremoveImage: true,\n\t\t\t\t\t\tduplicate: true,\n\t\t\t\t\t\tremoveBlock: true,\n\t\t\t\t\t\teditColor: true,\n\t\t\t\t\t},\n\t\t\t\t\taction.isImage && action.value.length === 1 ? {\n\t\t\t\t\t\tedit: true,\n\t\t\t\t\t} : {\n\t\t\t\t\t\tedit: false,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tedit: false,\n\t\t\t\t\tremoveImage: false,\n\t\t\t\t\tduplicate: false,\n\t\t\t\t\tremoveBlock: false,\n\t\t\t\t\teditColor: false,\n\t\t\t\t};\n\t\t\t}\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tedit: false,\n\t\t\t\tremoveImage: false,\n\t\t\t\tduplicate: false,\n\t\t\t\tremoveBlock: false,\n\t\t\t\teditColor: false,\n\t\t\t};\n\n\t\tcase types.GRID_REMOVE_IMAGES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tedit: false,\n\t\t\t};\n\t}\n\treturn state;\n}\n\n/**\n * grid\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nexport function grid(state=defaults.setting.body.grid, action)\n{\n\tlet newState = null;\n\tlet n = null;\n\n\tswitch (action.type)\n\t{\n\t\tcase types.INIT_PLE:\n\t\t\tlet grid = [];\n\t\t\ttry {\n\t\t\t\tgrid = action.preference.body.grid || state;\n\t\t\t} catch(e) {\n\t\t\t\tgrid = state;\n\t\t\t}\n\n\t\t\treturn grid.map((o, k) => {\n\t\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\t\treturn {\n\t\t\t\t\tcolor: null,\n\t\t\t\t\t...o,\n\t\t\t\t\tindex: lastGridId,\n\t\t\t\t\tindexPrefix: shuffleIndex,\n\t\t\t\t};\n\t\t\t});\n\n\t\tcase types.GRID_ADD_BLOCK:\n\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\treturn state.concat({\n\t\t\t\tcolor: null,\n\t\t\t\tlayout: { x: Infinity, y: Infinity, w: 1, h: 1 },\n\t\t\t\t...action.value,\n\t\t\t\tindex: lastGridId,\n\t\t\t\tindexPrefix: shuffleIndex,\n\t\t\t});\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (!action.index || !action.index.length) return state;\n\t\t\tnewState = Object.assign([], state);\n\t\t\tfor (let i=0; i<action.index.length; i++)\n\t\t\t{\n\t\t\t\tconst n = libs.object.findObjectValueInArray(newState, 'index', action.index[i]);\n\t\t\t\tnewState.splice(n, 1);\n\t\t\t}\n\t\t\treturn newState;\n\n\t\tcase types.GRID_SHUFFLE_BLOCKS:\n\t\t\tshuffleIndex++;\n\t\t\tnewState = Object.assign([], state);\n\t\t\treturn newState.map((o, k) => {\n\t\t\t\treturn {\n\t\t\t\t\t...o,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tx: libs.number.randomRange(0, action.value.x - 1),\n\t\t\t\t\t\ty: libs.number.randomRange(0, action.value.y - 1),\n\t\t\t\t\t\tw: libs.number.randomRange(1, action.value.w),\n\t\t\t\t\t\th: libs.number.randomRange(1, action.value.h),\n\t\t\t\t\t},\n\t\t\t\t\tindexPrefix: shuffleIndex,\n\t\t\t\t};\n\t\t\t});\n\n\t\tcase types.GRID_DUPLICATE_BLOCK:\n\t\t\tnewState = Object.assign([], state);\n\t\t\taction.index.forEach((o, k) => {\n\t\t\t\tn = libs.object.findObjectValueInArray(state, 'index', o);\n\t\t\t\tif (!newState[n]) return;\n\t\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\t\tnewState = newState.concat({\n\t\t\t\t\t...newState[n],\n\t\t\t\t\tindex: lastGridId,\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_CHANGE_COLOR:\n\t\t\tnewState = Object.assign([], state);\n\t\t\taction.item.forEach((o, k) => {\n\t\t\t\tn = libs.object.findObjectValueInArray(newState, 'index', o);\n\t\t\t\tif (newState[n]) newState[n].color = action.color;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.ATTACH_IMAGES:\n\t\t\tif (!libs.object.isArray(action.value)) return state;\n\t\t\tnewState = Object.assign([], state);\n\n\t\t\tif (action.activeBlocks && action.activeBlocks.length)\n\t\t\t{\n\t\t\t\tnewState.forEach((o, k) => {\n\t\t\t\t\tif (!action.value.length) return;\n\t\t\t\t\tif (action.activeBlocks.indexOf(o.index) < 0) return;\n\t\t\t\t\to.image = {\n\t\t\t\t\t\tsrc: action.value.splice(0,1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover',\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tnewState.forEach((o) => {\n\t\t\t\t\tif (o.image) return;\n\t\t\t\t\tif (!action.value || !action.value.length) return;\n\t\t\t\t\to.image = {\n\t\t\t\t\t\tsrc: action.value.splice(0,1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover',\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tif (action.value.length)\n\t\t\t\t{\n\t\t\t\t\taction.value.forEach((o, k) => {\n\t\t\t\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\t\t\t\tnewState = newState.concat({\n\t\t\t\t\t\t\tcolor: null,\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: (state.length + k) % action.columns,\n\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\timage: {\n\t\t\t\t\t\t\t\tsrc: o,\n\t\t\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\t\t\tsize: 'cover',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tindex: lastGridId,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newState;\n\n\t\tcase types.ATTACH_IMAGE:\n\t\t\tif (!(action.image && typeof action.image === 'string')) return state;\n\t\t\tif (!(action.index !== null && typeof action.index === 'number')) return state;\n\n\t\t\tnewState = Object.assign([], state);\n\t\t\tn = libs.object.findObjectValueInArray(newState, 'index', action.index);\n\t\t\tnewState[n].image = {\n\t\t\t\tsrc: action.image,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover',\n\t\t\t};\n\n\t\t\treturn newState;\n\n\t\tcase types.GRID_REMOVE_IMAGES:\n\t\t\tnewState = Object.assign([], state);\n\t\t\taction.value.forEach((o) => {\n\t\t\t\tn = libs.object.findObjectValueInArray(newState, 'index', o);\n\t\t\t\tif (newState[n] && newState[n].image)\n\t\t\t\t{\n\t\t\t\t\tdelete newState[n].image;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_UPDATE_BLOCKS:\n\t\t\treturn Object.assign([], state, action.value);\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\tnewState = Object.assign([], state);\n\t\t\tn = libs.object.findObjectValueInArray(state, 'index', action.value.index);\n\n\t\t\tnewState[n].image.position = action.value.position;\n\t\t\tnewState[n].image.size = action.value.size;\n\n\t\t\treturn newState;\n\t}\n\n\treturn state;\n}\n\n/**\n * active block\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nexport function activeBlock(state=[], action)\n{\n\tlet newState = null;\n\n\tswitch (action.type)\n\t{\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\treturn action.value;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (action.index && action.index.length)\n\t\t\t{\n\t\t\t\tnewState = Object.assign([], state);\n\t\t\t\taction.index.forEach((o, k) => {\n\t\t\t\t\tif (newState.indexOf(o) < 0) return;\n\t\t\t\t\tnewState.splice(newState.indexOf(o), 1);\n\t\t\t\t});\n\t\t\t\treturn newState;\n\t\t\t}\n\t\t\treturn [];\n\t}\n\n\treturn state;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/body.js","import * as types from '../actions/types';\nimport Keyboard from '../lib/Keyboard';\nimport * as defaults from './defaults';\n\n\nexport function setting(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn Object.assign({}, {\n\t\t\t\tbase: {\n\t\t\t\t\t...defaults.setting.base,\n\t\t\t\t\tuploadScript: action.preference.uploadScript || defaults.setting.base.uploadScript,\n\t\t\t\t\tuploadParamsConvertFunc: action.preference.uploadParamsConvertFunc || defaults.setting.base.uploadParamsConvertFunc\n\t\t\t\t},\n\t\t\t\tside: {\n\t\t\t\t\t...defaults.setting.side,\n\t\t\t\t\t...action.preference.side\n\t\t\t\t},\n\t\t\t\tbody: {\n\t\t\t\t\t...defaults.setting.body,\n\t\t\t\t\t...action.preference.body,\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function api(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.api;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function keyboard(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn new Keyboard();\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function element(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.element;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/core.js","import * as types from '../actions/types';\n\n\nexport function visible(state=false, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn true;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn false;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function item(state=null, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.value;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/cropper.js","import * as types from '../actions/types';\nimport * as defaults from './defaults';\n\n\nlet nextFileId = 0;\n\n\n/**\n * Change active\n *\n * @param {Object} item\n * @param {Number} start\n * @param {Number} end\n * @param {String} type press key name and select type\n * @param {Number} activeCount\n */\nfunction changeActive(item, start, end, type, activeCount)\n{\n\tswitch(type)\n\t{\n\t\tcase 'all':\n\t\t\treturn Object.assign({}, item, { active: true });\n\t\tcase 'none':\n\t\t\treturn Object.assign({}, item, { active: false });\n\t\tcase 'add':\n\t\t\tif (item.id === end)\n\t\t\t{\n\t\t\t\treturn Object.assign({}, item, { active: !item.active });\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn item;\n\t\t\t}\n\t\tcase 'range':\n\t\t\tstart = start || 0;\n\t\t\tif (start < end)\n\t\t\t{\n\t\t\t\tif (item.id >= start && item.id <= end)\n\t\t\t\t{\n\t\t\t\t\treturn Object.assign({}, item, { active: true });\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn Object.assign({}, item, { active: false });\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (item.id <= start && item.id >= end)\n\t\t\t\t{\n\t\t\t\t\treturn Object.assign({}, item, { active: true });\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn Object.assign({}, item, { active: false });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn item;\n\t}\n\n\t// not fount key\n\tif (activeCount >= 2 && item.id === end)\n\t{\n\t\treturn Object.assign({}, item, { active: true });\n\t}\n\telse if (item.id === end)\n\t{\n\t\treturn Object.assign({}, item, { active: !item.active });\n\t}\n\telse\n\t{\n\t\treturn Object.assign({}, item, { active: false });\n\t}\n}\n\n/**\n * Get active items\n *\n * @param {Array} items\n * @return {Array}\n */\nfunction getActiveItems(items)\n{\n\treturn items.map(o => {\n\t\tif (o.active) return o;\n\t});\n}\n\n\n/**\n * Reducers\n */\n\n// base\nexport default function base(state=defaults.side, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...action.preference.side,\n\t\t\t\t\tfiles: [\n\t\t\t\t\t\t...action.preference.side.files.map((o) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: nextFileId++,\n\t\t\t\t\t\t\t\timage: o,\n\t\t\t\t\t\t\t\tactive: false,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t} catch(e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.SIDE_VISIBLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvisible: action.value,\n\t\t\t};\n\n\t\tcase types.SIDE_TOGGLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvisible: !state.visible,\n\t\t\t};\n\n\t\tcase types.SIDE_ADD_FILES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfiles: [\n\t\t\t\t\t...state.files,\n\t\t\t\t\t...action.files.map((o) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tid: nextFileId++,\n\t\t\t\t\t\t\timage: o,\n\t\t\t\t\t\t\tactive: false,\n\t\t\t\t\t\t};\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t};\n\n\t\tcase types.SIDE_REMOVE_FILES:\n\t\t\tif (!action.ids.length) return state;\n\t\t\tlet selectItems = [];\n\t\t\tstate.files.forEach(o => {\n\t\t\t\tif (action.ids.indexOf(o.id) < 0) selectItems.push(o);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfiles: selectItems\n\t\t\t};\n\n\t\tcase types.SIDE_CHANGE_ACTIVE_FILE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfiles: state.files.map(item => {\n\t\t\t\t\treturn changeActive(\n\t\t\t\t\t\titem,\n\t\t\t\t\t\taction.start,\n\t\t\t\t\t\taction.end,\n\t\t\t\t\t\taction.selectType,\n\t\t\t\t\t\tgetActiveItems(state.files).length,\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t};\n\n\t\tcase types.SIDE_UPDATE_PROGRESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprogressPercent: action.value\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/side.js","module.exports = __WEBPACK_EXTERNAL_MODULE_44__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}\n// module id = 44\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_45__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-grid-layout\",\"commonjs2\":\"react-grid-layout\",\"amd\":\"react-grid-layout\",\"root\":\"PropTypes\"}\n// module id = 45\n// module chunks = 0"],"sourceRoot":""}