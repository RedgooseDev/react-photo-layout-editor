{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///PhotoLayoutEditor.js","webpack:///webpack/bootstrap e2fc90c7df059904d995","webpack:///external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack:///./src/PhotoLayoutEditor/lib/index.js","webpack:///external {\"commonjs\":\"classnames\",\"commonjs2\":\"classnames\",\"amd\":\"classnames\",\"root\":\"classNames\"}","webpack:///./src/PhotoLayoutEditor/actions/index.js","webpack:///./src/PhotoLayoutEditor/actions/types.js","webpack:///external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}","webpack:///external {\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/reducers/defaults.js","webpack:///external {\"commonjs\":\"redux\",\"commonjs2\":\"redux\",\"amd\":\"redux\",\"root\":\"PropTypes\"}","webpack:///external {\"commonjs\":\"react-simple-colorpicker\",\"commonjs2\":\"react-simple-colorpicker\",\"amd\":\"react-simple-colorpicker\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/API/index.js","webpack:///./src/PhotoLayoutEditor/Container/index.js","webpack:///./src/PhotoLayoutEditor/reducers/index.js","webpack:///./src/PhotoLayoutEditor/API/Cropper.js","webpack:///./src/PhotoLayoutEditor/API/Grid.js","webpack:///./src/PhotoLayoutEditor/API/Layout.js","webpack:///./src/PhotoLayoutEditor/API/Side.js","webpack:///./src/PhotoLayoutEditor/Container/Body/GridLayout/index.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/Button.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/EditLayoutSetting.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/index.js","webpack:///./src/PhotoLayoutEditor/Container/Body/index.js","webpack:///./src/PhotoLayoutEditor/Container/Cropper/Block.js","webpack:///./src/PhotoLayoutEditor/Container/Cropper/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Items/Item.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Items/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Navigation/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/ToggleSideButton/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/selectItems.js","webpack:///./src/PhotoLayoutEditor/actions/body.js","webpack:///./src/PhotoLayoutEditor/actions/core.js","webpack:///./src/PhotoLayoutEditor/actions/cropper.js","webpack:///./src/PhotoLayoutEditor/actions/side.js","webpack:///./src/PhotoLayoutEditor/index.js","webpack:///./src/PhotoLayoutEditor/lib/Keyboard.js","webpack:///./src/PhotoLayoutEditor/lib/color.js","webpack:///./src/PhotoLayoutEditor/lib/number.js","webpack:///./src/PhotoLayoutEditor/lib/object.js","webpack:///./src/PhotoLayoutEditor/lib/uploader.js","webpack:///./src/PhotoLayoutEditor/lib/util.js","webpack:///./src/PhotoLayoutEditor/reducers/body.js","webpack:///./src/PhotoLayoutEditor/reducers/core.js","webpack:///./src/PhotoLayoutEditor/reducers/cropper.js","webpack:///./src/PhotoLayoutEditor/reducers/side.js","webpack:///external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","webpack:///external {\"commonjs\":\"react-grid-layout\",\"commonjs2\":\"react-grid-layout\",\"amd\":\"react-grid-layout\",\"root\":\"PropTypes\"}"],"names":["root","factory","exports","module","require","define","amd","PhotoLayoutEditor","React","classNames","$","PropTypes","ReactDOM","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_5__","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_8__","__WEBPACK_EXTERNAL_MODULE_9__","__WEBPACK_EXTERNAL_MODULE_45__","__WEBPACK_EXTERNAL_MODULE_46__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","_interopRequireWildcard","obj","newObj","key","uploader","color","number","util","_util","_number","_object","_color","_uploader","_uploader2","types","body","side","cropper","core","_core","_body","_cropper","_side","_types","INIT_PLE","SIDE_VISIBLE","SIDE_ADD_FILES","SIDE_REMOVE_FILES","SIDE_UPDATE_SELECTED","SIDE_TOGGLE","SIDE_UPDATE_PROGRESS","GRID_ATTACH_IMAGES","GRID_ATTACH_IMAGE","GRID_ADD_BLOCK","GRID_REMOVE_BLOCK","GRID_SHUFFLE_BLOCKS","GRID_DUPLICATE_BLOCK","GRID_UPDATE_BLOCKS","GRID_ACTIVE_BLOCK","GRID_SETTING_UPDATE","GRID_CHANGE_COLOR","GRID_REMOVE_IMAGES","CROPPER_OPEN","CROPPER_CLOSE","setting","base","uploadScript","uploadParamsConvertFunc","width","height","column","outerMargin","innerMargin","freeMode","bgColor","blockColor","grid","files","visible","progressPercent","visibleToolbarButtons","shuffle","add","select","edit","removeImage","duplicate","removeBlock","editColor","_interopRequireDefault","API","store","layout","_Layout2","_Side2","_Grid2","_Cropper2","_Layout","_Side","_Grid","_Cropper","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_class","_temp","_createClass","defineProperties","target","props","length","descriptor","protoProps","staticProps","_react","_react2","_reactRedux","_classnames","_classnames2","_actions","actions","_Body","_Body2","Container","_React$Component","_this","getPrototypeOf","el","dispatch","init","parent","api","preference","_this2","createElement","ref","r","className","ple-side-active","tree","Component","displayName","defaultProps","connect","state","assign","_redux","_side2","combineReducers","keyboard","element","activeBlock","item","_lib","Cropper","getState","image","e","alert","open","position","size","close","Grid","mode","arguments","keys","result","forEach","k","push","map","selected","getKeys","options","defaultOptions","x","y","w","h","shuffleBlocks","images","attachImages","id","attachImage","Infinity","src","addBlock","blocks","updateBlocks","Layout","sw","currentSw","targetSw","console","warn","lib","Side","uploading","active","parseInt","Array","Error","addFiles","updateSelected","selection","activeCount","index","removeFiles","callbacks","start","progress","type","res","updateProgress","percent","loaded","total","data","url","complete","done","completeAll","fail","error","selectedImages","getImages","items","getItems","_extends","source","_reactGridLayout","_reactGridLayout2","libs","timeStamp","GridLayout","isImage","keyName","isArray","newActiveBlock","indexOf","splice","Date","getTime","newLayout","split","newGrid","_props$tree$body","indexPrefix","data-grid","data-key","onClick","event","stopPropagation","_selectBlock","style","backgroundColor","ple-grid__item-active","backgroundImage","backgroundPosition","backgroundSize","_this3","bodyWidth","autoSize","cols","rowHeight","margin","containerPadding","verticalCompact","onDragStart","_updateBlocks","onDragStop","oldItem","newItem","placeholder","onResizeStart","onResizeStop","renderItem","bind","Button","apply","title","iconClass","children","_defineProperty","_jquery","_jquery2","_reactSimpleColorpicker","_reactSimpleColorpicker2","EditLayoutSetting","defaultSetting","popup_bgColor","setState","cTarget","currentTarget","document","on","closest","parentNode","activeBgColorPopup","off","preventDefault","submit","persist","onSubmit","_submit","htmlFor","min","max","maxLength","onChange","_change","required","ple-edit-bgColor__inputBox-active","_openBgColorPicker","readOnly","checked","_reset","_typeof","Symbol","iterator","_Button","_Button2","_EditLayoutSetting","_EditLayoutSetting2","Toolbar","editBlockColor","userSW","changeActive","Promise","reject","updateSetting","_this4","activeBlockColor","ple-toolbar__block-active","deactivate","then","submitEditSetting","_onClickEdit","log","duplicateBlock","remove","changeColorBlock","_GridLayout","_GridLayout2","_Toolbar","_Toolbar2","Body","_reactDom","_reactDom2","controlEvent","isTouchDevice","move","end","Block","isCover","_self","$self","$img","moveStartInfo","resizeStartInfo","findDOMNode","nextProps","find","containerX","containerY","mouseX","clientX","pageX","nativeEvent","touches","window","scrollLeft","mouseY","clientY","pageY","scrollTop","_moveIng","_moveEnd","evt","originalEvent","mouse","distance","posX","posY","_resizeIng","_resizeEnd","ratio","distanceHeight","distanceX","naturalWidth","naturalHeight","ple-cropperBlock__image-resize","transform","alt","onMouseDown","_moveStart","onTouchStart","ple-cropperBlock__control-active","_resizeStart","_Block","_Block2","imageMeta","_block","$item","filter","pending","top","left","getImageSize","targetSize","getRatioForResize","_onClose","_toggleImageType","ple-cropper__nav-active","Item","attr","onTouchMove","onTouchEnd","onDragEnd","data-id","data-image","draggable","ple-sideItems__item-active","_Item","_Item2","Items","onSelect","SideNavigation","timestamp","now","onUpload","onAttach","onToggleSelect","upload","multiple","onRemove","ToggleSideButton","_Component","ple-ico-arrow-right","show","ple-ico-arrow-left","_ToggleSideButton","_ToggleSideButton2","_Navigation","_Navigation2","_Items","_Items2","_selectItems","_selectItems2","dragTarget","dragPosition","$gridItems","$dragItem","each","$this","pos","offset","confirm","attachToGrid","message","hasClass","addClass","removeClass","clone","removeAttr","append","checkSupportCss","touch","css","getGridsterItem","ple-side__wrap-show","toggleSelectAll","toggleSide","_attach","_upload","_removeItems","_selectItem","_dragStartItem","_dragEndItem","_touchStartItem","_touchMoveItem","_touchEndItem","selectItems","currentItem","firstSelectIdx","activeBlocks","columns","removeImages","ids","toggle","_Container","_Container2","_reducers","_reducers2","_API","_API2","createStore","Provider","Keyboard","eventName","getTimeStamp","code","names","17","18","91","93","16","_keyDown","keyCode","_keyUp","rgbToHex","match","toString","slice","randomRange","Math","random","floor","round","arr","local","file","defer","Deferred","reader","FileReader","addEventListener","resolve","readAsDataURL","promise","external","script","onLoad","JSON","parse","responseText","onProgress","notify","xhr","XMLHttpRequest","FormData","formData","send","count","navigator","MaxTouchPoints","msMaxTouchPoints","sleep","time","setTimeout","img","onload","onerror","CSS","supports","cssPrefix","styles","getComputedStyle","documentElement","pre","join","OLink","dom","RegExp","lowercase","js","toUpperCase","substr","defaults","action","newState","lastGridId","shuffleIndex","_defaults","_Keyboard2","_Keyboard","nextFileId"],"mappings":"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","file":"PhotoLayoutEditor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-dom\"), require(\"react-grid-layout\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"classnames\", \"jquery\", \"react-redux\", \"redux\", \"react-simple-colorpicker\", \"react-dom\", \"react-grid-layout\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoLayoutEditor\"] = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-dom\"), require(\"react-grid-layout\"));\n\telse\n\t\troot[\"PhotoLayoutEditor\"] = factory(root[\"React\"], root[\"classNames\"], root[\"$\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"ReactDOM\"], root[\"PropTypes\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_45__, __WEBPACK_EXTERNAL_MODULE_46__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-dom\"), require(\"react-grid-layout\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"classnames\", \"jquery\", \"react-redux\", \"redux\", \"react-simple-colorpicker\", \"react-dom\", \"react-grid-layout\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoLayoutEditor\"] = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-dom\"), require(\"react-grid-layout\"));\n\telse\n\t\troot[\"PhotoLayoutEditor\"] = factory(root[\"React\"], root[\"classNames\"], root[\"$\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"ReactDOM\"], root[\"PropTypes\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_45__, __WEBPACK_EXTERNAL_MODULE_46__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 34);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.uploader = exports.object = exports.color = exports.number = exports.util = undefined;\n\nvar _util = __webpack_require__(40);\n\nvar util = _interopRequireWildcard(_util);\n\nvar _number = __webpack_require__(37);\n\nvar number = _interopRequireWildcard(_number);\n\nvar _object = __webpack_require__(38);\n\nvar object = _interopRequireWildcard(_object);\n\nvar _color = __webpack_require__(36);\n\nvar color = _interopRequireWildcard(_color);\n\nvar _uploader = __webpack_require__(39);\n\nvar _uploader2 = _interopRequireDefault(_uploader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.util = util;\nexports.number = number;\nexports.color = color;\nexports.object = object;\nexports.uploader = _uploader2.default;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.types = exports.body = exports.side = exports.cropper = exports.core = undefined;\n\nvar _core = __webpack_require__(31);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _body = __webpack_require__(30);\n\nvar body = _interopRequireWildcard(_body);\n\nvar _cropper = __webpack_require__(32);\n\nvar cropper = _interopRequireWildcard(_cropper);\n\nvar _side = __webpack_require__(33);\n\nvar side = _interopRequireWildcard(_side);\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.core = core;\nexports.cropper = cropper;\nexports.side = side;\nexports.body = body;\nexports.types = types;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar INIT_PLE = exports.INIT_PLE = 'INIT_PLE';\n\nvar SIDE_VISIBLE = exports.SIDE_VISIBLE = 'SIDE_VISIBLE';\nvar SIDE_ADD_FILES = exports.SIDE_ADD_FILES = 'SIDE_ADD_FILES';\nvar SIDE_REMOVE_FILES = exports.SIDE_REMOVE_FILES = 'SIDE_REMOVE_FILES';\nvar SIDE_UPDATE_SELECTED = exports.SIDE_UPDATE_SELECTED = 'SIDE_UPDATE_SELECTED';\nvar SIDE_TOGGLE = exports.SIDE_TOGGLE = 'SIDE_TOGGLE';\nvar SIDE_UPDATE_PROGRESS = exports.SIDE_UPDATE_PROGRESS = 'SIDE_UPDATE_PROGRESS';\n\nvar GRID_ATTACH_IMAGES = exports.GRID_ATTACH_IMAGES = 'GRID_ATTACH_IMAGES';\nvar GRID_ATTACH_IMAGE = exports.GRID_ATTACH_IMAGE = 'GRID_ATTACH_IMAGE';\n\nvar GRID_ADD_BLOCK = exports.GRID_ADD_BLOCK = 'GRID_ADD_BLOCK';\nvar GRID_REMOVE_BLOCK = exports.GRID_REMOVE_BLOCK = 'GRID_REMOVE_BLOCK';\nvar GRID_SHUFFLE_BLOCKS = exports.GRID_SHUFFLE_BLOCKS = 'GRID_SHUFFLE_BLOCKS';\nvar GRID_DUPLICATE_BLOCK = exports.GRID_DUPLICATE_BLOCK = 'GRID_DUPLICATE_BLOCK';\nvar GRID_UPDATE_BLOCKS = exports.GRID_UPDATE_BLOCKS = 'GRID_UPDATE_BLOCKS';\nvar GRID_ACTIVE_BLOCK = exports.GRID_ACTIVE_BLOCK = 'GRID_ACTIVE_BLOCK';\nvar GRID_SETTING_UPDATE = exports.GRID_SETTING_UPDATE = 'GRID_SETTING_UPDATE';\nvar GRID_CHANGE_COLOR = exports.GRID_CHANGE_COLOR = 'GRID_CHANGE_COLOR';\nvar GRID_REMOVE_IMAGES = exports.GRID_REMOVE_IMAGES = 'GRID_REMOVE_IMAGES';\n\nvar CROPPER_OPEN = exports.CROPPER_OPEN = 'CROPPER_OPEN';\nvar CROPPER_CLOSE = exports.CROPPER_CLOSE = 'CROPPER_CLOSE';\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar setting = exports.setting = {\n\tbase: {\n\t\tuploadScript: null,\n\t\tuploadParamsConvertFunc: null\n\t},\n\tbody: {\n\t\tsetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t\tbgColor: 'rgba(255,255,255,1)'\n\t\t},\n\t\tblockColor: 'rgba(211,211,211,1)',\n\t\tgrid: {}\n\t},\n\tside: {\n\t\tfiles: {},\n\t\tvisible: true,\n\t\tprogressPercent: null\n\t}\n};\n\nvar side = exports.side = {\n\tfiles: {},\n\tvisible: true,\n\tprogressPercent: null\n};\n\nvar body = exports.body = {\n\tvisibleToolbarButtons: {\n\t\tsetting: true,\n\t\tshuffle: true,\n\t\tadd: true,\n\t\tselect: true,\n\t\tedit: false,\n\t\tremoveImage: false,\n\t\tduplicate: false,\n\t\tremoveBlock: false,\n\t\teditColor: false\n\t}\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = API;\n\nvar _Layout = __webpack_require__(15);\n\nvar _Layout2 = _interopRequireDefault(_Layout);\n\nvar _Side = __webpack_require__(16);\n\nvar _Side2 = _interopRequireDefault(_Side);\n\nvar _Grid = __webpack_require__(14);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _Cropper = __webpack_require__(13);\n\nvar _Cropper2 = _interopRequireDefault(_Cropper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction API(store) {\n\n\tthis.layout = new _Layout2.default(store);\n\tthis.side = new _Side2.default(store);\n\tthis.grid = new _Grid2.default(store);\n\tthis.cropper = new _Cropper2.default(store);\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _Body = __webpack_require__(21);\n\nvar _Body2 = _interopRequireDefault(_Body);\n\nvar _Side = __webpack_require__(28);\n\nvar _Side2 = _interopRequireDefault(_Side);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = (_temp = _class = function (_React$Component) {\n\t_inherits(Container, _React$Component);\n\n\tfunction Container() {\n\t\t_classCallCheck(this, Container);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).call(this));\n\n\t\t_this.el = null;\n\t\treturn _this;\n\t}\n\n\t_createClass(Container, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tprops.dispatch(actions.core.init(props.parent.api, props.parent.preference || { side: {}, grid: {} }, this.el));\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t_this2.el = r;\n\t\t\t\t\t},\n\t\t\t\t\tclassName: (0, _classnames2.default)('ple-editor', { 'ple-side-active': props.tree.side.visible }) },\n\t\t\t\tprops.setting && _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-wrap' },\n\t\t\t\t\t_react2.default.createElement(_Body2.default, null),\n\t\t\t\t\t_react2.default.createElement(_Side2.default, null)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Container;\n}(_react2.default.Component), _class.displayName = 'Container', _class.defaultProps = {\n\tparent: {},\n\tdispatch: null,\n\ttree: {},\n\tsetting: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Container);\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _redux = __webpack_require__(8);\n\nvar _core = __webpack_require__(42);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _body = __webpack_require__(41);\n\nvar body = _interopRequireWildcard(_body);\n\nvar _side = __webpack_require__(44);\n\nvar _side2 = _interopRequireDefault(_side);\n\nvar _cropper = __webpack_require__(43);\n\nvar cropper = _interopRequireWildcard(_cropper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.default = (0, _redux.combineReducers)({\n\n\t// settings\n\tsetting: core.setting,\n\n\t// api\n\tapi: core.api,\n\n\t// keyboard event\n\tkeyboard: core.keyboard,\n\n\t// element\n\telement: core.element,\n\n\t// data tree\n\ttree: (0, _redux.combineReducers)({\n\t\tside: _side2.default,\n\t\tbody: (0, _redux.combineReducers)({\n\t\t\tsetting: body.setting,\n\t\t\tvisibleToolbarButtons: body.visibleToolbarButtons,\n\t\t\tgrid: body.grid,\n\t\t\tactiveBlock: body.activeBlock\n\t\t}),\n\t\tcropper: (0, _redux.combineReducers)({\n\t\t\tvisible: cropper.visible,\n\t\t\titem: cropper.item,\n\t\t\tkey: cropper.key\n\t\t})\n\t})\n\n});\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cropper = function () {\n\tfunction Cropper(store) {\n\t\t_classCallCheck(this, Cropper);\n\n\t\tthis.store = store;\n\t}\n\n\t_createClass(Cropper, [{\n\t\tkey: 'open',\n\t\tvalue: function open(key) {\n\t\t\tvar state = this.store.getState();\n\t\t\tvar item = null;\n\n\t\t\ttry {\n\t\t\t\titem = state.tree.body.grid[key];\n\t\t\t\tif (!item.image) throw 'Not found image in item';\n\t\t\t} catch (e) {\n\t\t\t\talert(e);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.store.dispatch(actions.cropper.open(key, item));\n\t\t}\n\t}, {\n\t\tkey: 'close',\n\t\tvalue: function close(key, position, size) {\n\t\t\tthis.store.dispatch(actions.cropper.close(key, position, size));\n\t\t}\n\t}]);\n\n\treturn Cropper;\n}();\n\nexports.default = Cropper;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Grid = function () {\n\tfunction Grid(store) {\n\t\t_classCallCheck(this, Grid);\n\n\t\tthis.store = store;\n\t}\n\n\t/**\n  * get keys in block\n  *\n  * @param {String} mode\n  * @param {Array} keys\n  * @return {Array}\n  */\n\n\n\t_createClass(Grid, [{\n\t\tkey: 'getKeys',\n\t\tvalue: function getKeys() {\n\t\t\tvar mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\tvar result = [];\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase 'selected':\n\t\t\t\t\treturn body.activeBlock;\n\t\t\t\tcase 'value':\n\t\t\t\t\tresult = [];\n\t\t\t\t\tkeys.forEach(function (k) {\n\t\t\t\t\t\tif (body.grid[k]) {\n\t\t\t\t\t\t\tresult.push(k);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn result;\n\t\t\t\tcase 'all':\n\t\t\t\tdefault:\n\t\t\t\t\treturn Object.keys(body.grid).map(function (k) {\n\t\t\t\t\t\treturn k;\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * get blocks\n   *\n   * @param {String} mode\n   * @param {Array} keys\n   * @return {Object}\n   */\n\n\t}, {\n\t\tkey: 'getBlocks',\n\t\tvalue: function getBlocks() {\n\t\t\tvar mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\tvar selected = [];\n\t\t\tvar result = {};\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase 'selected':\n\t\t\t\t\tselected = this.getKeys('selected');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'value':\n\t\t\t\t\tselected = this.getKeys('value', keys);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'all':\n\t\t\t\tdefault:\n\t\t\t\t\treturn body.grid;\n\t\t\t}\n\n\t\t\tselected.forEach(function (k) {\n\t\t\t\tif (!body.grid[k]) return;\n\t\t\t\tresult[k] = body.grid[k];\n\t\t\t});\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n   * shuffle items\n   *\n   * @param {Object} options\n   */\n\n\t}, {\n\t\tkey: 'shuffle',\n\t\tvalue: function shuffle() {\n\t\t\tvar options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\tvar defaultOptions = { x: body.setting.column, y: 2, w: 2, h: 2 };\n\n\t\t\t// assign options\n\t\t\toptions = Object.assign({}, defaultOptions, options);\n\n\t\t\tthis.store.dispatch(actions.body.shuffleBlocks(options));\n\t\t}\n\n\t\t/**\n   * assign image\n   *\n   * @param {Array} images\n   */\n\n\t}, {\n\t\tkey: 'assignImages',\n\t\tvalue: function assignImages() {\n\t\t\tvar images = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\n\t\t\tthis.store.dispatch(actions.body.attachImages(images, body.setting.column, body.activeBlock));\n\t\t}\n\n\t\t/**\n   * assign image\n   *\n   * @param {Number} id\n   * @param {String} image\n   */\n\n\t}, {\n\t\tkey: 'assignImage',\n\t\tvalue: function assignImage() {\n\t\t\tvar id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar image = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\t\t\tif (!(id !== null && image !== null)) return;\n\t\t\tthis.store.dispatch(actions.body.attachImage(id, image));\n\t\t}\n\n\t\t/**\n   * add blocks\n   *\n   * @param {Object} options\n   */\n\n\t}, {\n\t\tkey: 'add',\n\t\tvalue: function add() {\n\t\t\tvar options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\tvar defaultOptions = {\n\t\t\t\tlayout: {\n\t\t\t\t\tx: Object.keys(body.grid).length % body.setting.column,\n\t\t\t\t\ty: Infinity,\n\t\t\t\t\tw: 1,\n\t\t\t\t\th: 1\n\t\t\t\t},\n\t\t\t\tcolor: null,\n\t\t\t\timage: null\n\t\t\t};\n\n\t\t\t// assign option\n\t\t\toptions = Object.assign({}, defaultOptions, options);\n\t\t\toptions.layout = Object.assign({}, defaultOptions.layout, options.layout);\n\t\t\toptions.image = options.image ? {\n\t\t\t\tsrc: options.image,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover'\n\t\t\t} : null;\n\n\t\t\tthis.store.dispatch(actions.body.addBlock(options));\n\t\t}\n\n\t\t/**\n   * update blocks\n   *\n   * @param {Object} blocks\n   */\n\n\t}, {\n\t\tkey: 'update',\n\t\tvalue: function update() {\n\t\t\tvar blocks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tthis.store.dispatch(actions.body.updateBlocks(blocks));\n\t\t}\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tthis.store.dispatch(actions.body.removeBlock(keys));\n\t\t}\n\t}, {\n\t\tkey: 'duplicate',\n\t\tvalue: function duplicate() {}\n\t}, {\n\t\tkey: 'select',\n\t\tvalue: function select() {}\n\t}, {\n\t\tkey: 'unselect',\n\t\tvalue: function unselect() {}\n\t}, {\n\t\tkey: 'toggleSelect',\n\t\tvalue: function toggleSelect() {}\n\t}, {\n\t\tkey: 'getPreference',\n\t\tvalue: function getPreference() {}\n\t}, {\n\t\tkey: 'setPreference',\n\t\tvalue: function setPreference() {}\n\t}, {\n\t\tkey: 'export',\n\t\tvalue: function _export() {}\n\t}]);\n\n\treturn Grid;\n}();\n\nexports.default = Grid;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Layout = function () {\n\tfunction Layout(store) {\n\t\t_classCallCheck(this, Layout);\n\n\t\tthis.store = store;\n\t}\n\n\t/**\n  * Toggle side\n  *\n  * @param {Boolean|undefined} sw\n  */\n\n\n\t_createClass(Layout, [{\n\t\tkey: 'toggleSide',\n\t\tvalue: function toggleSide(sw) {\n\t\t\ttry {\n\t\t\t\tvar currentSw = this.store.getState().tree.side.visible;\n\t\t\t\tvar targetSw = typeof sw === 'undefined' ? !currentSw : sw;\n\n\t\t\t\tthis.store.dispatch(actions.side.visible(targetSw));\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn('Error action', e);\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn Layout;\n}();\n\nexports.default = Layout;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Side = function () {\n\tfunction Side(store) {\n\t\t_classCallCheck(this, Side);\n\n\t\tthis.store = store;\n\t\tthis.uploading = false;\n\t}\n\n\t/**\n  * get id in item\n  *\n  * @param {String} mode\n  * @param {Array} keys\n  */\n\n\n\t_createClass(Side, [{\n\t\tkey: 'getKeys',\n\t\tvalue: function getKeys() {\n\t\t\tvar mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar files = state.tree.side.files;\n\n\t\t\tvar result = [];\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase 'selected':\n\t\t\t\t\tObject.keys(files).forEach(function (o) {\n\t\t\t\t\t\tif (files[o].active) {\n\t\t\t\t\t\t\tresult.push(parseInt(o));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'value':\n\t\t\t\t\tkeys.forEach(function (o) {\n\t\t\t\t\t\tif (files[o]) {\n\t\t\t\t\t\t\tresult.push(parseInt(o));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'all':\n\t\t\t\tdefault:\n\t\t\t\t\tresult = Object.keys(files).map(function (o) {\n\t\t\t\t\t\treturn parseInt(o);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n   * Add files\n   *\n   * @param {Array} files\n   * @return {Error}\n   */\n\n\t}, {\n\t\tkey: 'add',\n\t\tvalue: function add(files) {\n\t\t\ttry {\n\t\t\t\tif (!(files instanceof Array)) {\n\t\t\t\t\tthrow new Error('not found files');\n\t\t\t\t}\n\t\t\t\tthis.store.dispatch(actions.side.addFiles(files));\n\t\t\t} catch (e) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'selection',\n\n\n\t\t/**\n   * selection items\n   *\n   * @param {Array} keys\n   * @param {Boolean} active\n   * @return {Error}\n   */\n\t\tvalue: function selection() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t\t\tvar active = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n\t\t\ttry {\n\t\t\t\tvar selected = this.getKeys('value', keys);\n\t\t\t\tif (selected.length <= 0) {\n\t\t\t\t\tthrow new Error('not found select item');\n\t\t\t\t}\n\t\t\t\tselected = selected.map(function (o) {\n\t\t\t\t\treturn { key: o, active: active };\n\t\t\t\t});\n\t\t\t\tthis.store.dispatch(actions.side.updateSelected(selected));\n\t\t\t} catch (e) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * select items\n   *\n   * @param {Array} value\n   */\n\n\t}, {\n\t\tkey: 'select',\n\t\tvalue: function select() {\n\t\t\tvar value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tthis.store.dispatch(actions.side.updateSelected(value));\n\t\t}\n\n\t\t/**\n   * toggle select all\n   *\n   * @param {Boolean} active\n   */\n\n\t}, {\n\t\tkey: 'toggleSelectAll',\n\t\tvalue: function toggleSelectAll() {\n\t\t\tvar active = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\tif (typeof active === 'boolean') {\n\t\t\t\tvar selected = this.getKeys('all');\n\t\t\t\tthis.selection(selected, active);\n\t\t\t} else {\n\t\t\t\tvar activeCount = this.getKeys('selected').length;\n\t\t\t\tvar keys = this.getKeys('all');\n\t\t\t\tthis.selection(keys, !(activeCount > 0));\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * remove items\n   *\n   * @param {Array} index\n   * @return {Error}\n   */\n\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove() {\n\t\t\tvar index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\ttry {\n\t\t\t\tif (!index.length) {\n\t\t\t\t\tthrow new Error('Not found items.');\n\t\t\t\t}\n\t\t\t\tthis.store.dispatch(actions.side.removeFiles(index));\n\t\t\t} catch (e) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Clear items\n   */\n\n\t}, {\n\t\tkey: 'clear',\n\t\tvalue: function clear() {\n\t\t\tvar keys = this.getKeys('all');\n\t\t\tthis.store.dispatch(actions.side.removeFiles(keys));\n\t\t}\n\n\t\t/**\n   * Upload files\n   *\n   * @param {FileList} files\n   * @param {Object} callbacks\n   */\n\n\t}, {\n\t\tkey: 'upload',\n\t\tvalue: function upload(files) {\n\t\t\tvar _this = this;\n\n\t\t\tvar callbacks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\t/**\n    * @param {Function} callbacks.start\n    * @param {Function} callbacks.progress\n    * @param {Function} callbacks.complete\n    * @param {Function} callbacks.completeAll\n    * @param {Function} callbacks.fail\n    */\n\t\t\tif (this.uploading) return;\n\n\t\t\tvar state = this.store.getState();\n\t\t\tthis.uploading = true;\n\n\t\t\tif (callbacks.start) callbacks.start();\n\n\t\t\tlib.uploader(files, state.setting.base.uploadScript).progress(function (type, res) {\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'start':\n\t\t\t\t\t\t_this.store.dispatch(actions.side.updateProgress(0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'progress':\n\t\t\t\t\t\tvar percent = parseInt(res.loaded / res.total * 100);\n\t\t\t\t\t\t_this.store.dispatch(actions.side.updateProgress(percent));\n\t\t\t\t\t\tif (callbacks.progress) callbacks.progress(res.loaded, res.total, percent);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'done':\n\t\t\t\t\t\t_this.store.dispatch(actions.side.updateProgress(null));\n\t\t\t\t\t\tif (!res.data) return;\n\t\t\t\t\t\tif (state.setting.base.uploadParamsConvertFunc) {\n\t\t\t\t\t\t\tvar result = state.setting.base.uploadParamsConvertFunc(res.data);\n\t\t\t\t\t\t\t_this.store.dispatch(actions.side.addFiles([result]));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.store.dispatch(actions.side.addFiles([res.data.url]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (callbacks.complete) callbacks.complete(res.data);\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}).done(function () {\n\t\t\t\t_this.uploading = false;\n\t\t\t\tif (callbacks.completeAll) callbacks.completeAll();\n\t\t\t}).fail(function (error) {\n\t\t\t\t_this.uploading = false;\n\t\t\t\tif (callbacks.fail) callbacks.fail(error);\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * attach items to grid\n   *\n   * @param {Array} keys\n   * @return {Error}\n   */\n\n\t}, {\n\t\tkey: 'attachToGrid',\n\t\tvalue: function attachToGrid() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\ttry {\n\t\t\t\tvar selectedImages = this.getImages(keys);\n\t\t\t\tif (!selectedImages.length) {\n\t\t\t\t\tthrow new Error('not found item.');\n\t\t\t\t}\n\t\t\t\tthis.store.dispatch(actions.body.attachImages(selectedImages, body.setting.column, body.activeBlock));\n\t\t\t} catch (e) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * get items\n   *\n   * @param {Array} keys\n   * @return {Object}\n   */\n\n\t}, {\n\t\tkey: 'getItems',\n\t\tvalue: function getItems() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar side = state.tree.side;\n\n\t\t\tkeys = this.getKeys('value', keys);\n\t\t\tvar result = {};\n\t\t\tkeys.forEach(function (o) {\n\t\t\t\tif (side.files[o]) {\n\t\t\t\t\tresult[o] = side.files[o];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n   * get images\n   *\n   * @param {Array} keys\n   * @return {Array}\n   */\n\n\t}, {\n\t\tkey: 'getImages',\n\t\tvalue: function getImages() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar items = this.getItems(keys);\n\t\t\treturn Object.keys(items).map(function (o) {\n\t\t\t\treturn items[o].image;\n\t\t\t});\n\t\t}\n\t}]);\n\n\treturn Side;\n}();\n\nexports.default = Side;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _reactGridLayout = __webpack_require__(46);\n\nvar _reactGridLayout2 = _interopRequireDefault(_reactGridLayout);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Cropper = __webpack_require__(23);\n\nvar _Cropper2 = _interopRequireDefault(_Cropper);\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar timeStamp = [];\n\nvar GridLayout = (_temp = _class = function (_React$Component) {\n\t_inherits(GridLayout, _React$Component);\n\n\tfunction GridLayout(props) {\n\t\t_classCallCheck(this, GridLayout);\n\n\t\treturn _possibleConstructorReturn(this, (GridLayout.__proto__ || Object.getPrototypeOf(GridLayout)).call(this, props));\n\t}\n\n\t/**\n  * On select block\n  *\n  * @param {String} id\n  * @param {boolean} isImage\n  */\n\n\n\t_createClass(GridLayout, [{\n\t\tkey: '_selectBlock',\n\t\tvalue: function _selectBlock() {\n\t\t\tvar id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar isImage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\t\tvar props = this.props;\n\n\n\t\t\tif (id === null) {\n\t\t\t\tprops.dispatch(actions.body.activeBlock([], false));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (props.keyboard.keyName) {\n\t\t\t\tcase 'CMD':\n\t\t\t\tcase 'CTRL':\n\t\t\t\tcase 'SHIFT':\n\t\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\t\t\tvar newActiveBlock = Object.assign([], props.tree.body.activeBlock);\n\t\t\t\t\t\tif (newActiveBlock.indexOf(id) > -1) {\n\t\t\t\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(id), 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewActiveBlock.push(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(newActiveBlock, isImage));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock([id], isImage));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tprops.dispatch(actions.body.activeBlock([id], isImage));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * On update blocks\n   *\n   * @param {String} type\n   * @param {Array} layout\n   * @param {HTMLElement} element\n   */\n\n\t}, {\n\t\tkey: '_updateBlocks',\n\t\tvalue: function _updateBlocks(type) {\n\t\t\tvar layout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\t\t\tvar element = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\t\t\tvar props = this.props;\n\n\t\t\t/**\n    * convert layout\n    *\n    * @return {Object}\n    */\n\n\t\t\tfunction convertLayout() {\n\t\t\t\tvar result = {};\n\t\t\t\tfor (var i = 0; i < layout.length; i++) {\n\t\t\t\t\tresult[layout[i].i.split('__')[1]] = layout[i];\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'start':\n\t\t\t\t\ttimeStamp[0] = new Date().getTime();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'end':\n\t\t\t\t\ttimeStamp[1] = new Date().getTime();\n\t\t\t\t\tif (timeStamp[1] - timeStamp[0] > 400) {\n\t\t\t\t\t\tvar newLayout = convertLayout();\n\t\t\t\t\t\tvar newGrid = {};\n\t\t\t\t\t\tObject.keys(props.tree.body.grid).forEach(function (k) {\n\t\t\t\t\t\t\tnewGrid[k] = _extends({}, props.tree.body.grid[k], {\n\t\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\t\tx: newLayout[k].x,\n\t\t\t\t\t\t\t\t\ty: newLayout[k].y,\n\t\t\t\t\t\t\t\t\tw: newLayout[k].w,\n\t\t\t\t\t\t\t\t\th: newLayout[k].h\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tprops.dispatch(actions.body.updateBlocks(newGrid));\n\t\t\t\t\t}\n\t\t\t\t\ttimeStamp = [];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Render item\n   *\n   * @param {String} k\n   * @return {Component}\n   */\n\n\t}, {\n\t\tkey: 'renderItem',\n\t\tvalue: function renderItem(k) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar _props$tree$body = props.tree.body,\n\t\t\t    activeBlock = _props$tree$body.activeBlock,\n\t\t\t    grid = _props$tree$body.grid;\n\n\t\t\tvar item = grid[k];\n\n\t\t\tvar key = item.indexPrefix + '__' + k;\n\t\t\tvar active = !!(activeBlock && activeBlock.length && activeBlock.indexOf(k) > -1);\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tkey: key,\n\t\t\t\t\t'data-grid': item.layout,\n\t\t\t\t\t'data-key': k,\n\t\t\t\t\tonClick: function onClick(event) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t_this2._selectBlock(k, !!item.image);\n\t\t\t\t\t},\n\t\t\t\t\tstyle: { backgroundColor: item.color || props.setting.body.blockColor },\n\t\t\t\t\tclassName: (0, _classnames2.default)({ 'ple-grid__item-active': active }) },\n\t\t\t\titem.image && _react2.default.createElement('figure', {\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tbackgroundImage: 'url(\\'' + item.image.src + '\\')',\n\t\t\t\t\t\tbackgroundPosition: item.image.position,\n\t\t\t\t\t\tbackgroundSize: item.image.size\n\t\t\t\t\t} })\n\t\t\t);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar setting = props.tree.body.setting;\n\n\t\t\tvar bodyWidth = setting.width * setting.column + setting.innerMargin * (setting.column - 1) + setting.outerMargin * 2;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-grid__wrap', onClick: function onClick() {\n\t\t\t\t\t\treturn _this3._selectBlock();\n\t\t\t\t\t} },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-grid__body', style: { width: bodyWidth + 'px' } },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactGridLayout2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tautoSize: true,\n\t\t\t\t\t\t\tcols: setting.column,\n\t\t\t\t\t\t\trowHeight: setting.height,\n\t\t\t\t\t\t\twidth: bodyWidth,\n\t\t\t\t\t\t\tmargin: [setting.innerMargin, setting.innerMargin],\n\t\t\t\t\t\t\tcontainerPadding: [setting.outerMargin, setting.outerMargin],\n\t\t\t\t\t\t\tverticalCompact: !setting.freeMode,\n\t\t\t\t\t\t\tonDragStart: function onDragStart() {\n\t\t\t\t\t\t\t\treturn _this3._updateBlocks('start');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonDragStop: function onDragStop(layout, oldItem, newItem, placeholder, e, element) {\n\t\t\t\t\t\t\t\treturn _this3._updateBlocks('end', layout, element);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonResizeStart: function onResizeStart() {\n\t\t\t\t\t\t\t\treturn _this3._updateBlocks('start');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonResizeStop: function onResizeStop(layout, oldItem, newItem, placeholder, e, element) {\n\t\t\t\t\t\t\t\treturn _this3._updateBlocks('end', layout, element);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\tbackgroundColor: setting.bgColor\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tclassName: 'ple-grid' },\n\t\t\t\t\t\tObject.keys(props.tree.body.grid).map(this.renderItem.bind(this))\n\t\t\t\t\t),\n\t\t\t\t\tprops.tree.cropper.visible ? _react2.default.createElement(_Cropper2.default, null) : null\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn GridLayout;\n}(_react2.default.Component), _class.displayName = 'GridLayout', _class.defaultProps = {\n\ttree: null,\n\tdispatch: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(GridLayout);\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Button = (_temp = _class = function (_React$Component) {\n\t_inherits(Button, _React$Component);\n\n\tfunction Button() {\n\t\t_classCallCheck(this, Button);\n\n\t\treturn _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n\t}\n\n\t_createClass(Button, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: (0, _classnames2.default)('ple-toolbar__block', props.className) },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ type: 'button', title: props.title, onClick: props.onClick },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: (0, _classnames2.default)('ple-sp-ico', 'ple-abs', props.iconClass) },\n\t\t\t\t\t\tprops.title\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t!!props.children && _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-toolbar__pop' },\n\t\t\t\t\tprops.children\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Button;\n}(_react2.default.Component), _class.displayName = 'Button', _temp);\nexports.default = Button;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactSimpleColorpicker = __webpack_require__(9);\n\nvar _reactSimpleColorpicker2 = _interopRequireDefault(_reactSimpleColorpicker);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EditLayoutSetting = (_temp = _class = function (_React$Component) {\n\t_inherits(EditLayoutSetting, _React$Component);\n\n\tfunction EditLayoutSetting(props) {\n\t\t_classCallCheck(this, EditLayoutSetting);\n\n\t\tvar _this = _possibleConstructorReturn(this, (EditLayoutSetting.__proto__ || Object.getPrototypeOf(EditLayoutSetting)).call(this, props));\n\n\t\t_this.state = _extends({}, props.defaultSetting, props.setting, {\n\t\t\tpopup_bgColor: false\n\t\t});\n\t\treturn _this;\n\t}\n\n\t_createClass(EditLayoutSetting, [{\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.setState(_extends({}, props.defaultSetting, props.setting));\n\t\t}\n\t}, {\n\t\tkey: 'activeBgColorPopup',\n\t\tvalue: function activeBgColorPopup(sw, e) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar state = this.state;\n\n\t\t\tvar cTarget = e ? e.currentTarget : null;\n\n\t\t\tsw = sw || !state.popup_bgColor;\n\n\t\t\tif (sw) {\n\t\t\t\t(0, _jquery2.default)(document).on('click.pleEditBgColor', function (e) {\n\t\t\t\t\tif ((0, _jquery2.default)(e.target).closest('.ple-edit-bgColor__popup').length) return;\n\t\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget)) {\n\t\t\t\t\t\t_this2.activeBgColorPopup(false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t(0, _jquery2.default)(document).off('click.pleEditBgColor');\n\t\t\t}\n\n\t\t\tthis.setState({ popup_bgColor: sw });\n\t\t}\n\t}, {\n\t\tkey: '_submit',\n\t\tvalue: function _submit(e) {\n\t\t\te.preventDefault();\n\t\t\tthis.props.submit(this.state);\n\t\t}\n\t}, {\n\t\tkey: '_reset',\n\t\tvalue: function _reset() {\n\t\t\tthis.setState(_extends({}, this.props.defaultSetting));\n\t\t}\n\t}, {\n\t\tkey: '_change',\n\t\tvalue: function _change(e) {\n\t\t\tswitch (e.target.type) {\n\t\t\t\tcase 'text':\n\t\t\t\t\tthis.setState(_defineProperty({}, e.target.name, e.target.value));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\tthis.setState(_defineProperty({}, e.target.name, parseInt(e.target.value)));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_openBgColorPicker',\n\t\tvalue: function _openBgColorPicker(e) {\n\t\t\te.persist();\n\t\t\tthis.activeBgColorPopup(null, e);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'form',\n\t\t\t\t{ onSubmit: this._submit.bind(this), className: 'ple-edit-setting' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'fieldset',\n\t\t\t\t\t{ className: 'ple-edit-setting__form' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'legend',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Settings form'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h1',\n\t\t\t\t\t\t{ className: 'ple-edit-setting__title' },\n\t\t\t\t\t\t'Settings'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_width' },\n\t\t\t\t\t\t\t\t'Width'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'width', id: 'frm_width',\n\t\t\t\t\t\t\t\tmin: 1, max: 999, maxLength: 3,\n\t\t\t\t\t\t\t\tvalue: state.width,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_height' },\n\t\t\t\t\t\t\t\t'Height'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'height', id: 'frm_height',\n\t\t\t\t\t\t\t\tmin: 1, max: 999,\n\t\t\t\t\t\t\t\tvalue: state.height,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_column' },\n\t\t\t\t\t\t\t\t'Column'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'column', id: 'frm_column',\n\t\t\t\t\t\t\t\tmin: 1, max: 99,\n\t\t\t\t\t\t\t\tvalue: state.column,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'ea'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_outerMargin' },\n\t\t\t\t\t\t\t\t'Outer margin'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'outerMargin', id: 'frm_outerMargin',\n\t\t\t\t\t\t\t\tmin: 0, max: 500,\n\t\t\t\t\t\t\t\tvalue: state.outerMargin,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_innerMargin' },\n\t\t\t\t\t\t\t\t'Inner margin'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'innerMargin', id: 'frm_innerMargin',\n\t\t\t\t\t\t\t\tmin: 0, max: 500,\n\t\t\t\t\t\t\t\tvalue: state.innerMargin,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_bgColor' },\n\t\t\t\t\t\t\t\t'Bg color'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{ className: 'ple-edit-bgColor' },\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ className: (0, _classnames2.default)('ple-edit-bgColor__inputBox', {\n\t\t\t\t\t\t\t\t\t\t\t'ple-edit-bgColor__inputBox-active': state.popup_bgColor\n\t\t\t\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\tname: 'bgColor',\n\t\t\t\t\t\t\t\t\t\tid: 'frm_bgColor',\n\t\t\t\t\t\t\t\t\t\tvalue: state.bgColor,\n\t\t\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\t\t\tonClick: this._openBgColorPicker.bind(this),\n\t\t\t\t\t\t\t\t\t\treadOnly: true,\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tclassName: 'ple-edit-bgColor__input',\n\t\t\t\t\t\t\t\t\t\tstyle: { backgroundColor: state.bgColor }\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tstate.popup_bgColor && _react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t{ className: 'ple-edit-bgColor__popup' },\n\t\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t{ className: 'ple-edit-bgColor__picker' },\n\t\t\t\t\t\t\t\t\t\t_react2.default.createElement(_reactSimpleColorpicker2.default, {\n\t\t\t\t\t\t\t\t\t\t\tonChange: function onChange(color) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn _this3.setState({ bgColor: color });\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tcolor: state.bgColor })\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_freeMode' },\n\t\t\t\t\t\t\t\t'Free mode'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-checkbox' },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\ttype: 'radio', name: 'freeMode', id: 'frm_freeMode',\n\t\t\t\t\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\t\t\t\t\treturn _this3.setState({ freeMode: true });\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchecked: state.freeMode }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'true'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\ttype: 'radio', name: 'freeMode',\n\t\t\t\t\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\t\t\t\t\treturn _this3.setState({ freeMode: false });\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchecked: !state.freeMode }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'nav',\n\t\t\t\t\t{ className: 'ple-edit-setting__buttons' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'button', onClick: this._reset.bind(this) },\n\t\t\t\t\t\t\t'Reset'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'submit', className: 'ple-submit' },\n\t\t\t\t\t\t\t'Apply'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn EditLayoutSetting;\n}(_react2.default.Component), _class.displayName = 'EditLayoutSetting', _class.defaultProps = {\n\tsubmit: function submit(e) {},\n\tsetting: null,\n\tdefaultSetting: {\n\t\twidth: 100,\n\t\theight: 100,\n\t\tcolumn: 5,\n\t\touterMargin: 10,\n\t\tinnerMargin: 10,\n\t\tfreeMode: false,\n\t\tbgColor: 'rgba(255,255,255,1)'\n\t}\n}, _temp);\nexports.default = EditLayoutSetting;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactSimpleColorpicker = __webpack_require__(9);\n\nvar _reactSimpleColorpicker2 = _interopRequireDefault(_reactSimpleColorpicker);\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nvar _Button = __webpack_require__(18);\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _EditLayoutSetting = __webpack_require__(19);\n\nvar _EditLayoutSetting2 = _interopRequireDefault(_EditLayoutSetting);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Toolbar = (_temp = _class = function (_React$Component) {\n\t_inherits(Toolbar, _React$Component);\n\n\tfunction Toolbar(props) {\n\t\t_classCallCheck(this, Toolbar);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, props));\n\n\t\t_this.state = {\n\t\t\tactive: {\n\t\t\t\tsetting: false,\n\t\t\t\teditBlockColor: false\n\t\t\t}\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(Toolbar, [{\n\t\tkey: 'changeActive',\n\t\tvalue: function changeActive(keyName, userSW, event) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar state = this.state;\n\n\t\t\tvar sw = userSW || !state.active[keyName];\n\t\t\tvar cTarget = event ? event.currentTarget : null;\n\n\t\t\tif (sw) {\n\t\t\t\t(0, _jquery2.default)(document).on('click.pleToolbar', function (e) {\n\t\t\t\t\tif ((0, _jquery2.default)(e.target).closest('.ple-toolbar__pop').length) return;\n\t\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget)) {\n\t\t\t\t\t\t_this2.changeActive(keyName, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t(0, _jquery2.default)(document).off('click.pleToolbar');\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tactive: _extends({}, state.active, _defineProperty({\n\t\t\t\t\tsetting: false,\n\t\t\t\t\teditColor: false\n\t\t\t\t}, keyName, sw))\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'deactivate',\n\t\tvalue: function deactivate() {\n\t\t\tvar _this3 = this;\n\n\t\t\t(0, _jquery2.default)(document).off('click.pleToolbar');\n\t\t\treturn new Promise(function (reject) {\n\t\t\t\t_this3.setState({\n\t\t\t\t\tactive: {\n\t\t\t\t\t\tsetting: false,\n\t\t\t\t\t\teditColor: false\n\t\t\t\t\t}\n\t\t\t\t}, reject);\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'submitEditSetting',\n\t\tvalue: function submitEditSetting(state) {\n\t\t\tthis.props.dispatch(actions.body.updateSetting(state));\n\t\t\tthis.changeActive('setting', false);\n\t\t\treturn false;\n\t\t}\n\t}, {\n\t\tkey: '_onClickEdit',\n\t\tvalue: function _onClickEdit() {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.api.cropper.open(props.tree.body.activeBlock[0]);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\t\t\tvar visible = props.tree.body.visibleToolbarButtons;\n\t\t\tvar activeBlockColor = '#fff';\n\n\t\t\tif (_typeof(props.tree.body.grid) === 'object' && libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\tvar n = props.tree.body.activeBlock[0];\n\t\t\t\tactiveBlockColor = props.tree.body.grid[n] && props.tree.body.grid[n].color ? props.tree.body.grid[n].color : props.setting.body.blockColor;\n\t\t\t}\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'nav',\n\t\t\t\t{ className: 'ple-toolbar' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-toolbar__wrap' },\n\t\t\t\t\tvisible.setting && _react2.default.createElement(\n\t\t\t\t\t\t_Button2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticonClass: 'ple-ico-setting',\n\t\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-edit-setting', {\n\t\t\t\t\t\t\t\t'ple-toolbar__block-active': state.active.setting\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tonClick: function onClick(e) {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.setting) {\n\t\t\t\t\t\t\t\t\t_this4.deactivate().then(function () {\n\t\t\t\t\t\t\t\t\t\t_this4.changeActive('setting', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttitle: 'Edit preference' },\n\t\t\t\t\t\t_react2.default.createElement(_EditLayoutSetting2.default, {\n\t\t\t\t\t\t\tsubmit: this.submitEditSetting.bind(this),\n\t\t\t\t\t\t\tsetting: props.tree.body.setting,\n\t\t\t\t\t\t\tdefaultSetting: props.setting.body.setting })\n\t\t\t\t\t),\n\t\t\t\t\tvisible.shuffle && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-arrow-random',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.grid.shuffle();\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Shuffle block' }),\n\t\t\t\t\tvisible.add && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-plus',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.grid.add();\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Add block' }),\n\t\t\t\t\tvisible.select && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-select',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(null));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar newActiveBlock = [];\n\t\t\t\t\t\t\tvar isImage = !!(props.tree.body.grid[0] && props.tree.body.grid[0].image);\n\t\t\t\t\t\t\tObject.keys(props.tree.body.grid).forEach(function (k) {\n\t\t\t\t\t\t\t\treturn newActiveBlock.push(k);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(newActiveBlock, isImage));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Toggle select block' }),\n\t\t\t\t\tvisible.edit && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-pencil',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: this._onClickEdit.bind(this),\n\t\t\t\t\t\ttitle: 'Edit block' }),\n\t\t\t\t\tvisible.removeImage && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-empty',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tconsole.log('act remove image');\n\t\t\t\t\t\t\t//props.dispatch(actions.body.removeImages(props.tree.body.activeBlock));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Remove image in block' }),\n\t\t\t\t\tvisible.duplicate && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-duplicate',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null) {\n\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprops.dispatch(actions.body.duplicateBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Duplicate block' }),\n\t\t\t\t\tvisible.removeBlock && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-trash',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null) {\n\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprops.api.grid.remove(props.tree.body.activeBlock);\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Remove block' }),\n\t\t\t\t\tvisible.editColor && _react2.default.createElement(\n\t\t\t\t\t\t_Button2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticonClass: 'ple-ico-palette',\n\t\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-edit-color', 'ple-toolbar__block-key', { 'ple-toolbar__block-active': state.active.editColor }),\n\t\t\t\t\t\t\tonClick: function onClick(e) {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.editColor) {\n\t\t\t\t\t\t\t\t\t_this4.deactivate().then(function () {\n\t\t\t\t\t\t\t\t\t\treturn _this4.changeActive('editColor', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttitle: 'Change color' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'ple-colorPicker__wrap' },\n\t\t\t\t\t\t\t_react2.default.createElement(_reactSimpleColorpicker2.default, {\n\t\t\t\t\t\t\t\tonChange: function onChange(color) {\n\t\t\t\t\t\t\t\t\tif (!color) return;\n\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.changeColorBlock(props.tree.body.activeBlock, color));\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcolor: activeBlockColor,\n\t\t\t\t\t\t\t\tclassName: 'ple-colorPicker__body' })\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Toolbar;\n}(_react2.default.Component), _class.displayName = 'Toolbar', _class.defaultProps = {\n\tdispatch: null,\n\ttree: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Toolbar);\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _GridLayout = __webpack_require__(17);\n\nvar _GridLayout2 = _interopRequireDefault(_GridLayout);\n\nvar _Toolbar = __webpack_require__(20);\n\nvar _Toolbar2 = _interopRequireDefault(_Toolbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Body = (_temp = _class = function (_React$Component) {\n\t_inherits(Body, _React$Component);\n\n\tfunction Body(props) {\n\t\t_classCallCheck(this, Body);\n\n\t\treturn _possibleConstructorReturn(this, (Body.__proto__ || Object.getPrototypeOf(Body)).call(this, props));\n\t}\n\n\t_createClass(Body, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-container' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-body' },\n\t\t\t\t\t_react2.default.createElement(_Toolbar2.default, null),\n\t\t\t\t\t_react2.default.createElement(_GridLayout2.default, null)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Body;\n}(_react2.default.Component), _class.displayName = 'Body', _temp);\nexports.default = Body;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(45);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _lib = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlEvent = {\n\tstart: _lib.util.isTouchDevice() ? 'touchstart' : 'mousedown',\n\tmove: _lib.util.isTouchDevice() ? 'touchmove' : 'mousemove',\n\tend: _lib.util.isTouchDevice() ? 'touchend' : 'mouseup'\n};\n\nvar Block = (_temp = _class = function (_React$Component) {\n\t_inherits(Block, _React$Component);\n\n\tfunction Block(props) {\n\t\t_classCallCheck(this, Block);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, props));\n\n\t\t_this.state = {\n\t\t\tposition: props.position,\n\t\t\tsize: props.size,\n\t\t\tisCover: props.size === 'cover'\n\t\t};\n\n\t\t_this._self = null;\n\t\t_this.$self = null;\n\t\t_this.$img = null;\n\t\t_this.moveStartInfo = {};\n\t\t_this.resizeStartInfo = {};\n\t\treturn _this;\n\t}\n\n\t_createClass(Block, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\t// set dom\n\t\t\tthis.$self = (0, _jquery2.default)(_reactDom2.default.findDOMNode(this._self));\n\t\t}\n\t}, {\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps(nextProps) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tif (props.size !== nextProps.size) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: nextProps.position,\n\t\t\t\t\tsize: nextProps.size,\n\t\t\t\t\tisCover: nextProps.size === 'cover'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_moveStart',\n\t\tvalue: function _moveStart(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar state = this.state;\n\n\t\t\t// set image element\n\n\t\t\tthis.$img = this.$self.find('img');\n\n\t\t\tthis.moveStartInfo = {\n\t\t\t\tcontainerX: parseInt(state.position.split(' ')[0]),\n\t\t\t\tcontainerY: parseInt(state.position.split(' ')[1]),\n\t\t\t\tmouseX: (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + (0, _jquery2.default)(window).scrollLeft(),\n\t\t\t\tmouseY: (e.clientY || e.pageY || e.nativeEvent.touches[0].clientY) + (0, _jquery2.default)(window).scrollTop()\n\t\t\t};\n\n\t\t\t(0, _jquery2.default)(document).on(controlEvent.move + '.move', this._moveIng.bind(this)).on(controlEvent.end + '.move', this._moveEnd.bind(this));\n\t\t}\n\t}, {\n\t\tkey: '_moveIng',\n\t\tvalue: function _moveIng(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar evt = e.type === 'touchmove' ? e.originalEvent.touches[0] : e;\n\t\t\tvar mouse = {};\n\t\t\tvar distance = {};\n\n\t\t\tmouse.x = (evt.clientX || evt.pageX) + (0, _jquery2.default)(window).scrollLeft();\n\t\t\tmouse.y = (evt.clientY || evt.pageY) + (0, _jquery2.default)(window).scrollTop();\n\n\t\t\tdistance.x = this.moveStartInfo.containerX + (mouse.x - this.moveStartInfo.mouseX);\n\t\t\tdistance.y = this.moveStartInfo.containerY + (mouse.y - this.moveStartInfo.mouseY);\n\n\t\t\tthis.setState({\n\t\t\t\tposition: parseInt(distance.x) + 'px ' + parseInt(distance.y) + 'px'\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_moveEnd',\n\t\tvalue: function _moveEnd(e) {\n\t\t\te.preventDefault();\n\n\t\t\tthis.$img = null;\n\t\t\tthis.moveStartInfo = null;\n\n\t\t\t(0, _jquery2.default)(document).off(controlEvent.move + '.move').off(controlEvent.end + '.move');\n\t\t}\n\t}, {\n\t\tkey: '_resizeStart',\n\t\tvalue: function _resizeStart(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar state = this.state;\n\n\n\t\t\tthis.$img = this.$self.find('img');\n\t\t\tthis.resizeStartInfo = {\n\t\t\t\ttitle: e.currentTarget.title,\n\t\t\t\twidth: this.$img.width(),\n\t\t\t\theight: this.$img.height(),\n\t\t\t\tmouseX: (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + (0, _jquery2.default)(window).scrollLeft(),\n\t\t\t\tposX: parseInt(state.position.split(' ')[0]),\n\t\t\t\tposY: parseInt(state.position.split(' ')[1])\n\t\t\t};\n\n\t\t\t(0, _jquery2.default)(document).on(controlEvent.move + '.resize', this._resizeIng.bind(this)).on(controlEvent.end + '.resize', this._resizeEnd.bind(this));\n\t\t}\n\t}, {\n\t\tkey: '_resizeIng',\n\t\tvalue: function _resizeIng(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar size = {};\n\t\t\tvar position = {};\n\t\t\tvar ratio = 1;\n\t\t\tvar distanceHeight = 0;\n\t\t\tvar evt = e.type === 'touchmove' ? e.originalEvent.touches[0] : e;\n\n\t\t\t// set mouse position\n\t\t\tvar distanceX = (evt.clientX || evt.pageX) + (0, _jquery2.default)(window).scrollLeft() - this.resizeStartInfo.mouseX;\n\n\t\t\t// set position and size\n\t\t\tswitch (this.resizeStartInfo.title) {\n\t\t\t\tcase 'resize-lt':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-rt':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-lb':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-rb':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// set image size\n\n\t\t\tthis.setState({\n\t\t\t\tsize: parseInt(size.width) + 'px ' + parseInt(size.height) + 'px',\n\t\t\t\tposition: parseInt(position.x) + 'px ' + parseInt(position.y) + 'px'\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_resizeEnd',\n\t\tvalue: function _resizeEnd(e) {\n\t\t\tthis.$img = null;\n\t\t\tthis.resizeStartInfo = null;\n\n\t\t\t(0, _jquery2.default)(document).off(controlEvent.move + '.resize').off(controlEvent.end + '.resize');\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\t\t\tvar size = state.size !== 'cover' ? state.size.split(' ') : state.size;\n\t\t\tvar position = state.position.split(' ');\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'figure',\n\t\t\t\t{\n\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t_this2._self = r;\n\t\t\t\t\t},\n\t\t\t\t\tstyle: { backgroundColor: props.bgColor },\n\t\t\t\t\tclassName: 'ple-cropperBlock ple-cropper__block' },\n\t\t\t\tstate.isCover ? _react2.default.createElement('span', {\n\t\t\t\t\tstyle: { backgroundImage: 'url(\\'' + props.src + '\\')' },\n\t\t\t\t\tclassName: 'ple-cropperBlock__image ple-cropperBlock__image-cover' }) : _react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{\n\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-cropperBlock__image', { 'ple-cropperBlock__image-resize': props.size !== 'cover' }) },\n\t\t\t\t\t_react2.default.createElement('img', {\n\t\t\t\t\t\tsrc: props.src,\n\t\t\t\t\t\tstyle: Object.assign({}, state.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\ttransform: 'translate(' + position[0] + ', ' + position[1] + ')'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\talt: 'image' })\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tonMouseDown: this._moveStart.bind(this),\n\t\t\t\t\t\tonTouchStart: this._moveStart.bind(this),\n\t\t\t\t\t\tstyle: Object.assign({}, state.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\theight: size[1],\n\t\t\t\t\t\t\ttransform: 'translate(' + position[0] + ', ' + position[1] + ')'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-cropperBlock__control', { 'ple-cropperBlock__control-active': props.size !== 'cover' }) },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-lt',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-lt' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-rt',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-rt' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-lb',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-lb' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-rb',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-rb' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Block;\n}(_react2.default.Component), _class.displayName = 'Block', _class.defaultProps = {\n\tsrc: '',\n\tposition: '',\n\tsize: '',\n\tbgColor: '#fff'\n}, _temp);\nexports.default = Block;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Block = __webpack_require__(22);\n\nvar _Block2 = _interopRequireDefault(_Block);\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cropper = (_temp = _class = function (_React$Component) {\n\t_inherits(Cropper, _React$Component);\n\n\tfunction Cropper(props) {\n\t\t_classCallCheck(this, Cropper);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Cropper.__proto__ || Object.getPrototypeOf(Cropper)).call(this, props));\n\n\t\tvar cropper = props.tree.cropper;\n\n\n\t\t_this.imageMeta = null;\n\t\t_this._block = null;\n\t\t_this.$item = (0, _jquery2.default)(props.element).find('.react-grid-item').filter('[data-key=' + cropper.key + ']');\n\n\t\t_this.state = {\n\t\t\tpending: true,\n\t\t\tposition: cropper.item.image.position,\n\t\t\tsize: cropper.item.image.size || 'cover',\n\t\t\twidth: _this.$item.width(),\n\t\t\theight: _this.$item.height(),\n\t\t\ttop: _this.$item.position().top,\n\t\t\tleft: _this.$item.position().left\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(Cropper, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar cropper = props.tree.cropper;\n\n\n\t\t\tlib.util.getImageSize(cropper.item.image.src).then(function (res) {\n\t\t\t\t_this2.imageMeta = res;\n\t\t\t\t_this2.setState({ pending: false });\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * close cropper\n   * `cropper`를 닫고, 변경된 이미지를 `grid`로 보낸다.\n   */\n\n\t}, {\n\t\tkey: '_onClose',\n\t\tvalue: function _onClose() {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.api.cropper.close(props.tree.cropper.key, this._block.state.position, this._block.state.size);\n\t\t}\n\n\t\t/**\n   * toggle image type\n   * 직접 리사이즈를 사용하는지 기본(꽉채우는..)타입으로 사용할건지 변경하는 액션\n   *\n   */\n\n\t}, {\n\t\tkey: '_toggleImageType',\n\t\tvalue: function _toggleImageType() {\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\tif (state.size === 'cover') {\n\t\t\t\tvar targetSize = '';\n\t\t\t\tvar ratio = 0;\n\t\t\t\tif (state.height > state.width) {\n\t\t\t\t\tratio = lib.number.getRatioForResize(state.height, this.imageMeta.height);\n\t\t\t\t\ttargetSize = parseInt(this.imageMeta.width * ratio) + 'px ' + state.height + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tratio = lib.number.getRatioForResize(state.width, this.imageMeta.width);\n\t\t\t\t\ttargetSize = state.width + 'px ' + parseInt(this.imageMeta.height * ratio) + 'px';\n\t\t\t\t}\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: '0 0',\n\t\t\t\t\tsize: targetSize\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\tsize: 'cover'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\tif (state.pending) return null;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-cropper' },\n\t\t\t\t_react2.default.createElement('span', { className: 'ple-cropper__bg' }),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\twidth: state.width + 'px',\n\t\t\t\t\t\t\theight: state.height + 'px',\n\t\t\t\t\t\t\ttop: state.top + 'px',\n\t\t\t\t\t\t\tleft: state.left + 'px'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'ple-cropper__wrap' },\n\t\t\t\t\t_react2.default.createElement(_Block2.default, {\n\t\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t\t_this3._block = r;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsrc: props.tree.cropper.item.image.src,\n\t\t\t\t\t\tposition: state.position,\n\t\t\t\t\t\tsize: state.size,\n\t\t\t\t\t\tbgColor: props.tree.cropper.item.color || props.setting.body.blockColor }),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'nav',\n\t\t\t\t\t\t{ className: 'ple-cropper__nav' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'button', onClick: this._onClose.bind(this) },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-close ple-abs' },\n\t\t\t\t\t\t\t\t'Close cropper'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\t\tonClick: this._toggleImageType.bind(this),\n\t\t\t\t\t\t\t\tclassName: (0, _classnames2.default)({\n\t\t\t\t\t\t\t\t\t'ple-cropper__nav-active': state.size !== 'cover'\n\t\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-resize ple-abs' },\n\t\t\t\t\t\t\t\t'Toggle background size type'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Cropper;\n}(_react2.default.Component), _class.displayName = 'Cropper', _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Cropper);\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Item = (_temp = _class = function (_React$Component) {\n\t_inherits(Item, _React$Component);\n\n\tfunction Item() {\n\t\t_classCallCheck(this, Item);\n\n\t\treturn _possibleConstructorReturn(this, (Item.__proto__ || Object.getPrototypeOf(Item)).apply(this, arguments));\n\t}\n\n\t_createClass(Item, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tvar attr = Object.assign({}, lib.util.isTouchDevice() ? {\n\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\tonTouchEnd: props.onTouchEnd\n\t\t\t} : {\n\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\tonDragEnd: props.onDragEnd\n\t\t\t});\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'li',\n\t\t\t\tnull,\n\t\t\t\t_react2.default.createElement('button', _extends({\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\t'data-id': props.id,\n\t\t\t\t\t'data-image': props.image,\n\t\t\t\t\tdraggable: true,\n\t\t\t\t\tonClick: props.onClick\n\t\t\t\t}, attr, {\n\t\t\t\t\tstyle: { backgroundImage: 'url(\\'' + props.image + '\\')' },\n\t\t\t\t\tclassName: (0, _classnames2.default)({ 'ple-sideItems__item-active': props.active }) }))\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Item;\n}(_react2.default.Component), _class.displayName = 'Item', _class.defaultProps = {\n\timage: null, // image\n\tid: null, // id\n\tactive: null, // active item\n\tonClick: null, // on click item\n\tonDragStart: null, // on drag start\n\tonDragEnd: null, // on drag end\n\tonTouchStart: null, // on touch start\n\tonTouchMove: null, // on touch move\n\tonTouchEnd: null // on touch end\n}, _temp);\nexports.default = Item;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Item = __webpack_require__(24);\n\nvar _Item2 = _interopRequireDefault(_Item);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Items = (_temp = _class = function (_React$Component) {\n\t_inherits(Items, _React$Component);\n\n\tfunction Items() {\n\t\t_classCallCheck(this, Items);\n\n\t\treturn _possibleConstructorReturn(this, (Items.__proto__ || Object.getPrototypeOf(Items)).apply(this, arguments));\n\t}\n\n\t_createClass(Items, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-sideItems' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-sideItems__wrap' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'ul',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tObject.keys(props.files).map(function (o) {\n\t\t\t\t\t\t\treturn _react2.default.createElement(_Item2.default, {\n\t\t\t\t\t\t\t\tkey: o,\n\t\t\t\t\t\t\t\tid: o,\n\t\t\t\t\t\t\t\timage: props.files[o].image,\n\t\t\t\t\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\t\t\t\t\tonDragEnd: props.onDragEnd,\n\t\t\t\t\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\t\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\t\t\t\t\tonTouchEnd: props.onTouchEnd,\n\t\t\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\t\t\treturn props.onSelect(parseInt(o));\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tactive: props.files[o].active });\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tprops.progress !== null && _react2.default.createElement(\n\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t{ className: 'ple-sideItems__loading' },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{ className: 'ple-sideItems__progress' },\n\t\t\t\t\t\t\t\t_react2.default.createElement('span', {\n\t\t\t\t\t\t\t\t\tclassName: 'ple-sideItems__bar',\n\t\t\t\t\t\t\t\t\tstyle: { height: props.progress + '%' } }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ className: 'ple-sideItems__percent' },\n\t\t\t\t\t\t\t\t\tprops.progress + '%'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Items;\n}(_react2.default.Component), _class.displayName = 'Items', _class.defaultProps = {\n\tfiles: [], // files\n\tonSelect: function onSelect(key) {}, // on select event\n\tonDragStart: null, // on drag start\n\tonDragEnd: null, // on drag end\n\tonTouchStart: null, // on touch start\n\tonTouchMove: null, // on touch move\n\tonTouchEnd: null, // on touch end\n\tprogress: null // on progress number\n}, _temp);\nexports.default = Items;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SideNavigation = (_temp = _class = function (_React$Component) {\n\t_inherits(SideNavigation, _React$Component);\n\n\tfunction SideNavigation(props) {\n\t\t_classCallCheck(this, SideNavigation);\n\n\t\tvar _this = _possibleConstructorReturn(this, (SideNavigation.__proto__ || Object.getPrototypeOf(SideNavigation)).call(this, props));\n\n\t\t_this.state = {\n\t\t\ttimestamp: Date.now()\n\t\t};\n\t\treturn _this;\n\t}\n\n\t/**\n  * Upload images\n  *\n  * @param {Event} e\n  */\n\n\n\t_createClass(SideNavigation, [{\n\t\tkey: 'upload',\n\t\tvalue: function upload(e) {\n\t\t\tthis.props.onUpload(e.target.files);\n\n\t\t\tthis.setState({\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props,\n\t\t\t    state = this.state;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'nav',\n\t\t\t\t{ className: 'ple-sideNavigation ple-side__navigation' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-sideNavigation__wrap' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'attach images', onClick: props.onAttach },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-reply ple-abs' },\n\t\t\t\t\t\t\t'Moving the image to grid block'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'toggle select', onClick: props.onToggleSelect },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-select ple-abs' },\n\t\t\t\t\t\t\t'Toggle all select'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{ title: 'upload images', key: state.timestamp },\n\t\t\t\t\t\t_react2.default.createElement('input', { type: 'file', ref: 'inputFile', onChange: this.upload.bind(this), multiple: true }),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-upload ple-abs' },\n\t\t\t\t\t\t\t'upload images'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'remove images', onClick: props.onRemove },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-trash ple-abs' },\n\t\t\t\t\t\t\t'remove images'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn SideNavigation;\n}(_react2.default.Component), _class.displayName = 'Navigation', _class.defaultProps = {\n\tonRemove: function onRemove() {},\n\tonToggleSelect: function onToggleSelect() {},\n\tonAttach: function onAttach() {},\n\tonUpload: function onUpload() {}\n}, _temp);\nexports.default = SideNavigation;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ToggleSideButton = (_temp = _class = function (_Component) {\n\t_inherits(ToggleSideButton, _Component);\n\n\tfunction ToggleSideButton() {\n\t\t_classCallCheck(this, ToggleSideButton);\n\n\t\treturn _possibleConstructorReturn(this, (ToggleSideButton.__proto__ || Object.getPrototypeOf(ToggleSideButton)).apply(this, arguments));\n\t}\n\n\t_createClass(ToggleSideButton, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'button',\n\t\t\t\t{\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tonClick: props.onClick,\n\t\t\t\t\tclassName: 'ple-side__toggle' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: (0, _classnames2.default)('ple-sp-ico', 'ple-abs', {\n\t\t\t\t\t\t\t\t'ple-ico-arrow-right': props.show,\n\t\t\t\t\t\t\t\t'ple-ico-arrow-left': !props.show\n\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t'Toggle sidebar'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn ToggleSideButton;\n}(_react.Component), _class.displayName = 'ToggleSideButton', _class.defaultProps = {\n\tshow: false,\n\tonClick: function onClick() {}\n}, _temp);\nexports.default = ToggleSideButton;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _ToggleSideButton = __webpack_require__(27);\n\nvar _ToggleSideButton2 = _interopRequireDefault(_ToggleSideButton);\n\nvar _Navigation = __webpack_require__(26);\n\nvar _Navigation2 = _interopRequireDefault(_Navigation);\n\nvar _Items = __webpack_require__(25);\n\nvar _Items2 = _interopRequireDefault(_Items);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nvar _selectItems = __webpack_require__(29);\n\nvar _selectItems2 = _interopRequireDefault(_selectItems);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Side = (_temp = _class = function (_React$Component) {\n\t_inherits(Side, _React$Component);\n\n\tfunction Side(props) {\n\t\t_classCallCheck(this, Side);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Side.__proto__ || Object.getPrototypeOf(Side)).call(this, props));\n\n\t\t_this.dragTarget = null;\n\t\t_this.dragPosition = [];\n\t\t_this.$gridItems = null;\n\t\t_this.$dragItem = null;\n\t\t_this.uploading = false;\n\t\treturn _this;\n\t}\n\n\t/**\n  * get gridster item\n  * 포인트 위치에 있는 gridster블럭을 가져온다.\n  *\n  * @return {Object} gridster item\n  */\n\n\n\t_createClass(Side, [{\n\t\tkey: 'getGridsterItem',\n\t\tvalue: function getGridsterItem() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\n\t\t\tvar target = null;\n\t\t\tthis.$gridItems = (0, _jquery2.default)(props.element).find('.ple-grid > div');\n\n\t\t\tthis.$gridItems.each(function (n, el) {\n\t\t\t\tvar $this = (0, _jquery2.default)(el);\n\t\t\t\tvar pos = $this.offset();\n\t\t\t\tif (pos.left < _this2.dragPosition[0] && pos.left + $this.width() > _this2.dragPosition[0] && pos.top < _this2.dragPosition[1] && pos.top + $this.height() > _this2.dragPosition[1]) {\n\t\t\t\t\ttarget = $this.data('key');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn target;\n\t\t}\n\n\t\t/**\n   * On select items\n   *\n   * @param {Number} key\n   */\n\n\t}, {\n\t\tkey: '_selectItem',\n\t\tvalue: function _selectItem(key) {\n\t\t\tvar props = this.props;\n\n\t\t\tvar selected = (0, _selectItems2.default)(props, key);\n\t\t\tprops.api.side.select(selected);\n\t\t}\n\n\t\t/**\n   * Remove items\n   */\n\n\t}, {\n\t\tkey: '_removeItems',\n\t\tvalue: function _removeItems() {\n\t\t\tvar props = this.props;\n\n\t\t\tvar keys = props.api.side.getKeys('selected');\n\n\t\t\tif (keys.length) {\n\t\t\t\tif (confirm('Do you really want to delete it?')) {\n\t\t\t\t\tprops.api.side.remove(keys);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!confirm('Delete all?')) return;\n\t\t\t\tkeys = props.api.side.getKeys('all');\n\t\t\t\tprops.api.side.remove(keys);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * upload\n   *\n   * @param {FileList} files\n   */\n\n\t}, {\n\t\tkey: '_upload',\n\t\tvalue: function _upload(files) {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.api.side.upload(files);\n\t\t}\n\n\t\t/**\n   * Attach images to grid\n   */\n\n\t}, {\n\t\tkey: '_attach',\n\t\tvalue: function _attach() {\n\t\t\ttry {\n\t\t\t\tvar keys = this.props.api.side.getKeys('selected');\n\t\t\t\tvar result = this.props.api.side.attachToGrid(keys);\n\t\t\t\tif (result) throw result;\n\t\t\t} catch (e) {\n\t\t\t\talert(e.message);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_dragStartItem',\n\t\tvalue: function _dragStartItem(e) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$gridItems = (0, _jquery2.default)(props.element).find('.ple-grid > div');\n\t\t\tthis.$gridItems.on('dragover', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif ((0, _jquery2.default)(e.currentTarget).hasClass('ple-grid__item-hover')) return;\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).addClass('ple-grid__item-hover');\n\t\t\t}).on('dragleave', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t\t}).on('drop', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t\t\t_this3.dragTarget = (0, _jquery2.default)(e.currentTarget).data('key');\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_dragEndItem',\n\t\tvalue: function _dragEndItem(e) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$gridItems.off();\n\t\t\tthis.$gridItems = null;\n\n\t\t\t// check drag target\n\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t// play redux\n\t\t\tprops.dispatch(actions.body.attachImage(this.dragTarget, (0, _jquery2.default)(e.currentTarget).data('image')));\n\n\t\t\t// empty dragTarget\n\t\t\tthis.dragTarget = null;\n\t\t}\n\t}, {\n\t\tkey: '_touchStartItem',\n\t\tvalue: function _touchStartItem(e) {\n\t\t\tthis.$dragItem = (0, _jquery2.default)(e.currentTarget).clone().removeAttr('draggable').addClass('ple-side__placeholder').width((0, _jquery2.default)(e.currentTarget).width()).height((0, _jquery2.default)(e.currentTarget).height());\n\n\t\t\t(0, _jquery2.default)('body').append(this.$dragItem);\n\t\t}\n\t}, {\n\t\tkey: '_touchMoveItem',\n\t\tvalue: function _touchMoveItem(e) {\n\t\t\tif (!lib.util.checkSupportCss('touch-action', 'pan-y')) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tvar touch = e.nativeEvent.touches[0];\n\t\t\tthis.dragPosition = [touch.pageX, touch.pageY];\n\t\t\tthis.$dragItem.css({\n\t\t\t\tleft: touch.pageX - this.$dragItem.width() * 0.5,\n\t\t\t\ttop: touch.pageY - this.$dragItem.height() * 0.5\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_touchEndItem',\n\t\tvalue: function _touchEndItem(e) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$dragItem.remove();\n\t\t\tthis.$dragItem = null;\n\n\t\t\tif (this.dragPosition.length > 0) {\n\t\t\t\tthis.dragTarget = this.getGridsterItem();\n\n\t\t\t\t// check drag target\n\t\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t\t// play redux\n\t\t\t\tprops.dispatch(actions.body.attachImage(this.dragTarget, (0, _jquery2.default)(e.currentTarget).data('image')));\n\t\t\t\tthis.dragPosition = [];\n\t\t\t} else {\n\t\t\t\t// TODO : 확인해보고 처리하기\n\t\t\t\t//this._selectItem($(e.currentTarget).data('id'));\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'aside',\n\t\t\t\t{ className: 'ple-side' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: (0, _classnames2.default)('ple-side__wrap', { 'ple-side__wrap-show': props.tree.side.visible }) },\n\t\t\t\t\t_react2.default.createElement('span', {\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.side.toggleSelectAll(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'ple-side__background' }),\n\t\t\t\t\t_react2.default.createElement(_ToggleSideButton2.default, {\n\t\t\t\t\t\tshow: props.tree.side.visible,\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.layout.toggleSide(undefined);\n\t\t\t\t\t\t} }),\n\t\t\t\t\t_react2.default.createElement(_Navigation2.default, {\n\t\t\t\t\t\tonAttach: this._attach.bind(this),\n\t\t\t\t\t\tonToggleSelect: function onToggleSelect() {\n\t\t\t\t\t\t\treturn props.api.side.toggleSelectAll();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonUpload: this._upload.bind(this),\n\t\t\t\t\t\tonRemove: this._removeItems.bind(this) }),\n\t\t\t\t\t_react2.default.createElement(_Items2.default, {\n\t\t\t\t\t\tfiles: props.tree.side.files,\n\t\t\t\t\t\tonSelect: this._selectItem.bind(this),\n\t\t\t\t\t\tonDragStart: this._dragStartItem.bind(this),\n\t\t\t\t\t\tonDragEnd: this._dragEndItem.bind(this),\n\t\t\t\t\t\tonTouchStart: this._touchStartItem.bind(this),\n\t\t\t\t\t\tonTouchMove: this._touchMoveItem.bind(this),\n\t\t\t\t\t\tonTouchEnd: this._touchEndItem.bind(this),\n\t\t\t\t\t\tprogress: props.tree.side.progressPercent })\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Side;\n}(_react2.default.Component), _class.displayName = 'Side', _class.defaultProps = {\n\ttree: {}, // data tree in reduce\n\tsetting: {}, // setting in reduce\n\tapi: {}, // api\n\tdispatch: null // redux dispatch\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state);\n})(Side);\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = selectItems;\nvar firstSelectIdx = null;\n\n/**\n * Change active\n *\n * @param {Number} key\n * @param {Object} item\n * @param {Number} start\n * @param {Number} end\n * @param {String} type press key name and select type\n * @return {Object}\n */\nfunction changeActive(key, item, start, end, type) {\n\tswitch (type) {\n\t\tcase 'add':\n\t\t\treturn {\n\t\t\t\tkey: key,\n\t\t\t\tactive: key === end ? !item.active : item.active\n\t\t\t};\n\t\tcase 'range':\n\t\t\tstart = start || 0;\n\t\t\tif (start < end) {\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tactive: key >= start && key <= end\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tactive: key <= start && key >= end\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn item;\n\t}\n\n\t// not found type\n\tif (key === end) {\n\t\treturn { key: key, active: !item.active };\n\t} else {\n\t\treturn { key: key, active: false };\n\t}\n}\n\n/**\n * select items\n *\n * @param {Object} props\n * @param {Number} key\n * @return {Array}\n */\nfunction selectItems(props, key) {\n\tvar keyName = props.keyboard.keyName;\n\tvar files = props.tree.side.files;\n\n\tvar type = null;\n\tvar selected = false;\n\n\tif (keyName !== 'SHIFT') {\n\t\tvar currentItem = null;\n\t\tObject.keys(props.tree.side.files).forEach(function (k) {\n\t\t\tvar obj = props.tree.side.files[k];\n\t\t\tif (parseInt(k) === key) {\n\t\t\t\tcurrentItem = obj;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tfirstSelectIdx = currentItem.active === true ? null : key;\n\t\tif (!firstSelectIdx && currentItem.active === true) {\n\t\t\tfirstSelectIdx = currentItem.key;\n\t\t}\n\t}\n\n\tswitch (keyName) {\n\t\tcase 'CTRL':\n\t\tcase 'CMD':\n\t\t\ttype = 'add';\n\t\t\tbreak;\n\t\tcase 'SHIFT':\n\t\t\ttype = 'range';\n\t}\n\n\tvar items = Object.keys(files).map(function (k) {\n\t\tvar obj = changeActive(parseInt(k), files[k], firstSelectIdx, key, type);\n\t\tif (obj.active) {\n\t\t\tselected = true;\n\t\t}\n\t\treturn obj;\n\t});\n\n\tif (!selected) {\n\t\tfirstSelectIdx = null;\n\t}\n\n\treturn items;\n}\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.addBlock = addBlock;\nexports.removeBlock = removeBlock;\nexports.shuffleBlocks = shuffleBlocks;\nexports.duplicateBlock = duplicateBlock;\nexports.updateBlocks = updateBlocks;\nexports.activeBlock = activeBlock;\nexports.changeColorBlock = changeColorBlock;\nexports.updateSetting = updateSetting;\nexports.attachImages = attachImages;\nexports.attachImage = attachImage;\nexports.removeImages = removeImages;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction addBlock(value) {\n\treturn {\n\t\ttype: types.GRID_ADD_BLOCK,\n\t\tvalue: value\n\t};\n}\n\nfunction removeBlock(keys) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_BLOCK,\n\t\tkeys: keys\n\t};\n}\n\nfunction shuffleBlocks(options) {\n\treturn {\n\t\ttype: types.GRID_SHUFFLE_BLOCKS,\n\t\tvalue: options\n\t};\n}\n\nfunction duplicateBlock(keys) {\n\treturn {\n\t\ttype: types.GRID_DUPLICATE_BLOCK,\n\t\tkeys: keys\n\t};\n}\n\nfunction updateBlocks(blocks) {\n\treturn {\n\t\ttype: types.GRID_UPDATE_BLOCKS,\n\t\tvalue: blocks\n\t};\n}\n\nfunction activeBlock(key) {\n\tvar isImage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n\treturn {\n\t\ttype: types.GRID_ACTIVE_BLOCK,\n\t\tvalue: key,\n\t\tisImage: isImage\n\t};\n}\n\nfunction changeColorBlock(keys, color) {\n\treturn {\n\t\ttype: types.GRID_CHANGE_COLOR,\n\t\tkeys: keys,\n\t\tcolor: color\n\t};\n}\n\nfunction updateSetting(value) {\n\treturn {\n\t\ttype: types.GRID_SETTING_UPDATE,\n\t\tvalue: value\n\t};\n}\n\nfunction attachImages(images, cols, activeBlocks) {\n\treturn {\n\t\ttype: types.GRID_ATTACH_IMAGES,\n\t\tvalue: images,\n\t\tcolumns: cols,\n\t\tactiveBlocks: activeBlocks\n\t};\n}\n\nfunction attachImage(keys, image) {\n\treturn {\n\t\ttype: types.GRID_ATTACH_IMAGE,\n\t\tkeys: keys,\n\t\timage: image\n\t};\n}\n\nfunction removeImages(ids) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_IMAGES,\n\t\tvalue: ids\n\t};\n}\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.init = init;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction init(api, preference, element) {\n\treturn {\n\t\ttype: types.INIT_PLE,\n\t\tapi: api,\n\t\tpreference: preference,\n\t\telement: element\n\t};\n}\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.open = open;\nexports.close = close;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction open(key, item) {\n\treturn {\n\t\ttype: types.CROPPER_OPEN,\n\t\titem: item,\n\t\tkey: key\n\t};\n}\n\nfunction close(key, position, size) {\n\treturn {\n\t\ttype: types.CROPPER_CLOSE,\n\t\tkey: key,\n\t\tposition: position,\n\t\tsize: size\n\t};\n}\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.visible = visible;\nexports.toggle = toggle;\nexports.addFiles = addFiles;\nexports.removeFiles = removeFiles;\nexports.updateSelected = updateSelected;\nexports.updateProgress = updateProgress;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// control visible side bar\nfunction visible(sw) {\n\treturn {\n\t\ttype: types.SIDE_VISIBLE,\n\t\tvalue: sw\n\t};\n}\n\n// toggle side bar\nfunction toggle() {\n\treturn {\n\t\ttype: types.SIDE_TOGGLE\n\t};\n}\n\nfunction addFiles() {\n\tvar files = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\treturn {\n\t\ttype: types.SIDE_ADD_FILES,\n\t\tfiles: files\n\t};\n}\n\nfunction removeFiles() {\n\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\treturn {\n\t\ttype: types.SIDE_REMOVE_FILES,\n\t\tkeys: keys\n\t};\n}\n\nfunction updateSelected(value) {\n\treturn {\n\t\ttype: types.SIDE_UPDATE_SELECTED,\n\t\tvalue: value\n\t};\n}\n\nfunction updateProgress(percent) {\n\treturn {\n\t\ttype: types.SIDE_UPDATE_PROGRESS,\n\t\tvalue: percent\n\t};\n}\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _redux = __webpack_require__(8);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _Container = __webpack_require__(11);\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _reducers = __webpack_require__(12);\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nvar _API = __webpack_require__(10);\n\nvar _API2 = _interopRequireDefault(_API);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PhotoLayoutEditor = (_temp = _class = function (_React$Component) {\n\t_inherits(PhotoLayoutEditor, _React$Component);\n\n\tfunction PhotoLayoutEditor() {\n\t\t_classCallCheck(this, PhotoLayoutEditor);\n\n\t\t// set store\n\t\tvar _this = _possibleConstructorReturn(this, (PhotoLayoutEditor.__proto__ || Object.getPrototypeOf(PhotoLayoutEditor)).call(this));\n\n\t\t_this.store = (0, _redux.createStore)(_reducers2.default);\n\n\t\t// set api\n\t\t_this.api = new _API2.default(_this.store);\n\t\treturn _this;\n\t}\n\n\t_createClass(PhotoLayoutEditor, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_reactRedux.Provider,\n\t\t\t\t{ store: this.store },\n\t\t\t\t_react2.default.createElement(_Container2.default, { parent: { preference: props, api: this.api } })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn PhotoLayoutEditor;\n}(_react2.default.Component), _class.displayName = 'PhotoLayoutEditor', _temp);\nexports.default = PhotoLayoutEditor;\n\nmodule.exports = PhotoLayoutEditor;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Keyboard = function () {\n\tfunction Keyboard() {\n\t\t_classCallCheck(this, Keyboard);\n\n\t\tthis.eventName = 'PLE_' + libs.number.getTimeStamp();\n\t\tthis.code = null;\n\t\tthis.keyName = null;\n\t\tthis.names = {\n\t\t\t17: 'CTRL',\n\t\t\t18: 'ALT',\n\t\t\t91: 'CMD',\n\t\t\t93: 'CMD',\n\t\t\t16: 'SHIFT'\n\t\t};\n\n\t\t// init key down event\n\t\t(0, _jquery2.default)(window).on('keydown.' + this.eventName, this._keyDown.bind(this));\n\t}\n\n\t/**\n  * apply\n  *\n  * @param {Number} code\n  */\n\n\n\t_createClass(Keyboard, [{\n\t\tkey: 'apply',\n\t\tvalue: function apply(code) {\n\t\t\tthis.code = code;\n\t\t\tthis.keyName = this.names[this.code] || null;\n\t\t}\n\n\t\t/**\n   * key down event\n   *\n   * @param {Event} e\n   */\n\n\t}, {\n\t\tkey: '_keyDown',\n\t\tvalue: function _keyDown(e) {\n\t\t\t// apply keyCode\n\t\t\tthis.apply(e.keyCode);\n\n\t\t\t// set events\n\t\t\t(0, _jquery2.default)(window).on('keyup.' + this.eventName, this._keyUp.bind(this)).on('contextmenu.' + this.eventName, this._keyUp.bind(this)).on('blur.' + this.eventName, this._keyUp.bind(this)).off('keydown.' + this.eventName);\n\t\t}\n\n\t\t/**\n   * key up event\n   *\n   */\n\n\t}, {\n\t\tkey: '_keyUp',\n\t\tvalue: function _keyUp() {\n\t\t\t// apply keyCode\n\t\t\tthis.apply(null);\n\n\t\t\t// set events\n\t\t\t(0, _jquery2.default)(window).on('keydown.' + this.eventName, this._keyDown.bind(this)).off('contextmenu.' + this.eventName + ' keyup.' + this.eventName + ' blur.' + this.eventName);\n\t\t}\n\n\t\t/**\n   * destroy event\n   *\n   */\n\n\t}, {\n\t\tkey: 'destroy',\n\t\tvalue: function destroy() {\n\t\t\t(0, _jquery2.default)(window).off('keydown.' + this.eventName + ' contextmenu.' + this.eventName + ' keyup.' + this.eventName + ' blur.' + this.eventName);\n\t\t}\n\t}]);\n\n\treturn Keyboard;\n}();\n\nexports.default = Keyboard;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rgbToHex = rgbToHex;\n/**\n * rgba to hex\n *\n * @param {String} color\n * @return {String}\n */\nfunction rgbToHex(color) {\n  color = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n  return color && color.length === 4 ? \"#\" + (\"0\" + parseInt(color[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(color[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(color[3], 10).toString(16)).slice(-2) : '';\n}\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.randomRange = randomRange;\nexports.getRatioForResize = getRatioForResize;\nexports.getTimeStamp = getTimeStamp;\n/**\n * Random range\n * min~max 사이의 랜덤 정수를 반환한다.\n *\n * @param {Number} min\n * @param {Number} max\n * @param {Boolean} useDecimal\n * @return {Number}\n */\nfunction randomRange(min, max) {\n  var useDecimal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (useDecimal) {\n    return Math.random() * (max - min) + min;\n  } else {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n}\n\n/**\n * get ratio for resize\n * max와 min값의 차이의 비율을 가져온다.\n *\n * @param {Number} min\n * @param {Number} max\n * @return {Number}\n */\nfunction getRatioForResize(min, max) {\n  return max > min ? min / max : max / min;\n}\n\n/**\n * Get timestamp\n *\n * @return {Number}\n */\nfunction getTimeStamp() {\n  return Math.round(+new Date() / 1000);\n}\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isArray = isArray;\n/**\n * is array\n *\n * @param {Array} arr\n * @return {Boolean}\n */\nfunction isArray() {\n  var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return !!(arr && arr.length);\n}\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = uploader;\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * local upload\n *\n * @param {File} file\n * @return {Promise}\n */\nfunction local(file) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar reader = new FileReader();\n\n\treader.addEventListener('load', function (e) {\n\t\tdefer.resolve({\n\t\t\tname: file.name,\n\t\t\ttype: file.type,\n\t\t\tsize: file.size,\n\t\t\turl: e.target.result\n\t\t});\n\t});\n\treader.addEventListener('error', function (e) {\n\t\tdefer.reject(e.target);\n\t});\n\n\treader.readAsDataURL(file);\n\n\treturn defer.promise();\n}\n\n/**\n * external upload\n *\n * @param {String} script\n * @param {File} file\n * @return {Promise}\n */\nfunction external(script, file) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar xhr = new XMLHttpRequest();\n\n\tif (!(typeof FormData === 'function' || (typeof FormData === 'undefined' ? 'undefined' : _typeof(FormData)) === 'object')) {\n\t\tdefer.reject('not support browser', file);\n\t\treturn null;\n\t}\n\tvar formData = new FormData();\n\n\tfunction onLoad(e) {\n\t\ttry {\n\t\t\tvar result = JSON.parse(e.target.responseText);\n\t\t\tif (result.state === 'success') {\n\t\t\t\tdefer.resolve(result.data);\n\t\t\t} else {\n\t\t\t\tthrow 'server error';\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tdefer.reject(e);\n\t\t}\n\t}\n\n\tfunction onProgress(event) {\n\t\tvar loaded = event.loaded,\n\t\t    total = event.total;\n\n\t\tdefer.notify('progress', loaded, total);\n\t}\n\n\tformData.append('files[]', file);\n\txhr.open('post', script, true);\n\n\txhr.addEventListener('load', onLoad);\n\txhr.upload.addEventListener('progress', onProgress);\n\n\txhr.send(formData);\n\n\t// start queue\n\tdefer.notify('start');\n\n\treturn defer.promise();\n}\n\n/**\n * upload multiple files\n *\n */\nfunction uploader(files, script) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar total = files.length;\n\tvar count = 0;\n\n\tfunction upload() {\n\t\tif (count >= total) {\n\t\t\tdefer.resolve();\n\t\t\treturn;\n\t\t}\n\n\t\tif (script) {\n\t\t\texternal(script, files[count]).done(function (data) {\n\t\t\t\tdefer.notify('done', { count: count, data: data });\n\t\t\t\tcount++;\n\t\t\t\tupload();\n\t\t\t}).progress(function (state, loaded, total) {\n\t\t\t\tdefer.notify(state, state === 'progress' && { loaded: loaded, total: total });\n\t\t\t}).fail(function (error) {\n\t\t\t\tdefer.reject(error);\n\t\t\t});\n\t\t} else {\n\t\t\tlocal(files[count]).done(function (data) {\n\t\t\t\tdefer.notify('done', { count: count, data: data });\n\t\t\t\tcount++;\n\t\t\t\tupload();\n\t\t\t}).fail(function () {});\n\t\t}\n\t}\n\n\tupload(0);\n\n\treturn defer.promise();\n}\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.isTouchDevice = isTouchDevice;\nexports.sleep = sleep;\nexports.getImageSize = getImageSize;\nexports.checkSupportCss = checkSupportCss;\n/**\n * is touch device\n *\n * @returns {boolean}\n */\nfunction isTouchDevice() {\n\treturn 'ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;\n}\n\n/**\n * Sleep\n *\n * @param {Number} time\n * @param {String} id\n * @return {Promise}\n */\nfunction sleep(time) {\n\tvar id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'pleTimer';\n\n\treturn new Promise(function (resolve) {\n\t\twindow[id] = setTimeout(resolve, time);\n\t});\n}\n\n/**\n * Get image size\n *\n * @param {String} src\n * @return {Promise}\n */\nfunction getImageSize(src) {\n\treturn new Promise(function (resolve, reject) {\n\t\tif (!(src && typeof src === 'string')) reject();\n\n\t\tvar img = document.createElement('img');\n\n\t\timg.onload = function () {\n\t\t\tresolve({\n\t\t\t\twidth: img.naturalWidth,\n\t\t\t\theight: img.naturalHeight,\n\t\t\t\tratio: img.naturalHeight / img.naturalWidth\n\t\t\t});\n\t\t};\n\n\t\timg.onerror = function () {\n\t\t\treject();\n\t\t};\n\n\t\timg.src = src;\n\t});\n}\n\n/**\n * get css prefix\n *\n * @variation {Object}\n */\nvar cssPrefix = exports.cssPrefix = function () {\n\tvar styles = window.getComputedStyle(document.documentElement, '');\n\tvar pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\tvar dom = 'WebKit|Moz|MS|O'.match(new RegExp('(' + pre + ')', 'i'))[1];\n\n\treturn {\n\t\tdom: dom,\n\t\tlowercase: pre,\n\t\tcss: '-' + pre + '-',\n\t\tjs: pre[0].toUpperCase() + pre.substr(1)\n\t};\n}();\n\n/**\n * check support css\n *\n * @param {String} key\n * @param {String} value\n * @return {Boolean}\n */\nfunction checkSupportCss(key, value) {\n\tif (CSS && CSS.supports) {\n\t\treturn CSS.supports(key, value);\n\t}\n}\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.setting = setting;\nexports.visibleToolbarButtons = visibleToolbarButtons;\nexports.grid = grid;\nexports.activeBlock = activeBlock;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar lastGridId = 0;\nvar shuffleIndex = 0;\n\n/**\n * setting\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nfunction setting() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.setting.body.setting;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn _extends({}, state, action.preference.body.setting);\n\t\t\t} catch (e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.GRID_SETTING_UPDATE:\n\t\t\treturn _extends({}, state, action.value);\n\t}\n\treturn state;\n}\n\n/**\n * visible toolbar buttons\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nfunction visibleToolbarButtons() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.body.visibleToolbarButtons;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\tif (action.value && action.value.length) {\n\t\t\t\treturn Object.assign({}, state, {\n\t\t\t\t\tremoveImage: true,\n\t\t\t\t\tduplicate: true,\n\t\t\t\t\tremoveBlock: true,\n\t\t\t\t\teditColor: true\n\t\t\t\t}, action.isImage && action.value.length === 1 ? {\n\t\t\t\t\tedit: true\n\t\t\t\t} : {\n\t\t\t\t\tedit: false\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn _extends({}, state, {\n\t\t\t\t\tedit: false,\n\t\t\t\t\tremoveImage: false,\n\t\t\t\t\tduplicate: false,\n\t\t\t\t\tremoveBlock: false,\n\t\t\t\t\teditColor: false\n\t\t\t\t});\n\t\t\t}\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tedit: false,\n\t\t\t\tremoveImage: false,\n\t\t\t\tduplicate: false,\n\t\t\t\tremoveBlock: false,\n\t\t\t\teditColor: false\n\t\t\t});\n\n\t\tcase types.GRID_REMOVE_IMAGES:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tedit: false\n\t\t\t});\n\t}\n\treturn state;\n}\n\n/**\n * grid\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nfunction grid() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\tvar action = arguments[1];\n\n\tvar newState = Object.assign({}, state);\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\tvar _grid = {};\n\t\t\ttry {\n\t\t\t\tif (!(action.preference.body.grid instanceof Array)) throw 'error';\n\t\t\t\taction.preference.body.grid.forEach(function (o, k) {\n\t\t\t\t\t_grid[k] = o;\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\t_grid = action.preference.body.grid;\n\t\t\t}\n\t\t\tObject.keys(_grid).forEach(function (o) {\n\t\t\t\tnewState[lastGridId++] = _extends({\n\t\t\t\t\tcolor: null\n\t\t\t\t}, _grid[o], {\n\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ADD_BLOCK:\n\t\t\tnewState[lastGridId++] = _extends({\n\t\t\t\tcolor: null,\n\t\t\t\tlayout: { x: Infinity, y: Infinity, w: 1, h: 1 }\n\t\t\t}, action.value, {\n\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (!action.keys || !action.keys.length) return state;\n\t\t\taction.keys.forEach(function (o) {\n\t\t\t\tdelete newState[o];\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_SHUFFLE_BLOCKS:\n\t\t\treturn Object.keys(newState).map(function (k) {\n\t\t\t\treturn _extends({}, newState[k], {\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tx: libs.number.randomRange(0, action.value.x - 1),\n\t\t\t\t\t\ty: libs.number.randomRange(0, action.value.y - 1),\n\t\t\t\t\t\tw: libs.number.randomRange(1, action.value.w),\n\t\t\t\t\t\th: libs.number.randomRange(1, action.value.h)\n\t\t\t\t\t},\n\t\t\t\t\tindexPrefix: shuffleIndex++\n\t\t\t\t});\n\t\t\t});\n\n\t\tcase types.GRID_DUPLICATE_BLOCK:\n\t\t\taction.keys.forEach(function (k) {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[lastGridId++] = Object.assign({}, newState[k]);\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_CHANGE_COLOR:\n\t\t\taction.keys.forEach(function (k) {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[k].color = action.color;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ATTACH_IMAGES:\n\t\t\tif (!libs.object.isArray(action.value)) return state;\n\n\t\t\tif (action.activeBlocks && action.activeBlocks.length) {\n\t\t\t\tObject.keys(newState).forEach(function (k) {\n\t\t\t\t\tif (!action.value.length) return;\n\t\t\t\t\tif (action.activeBlocks.indexOf(k) === -1) return;\n\t\t\t\t\tnewState[k].image = {\n\t\t\t\t\t\tsrc: action.value.splice(0, 1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tObject.keys(newState).forEach(function (k) {\n\t\t\t\t\tif (newState[k].image) return;\n\t\t\t\t\tif (!action.value || !action.value.length) return;\n\t\t\t\t\tnewState[k].image = {\n\t\t\t\t\t\tsrc: action.value.splice(0, 1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tif (action.value.length) {\n\t\t\t\t\taction.value.forEach(function (o, k) {\n\t\t\t\t\t\tnewState[lastGridId++] = {\n\t\t\t\t\t\t\tcolor: null,\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: (Object.keys(state).length + k) % action.columns,\n\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\timage: {\n\t\t\t\t\t\t\t\tsrc: o,\n\t\t\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ATTACH_IMAGE:\n\t\t\tif (!(action.image && typeof action.image === 'string')) return state;\n\t\t\tif (!newState[action.keys]) return state;\n\n\t\t\tnewState[action.keys].image = {\n\t\t\t\tsrc: action.image,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover'\n\t\t\t};\n\t\t\treturn newState;\n\n\t\tcase types.GRID_REMOVE_IMAGES:\n\t\t\taction.value.forEach(function (k) {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[k].image = null;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_UPDATE_BLOCKS:\n\t\t\treturn Object.assign({}, state, action.value);\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\tif (!newState[action.key]) return state;\n\t\t\tif (action.position) {\n\t\t\t\tnewState[action.key].image.position = action.position;\n\t\t\t}\n\t\t\tif (action.size) {\n\t\t\t\tnewState[action.key].image.size = action.size;\n\t\t\t}\n\t\t\treturn newState;\n\t}\n\n\treturn state;\n}\n\n/**\n * active block\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nfunction activeBlock() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\tvar action = arguments[1];\n\n\tvar newState = Object.assign([], state);\n\n\tswitch (action.type) {\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\treturn action.value;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (action.keys && action.keys.length) {\n\t\t\t\taction.keys.forEach(function (o) {\n\t\t\t\t\tif (newState.indexOf(o) < 0) return;\n\t\t\t\t\tnewState.splice(newState.indexOf(o), 1);\n\t\t\t\t});\n\t\t\t\treturn newState;\n\t\t\t}\n\t\t\treturn [];\n\t}\n\n\treturn state;\n}\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.setting = setting;\nexports.api = api;\nexports.keyboard = keyboard;\nexports.element = element;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _Keyboard = __webpack_require__(35);\n\nvar _Keyboard2 = _interopRequireDefault(_Keyboard);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction setting() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn Object.assign({}, {\n\t\t\t\tbase: _extends({}, defaults.setting.base, {\n\t\t\t\t\tuploadScript: action.preference.uploadScript || defaults.setting.base.uploadScript,\n\t\t\t\t\tuploadParamsConvertFunc: action.preference.uploadParamsConvertFunc || defaults.setting.base.uploadParamsConvertFunc\n\t\t\t\t}),\n\t\t\t\tside: _extends({}, defaults.setting.side, action.preference.side),\n\t\t\t\tbody: _extends({}, defaults.setting.body, action.preference.body)\n\t\t\t});\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction api() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.api;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction keyboard() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn new _Keyboard2.default();\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction element() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.element;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.visible = visible;\nexports.item = item;\nexports.key = key;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction visible() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn true;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn false;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction item() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.item;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction key() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.key;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = base;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar nextFileId = 0;\n\n/**\n * Reducers\n */\n\n// base\nfunction base() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.side;\n\tvar action = arguments[1];\n\n\tvar newState = Object.assign({}, state);\n\tvar files = {};\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\taction.preference.side.files.forEach(function (o) {\n\t\t\t\t\tfiles[nextFileId++] = { image: o, active: false };\n\t\t\t\t});\n\t\t\t\treturn _extends({}, state, action.preference.side, {\n\t\t\t\t\tfiles: _extends({}, state.files, files)\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.SIDE_VISIBLE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tvisible: action.value\n\t\t\t});\n\n\t\tcase types.SIDE_TOGGLE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tvisible: !state.visible\n\t\t\t});\n\n\t\tcase types.SIDE_ADD_FILES:\n\t\t\taction.files.forEach(function (o) {\n\t\t\t\tfiles[nextFileId++] = { image: o, active: false };\n\t\t\t});\n\t\t\treturn _extends({}, state, {\n\t\t\t\tfiles: _extends({}, state.files, files)\n\t\t\t});\n\n\t\tcase types.SIDE_REMOVE_FILES:\n\t\t\tif (!action.keys.length) return state;\n\t\t\taction.keys.forEach(function (o) {\n\t\t\t\tdelete newState.files[o];\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.SIDE_UPDATE_SELECTED:\n\t\t\tif (!(action.value && Object.keys(action.value).length)) return state;\n\t\t\tObject.keys(action.value).forEach(function (k) {\n\t\t\t\tvar key = action.value[k].key;\n\t\t\t\tif (!newState.files[key]) return;\n\t\t\t\tnewState.files[key].active = action.value[k].active;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.SIDE_UPDATE_PROGRESS:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tprogressPercent: action.value\n\t\t\t});\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_45__;\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_46__;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// PhotoLayoutEditor.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 34);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e2fc90c7df059904d995","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\n// module id = 0\n// module chunks = 0","import * as util from './util';\nimport * as number from './number';\nimport * as object from './object';\nimport * as color from './color';\nimport uploader from './uploader';\n\n\nexport {\n\tutil,\n\tnumber,\n\tcolor,\n\tobject,\n\tuploader\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"classnames\",\"commonjs2\":\"classnames\",\"amd\":\"classnames\",\"root\":\"classNames\"}\n// module id = 2\n// module chunks = 0","import * as core from './core';\nimport * as body from './body';\nimport * as cropper from './cropper';\nimport * as side from './side';\nimport * as types from './types';\n\n\nexport {\n\tcore,\n\tcropper,\n\tside,\n\tbody,\n\ttypes,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/index.js","export const INIT_PLE = 'INIT_PLE';\n\nexport const SIDE_VISIBLE = 'SIDE_VISIBLE';\nexport const SIDE_ADD_FILES = 'SIDE_ADD_FILES';\nexport const SIDE_REMOVE_FILES = 'SIDE_REMOVE_FILES';\nexport const SIDE_UPDATE_SELECTED = 'SIDE_UPDATE_SELECTED';\nexport const SIDE_TOGGLE = 'SIDE_TOGGLE';\nexport const SIDE_UPDATE_PROGRESS = 'SIDE_UPDATE_PROGRESS';\n\nexport const GRID_ATTACH_IMAGES = 'GRID_ATTACH_IMAGES';\nexport const GRID_ATTACH_IMAGE = 'GRID_ATTACH_IMAGE';\n\nexport const GRID_ADD_BLOCK = 'GRID_ADD_BLOCK';\nexport const GRID_REMOVE_BLOCK = 'GRID_REMOVE_BLOCK';\nexport const GRID_SHUFFLE_BLOCKS = 'GRID_SHUFFLE_BLOCKS';\nexport const GRID_DUPLICATE_BLOCK = 'GRID_DUPLICATE_BLOCK';\nexport const GRID_UPDATE_BLOCKS = 'GRID_UPDATE_BLOCKS';\nexport const GRID_ACTIVE_BLOCK = 'GRID_ACTIVE_BLOCK';\nexport const GRID_SETTING_UPDATE = 'GRID_SETTING_UPDATE';\nexport const GRID_CHANGE_COLOR = 'GRID_CHANGE_COLOR';\nexport const GRID_REMOVE_IMAGES = 'GRID_REMOVE_IMAGES';\n\nexport const CROPPER_OPEN = 'CROPPER_OPEN';\nexport const CROPPER_CLOSE = 'CROPPER_CLOSE';\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/types.js","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}\n// module id = 5\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\",\"root\":\"PropTypes\"}\n// module id = 6\n// module chunks = 0","export const setting = {\n\tbase: {\n\t\tuploadScript: null,\n\t\tuploadParamsConvertFunc: null,\n\t},\n\tbody: {\n\t\tsetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t\tbgColor: 'rgba(255,255,255,1)',\n\t\t},\n\t\tblockColor: 'rgba(211,211,211,1)',\n\t\tgrid: {},\n\t},\n\tside: {\n\t\tfiles: {},\n\t\tvisible: true,\n\t\tprogressPercent: null,\n\t},\n};\n\n\nexport const side = {\n\tfiles: {},\n\tvisible: true,\n\tprogressPercent: null,\n};\n\n\nexport const body = {\n\tvisibleToolbarButtons: {\n\t\tsetting: true,\n\t\tshuffle: true,\n\t\tadd: true,\n\t\tselect: true,\n\t\tedit: false,\n\t\tremoveImage: false,\n\t\tduplicate: false,\n\t\tremoveBlock: false,\n\t\teditColor: false,\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/defaults.js","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"redux\",\"commonjs2\":\"redux\",\"amd\":\"redux\",\"root\":\"PropTypes\"}\n// module id = 8\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-simple-colorpicker\",\"commonjs2\":\"react-simple-colorpicker\",\"amd\":\"react-simple-colorpicker\",\"root\":\"PropTypes\"}\n// module id = 9\n// module chunks = 0","import Layout from './Layout';\nimport Side from './Side';\nimport Grid from './Grid';\nimport Cropper from './Cropper';\n\n\nexport default function API(store) {\n\n\tthis.layout = new Layout(store);\n\tthis.side = new Side(store);\n\tthis.grid = new Grid(store);\n\tthis.cropper = new Cropper(store);\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/index.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\n\nimport * as actions from '../actions';\n\nimport Body from './Body';\nimport Side from './Side';\n\n\nclass Container extends React.Component {\n\n\tstatic displayName = 'Container';\n\n\tstatic defaultProps = {\n\t\tparent: {},\n\t\tdispatch: null,\n\t\ttree: {},\n\t\tsetting: null,\n\t};\n\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\tthis.el = null;\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tconst { props } = this;\n\n\t\tprops.dispatch(actions.core.init(\n\t\t\tprops.parent.api,\n\t\t\tprops.parent.preference || { side: {}, grid: {} },\n\t\t\tthis.el\n\t\t));\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={(r) => { this.el = r; }}\n\t\t\t\tclassName={classNames('ple-editor', { 'ple-side-active': props.tree.side.visible })}>\n\t\t\t\t{props.setting && (\n\t\t\t\t\t<div className=\"ple-wrap\">\n\t\t\t\t\t\t<Body/>\n\t\t\t\t\t\t<Side/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Container);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/index.js","import { combineReducers } from 'redux';\n\nimport * as core from './core';\nimport * as body from './body';\nimport side from './side';\nimport * as cropper from './cropper';\n\n\nexport default combineReducers({\n\n\t// settings\n\tsetting: core.setting,\n\n\t// api\n\tapi: core.api,\n\n\t// keyboard event\n\tkeyboard: core.keyboard,\n\n\t// element\n\telement: core.element,\n\n\t// data tree\n\ttree: combineReducers({\n\t\tside,\n\t\tbody: combineReducers({\n\t\t\tsetting: body.setting,\n\t\t\tvisibleToolbarButtons: body.visibleToolbarButtons,\n\t\t\tgrid: body.grid,\n\t\t\tactiveBlock: body.activeBlock\n\t\t}),\n\t\tcropper: combineReducers({\n\t\t\tvisible: cropper.visible,\n\t\t\titem: cropper.item,\n\t\t\tkey: cropper.key\n\t\t})\n\t})\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/index.js","import * as actions from '../actions';\nimport * as libs from '../lib';\n\n\nexport default class Cropper {\n\n\tconstructor(store)\n\t{\n\t\tthis.store = store;\n\t}\n\n\topen(key)\n\t{\n\t\tconst state = this.store.getState();\n\t\tlet item = null;\n\n\t\ttry {\n\t\t\titem = state.tree.body.grid[key];\n\t\t\tif (!item.image) throw 'Not found image in item';\n\t\t} catch(e) {\n\t\t\talert(e);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.store.dispatch(actions.cropper.open(key, item));\n\t};\n\n\tclose(key, position, size)\n\t{\n\t\tthis.store.dispatch(actions.cropper.close(key, position, size));\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Cropper.js","import * as actions from '../actions';\nimport * as lib from '../lib';\n\n\nexport default class Grid {\n\n\tconstructor(store)\n\t{\n\t\tthis.store = store;\n\t}\n\n\t/**\n\t * get keys in block\n\t *\n\t * @param {String} mode\n\t * @param {Array} keys\n\t * @return {Array}\n\t */\n\tgetKeys(mode=null, keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\tlet result = [];\n\n\t\tswitch(mode)\n\t\t{\n\t\t\tcase 'selected':\n\t\t\t\treturn body.activeBlock;\n\t\t\tcase 'value':\n\t\t\t\tresult = [];\n\t\t\t\tkeys.forEach((k) => {\n\t\t\t\t\tif (body.grid[k])\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(k);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\tcase 'all':\n\t\t\tdefault:\n\t\t\t\treturn Object.keys(body.grid).map(k => k);\n\t\t}\n\t}\n\n\t/**\n\t * get blocks\n\t *\n\t * @param {String} mode\n\t * @param {Array} keys\n\t * @return {Object}\n\t */\n\tgetBlocks(mode=null, keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\tlet selected = [];\n\t\tlet result = {};\n\n\t\tswitch(mode)\n\t\t{\n\t\t\tcase 'selected':\n\t\t\t\tselected = this.getKeys('selected');\n\t\t\t\tbreak;\n\t\t\tcase 'value':\n\t\t\t\tselected = this.getKeys('value', keys);\n\t\t\t\tbreak;\n\t\t\tcase 'all':\n\t\t\tdefault:\n\t\t\t\treturn body.grid;\n\t\t}\n\n\t\tselected.forEach(k => {\n\t\t\tif (!body.grid[k]) return;\n\t\t\tresult[k] = body.grid[k];\n\t\t});\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * shuffle items\n\t *\n\t * @param {Object} options\n\t */\n\tshuffle(options={})\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\tconst defaultOptions = { x: body.setting.column, y: 2, w: 2, h: 2 };\n\n\t\t// assign options\n\t\toptions = Object.assign({}, defaultOptions, options);\n\n\t\tthis.store.dispatch(actions.body.shuffleBlocks(options));\n\t}\n\n\t/**\n\t * assign image\n\t *\n\t * @param {Array} images\n\t */\n\tassignImages(images=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\n\t\tthis.store.dispatch(actions.body.attachImages(\n\t\t\timages,\n\t\t\tbody.setting.column,\n\t\t\tbody.activeBlock\n\t\t));\n\t}\n\n\t/**\n\t * assign image\n\t *\n\t * @param {Number} id\n\t * @param {String} image\n\t */\n\tassignImage(id=null, image=null)\n\t{\n\t\tif (!(id !== null && image !== null)) return;\n\t\tthis.store.dispatch(actions.body.attachImage(id, image));\n\t}\n\n\t/**\n\t * add blocks\n\t *\n\t * @param {Object} options\n\t */\n\tadd(options={})\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\tconst defaultOptions = {\n\t\t\tlayout: {\n\t\t\t\tx: Object.keys(body.grid).length % body.setting.column,\n\t\t\t\ty: Infinity,\n\t\t\t\tw: 1,\n\t\t\t\th: 1\n\t\t\t},\n\t\t\tcolor: null,\n\t\t\timage: null\n\t\t};\n\n\t\t// assign option\n\t\toptions = Object.assign({}, defaultOptions, options);\n\t\toptions.layout = Object.assign({}, defaultOptions.layout, options.layout);\n\t\toptions.image = options.image ? {\n\t\t\tsrc: options.image,\n\t\t\tposition: '50% 50%',\n\t\t\tsize: 'cover',\n\t\t} : null;\n\n\t\tthis.store.dispatch(actions.body.addBlock(options));\n\t}\n\n\t/**\n\t * update blocks\n\t *\n\t * @param {Object} blocks\n\t */\n\tupdate(blocks={})\n\t{\n\t\tthis.store.dispatch(actions.body.updateBlocks(blocks));\n\t}\n\n\tremove(keys=[])\n\t{\n\t\tthis.store.dispatch(actions.body.removeBlock(keys));\n\t}\n\n\tduplicate()\n\t{\n\n\t}\n\n\tselect()\n\t{\n\n\t}\n\n\tunselect()\n\t{\n\n\t}\n\n\ttoggleSelect()\n\t{\n\n\t}\n\n\tgetPreference()\n\t{\n\n\t}\n\n\tsetPreference()\n\t{\n\n\t}\n\n\texport()\n\t{\n\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Grid.js","import * as actions from '../actions';\n\n\nexport default class Layout {\n\n\tconstructor(store)\n\t{\n\t\tthis.store = store;\n\t}\n\n\t/**\n\t * Toggle side\n\t *\n\t * @param {Boolean|undefined} sw\n\t */\n\ttoggleSide(sw)\n\t{\n\t\ttry {\n\t\t\tconst currentSw = this.store.getState().tree.side.visible;\n\t\t\tconst targetSw = (typeof sw === 'undefined') ? !currentSw : sw;\n\n\t\t\tthis.store.dispatch(actions.side.visible(targetSw));\n\t\t} catch(e) {\n\t\t\tconsole.warn('Error action', e)\n\t\t}\n\t};\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Layout.js","import * as actions from '../actions';\nimport * as lib from '../lib';\n\n\nexport default class Side {\n\n\tconstructor(store)\n\t{\n\t\tthis.store = store;\n\t\tthis.uploading = false;\n\t}\n\n\t/**\n\t * get id in item\n\t *\n\t * @param {String} mode\n\t * @param {Array} keys\n\t */\n\tgetKeys(mode=null, keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { files } = state.tree.side;\n\t\tlet result = [];\n\n\t\tswitch(mode)\n\t\t{\n\t\t\tcase 'selected':\n\t\t\t\tObject.keys(files).forEach((o) => {\n\t\t\t\t\tif (files[o].active)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(parseInt(o));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'value':\n\t\t\t\tkeys.forEach((o) => {\n\t\t\t\t\tif (files[o])\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(parseInt(o));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'all':\n\t\t\tdefault:\n\t\t\t\tresult = Object.keys(files).map((o) => parseInt(o));\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Add files\n\t *\n\t * @param {Array} files\n\t * @return {Error}\n\t */\n\tadd(files)\n\t{\n\t\ttry\n\t\t{\n\t\t\tif (!(files instanceof Array))\n\t\t\t{\n\t\t\t\tthrow new Error('not found files');\n\t\t\t}\n\t\t\tthis.store.dispatch(actions.side.addFiles(files));\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn e;\n\t\t}\n\t};\n\n\t/**\n\t * selection items\n\t *\n\t * @param {Array} keys\n\t * @param {Boolean} active\n\t * @return {Error}\n\t */\n\tselection(keys=[], active=true)\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet selected = this.getKeys('value', keys);\n\t\t\tif (selected.length <= 0)\n\t\t\t{\n\t\t\t\tthrow new Error('not found select item');\n\t\t\t}\n\t\t\tselected = selected.map((o) => ({ key: o, active }));\n\t\t\tthis.store.dispatch(actions.side.updateSelected(selected));\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn e;\n\t\t}\n\t}\n\n\t/**\n\t * select items\n\t *\n\t * @param {Array} value\n\t */\n\tselect(value=[])\n\t{\n\t\tthis.store.dispatch(actions.side.updateSelected(value));\n\t}\n\n\t/**\n\t * toggle select all\n\t *\n\t * @param {Boolean} active\n\t */\n\ttoggleSelectAll(active=null)\n\t{\n\t\tif (typeof active === 'boolean')\n\t\t{\n\t\t\tlet selected = this.getKeys('all');\n\t\t\tthis.selection(selected, active);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet activeCount = this.getKeys('selected').length;\n\t\t\tlet keys = this.getKeys('all');\n\t\t\tthis.selection(keys, !(activeCount > 0));\n\t\t}\n\t}\n\n\t/**\n\t * remove items\n\t *\n\t * @param {Array} index\n\t * @return {Error}\n\t */\n\tremove(index=[])\n\t{\n\t\ttry\n\t\t{\n\t\t\tif (!index.length)\n\t\t\t{\n\t\t\t\tthrow new Error('Not found items.')\n\t\t\t}\n\t\t\tthis.store.dispatch(actions.side.removeFiles(index));\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn e;\n\t\t}\n\t}\n\n\t/**\n\t * Clear items\n\t */\n\tclear()\n\t{\n\t\tlet keys = this.getKeys('all');\n\t\tthis.store.dispatch(actions.side.removeFiles(keys))\n\t}\n\n\t/**\n\t * Upload files\n\t *\n\t * @param {FileList} files\n\t * @param {Object} callbacks\n\t */\n\tupload(files, callbacks={})\n\t{\n\t\t/**\n\t\t * @param {Function} callbacks.start\n\t\t * @param {Function} callbacks.progress\n\t\t * @param {Function} callbacks.complete\n\t\t * @param {Function} callbacks.completeAll\n\t\t * @param {Function} callbacks.fail\n\t\t */\n\t\tif (this.uploading) return;\n\n\t\tconst state = this.store.getState();\n\t\tthis.uploading = true;\n\n\t\tif (callbacks.start) callbacks.start();\n\n\t\tlib.uploader(files, state.setting.base.uploadScript)\n\t\t\t.progress((type, res) => {\n\t\t\t\tswitch(type)\n\t\t\t\t{\n\t\t\t\t\tcase 'start':\n\t\t\t\t\t\tthis.store.dispatch(actions.side.updateProgress(0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'progress':\n\t\t\t\t\t\tconst percent = parseInt((res.loaded / res.total * 100));\n\t\t\t\t\t\tthis.store.dispatch(actions.side.updateProgress(percent));\n\t\t\t\t\t\tif (callbacks.progress) callbacks.progress(res.loaded, res.total, percent);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'done':\n\t\t\t\t\t\tthis.store.dispatch(actions.side.updateProgress(null));\n\t\t\t\t\t\tif (!res.data) return;\n\t\t\t\t\t\tif (state.setting.base.uploadParamsConvertFunc)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet result = state.setting.base.uploadParamsConvertFunc(res.data);\n\t\t\t\t\t\t\tthis.store.dispatch(actions.side.addFiles([result]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.store.dispatch(actions.side.addFiles([res.data.url]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (callbacks.complete) callbacks.complete(res.data);\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.done(() => {\n\t\t\t\tthis.uploading = false;\n\t\t\t\tif (callbacks.completeAll) callbacks.completeAll();\n\t\t\t})\n\t\t\t.fail((error) => {\n\t\t\t\tthis.uploading = false;\n\t\t\t\tif (callbacks.fail) callbacks.fail(error);\n\t\t\t});\n\t}\n\n\t/**\n\t * attach items to grid\n\t *\n\t * @param {Array} keys\n\t * @return {Error}\n\t */\n\tattachToGrid(keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\ttry\n\t\t{\n\t\t\tlet selectedImages = this.getImages(keys);\n\t\t\tif (!selectedImages.length)\n\t\t\t{\n\t\t\t\tthrow new Error('not found item.');\n\t\t\t}\n\t\t\tthis.store.dispatch(actions.body.attachImages(\n\t\t\t\tselectedImages,\n\t\t\t\tbody.setting.column,\n\t\t\t\tbody.activeBlock\n\t\t\t));\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn e;\n\t\t}\n\t}\n\n\t/**\n\t * get items\n\t *\n\t * @param {Array} keys\n\t * @return {Object}\n\t */\n\tgetItems(keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { side } = state.tree;\n\t\tkeys = this.getKeys('value', keys);\n\t\tlet result = {};\n\t\tkeys.forEach((o) => {\n\t\t\tif (side.files[o])\n\t\t\t{\n\t\t\t\tresult[o] = side.files[o];\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * get images\n\t *\n\t * @param {Array} keys\n\t * @return {Array}\n\t */\n\tgetImages(keys=[])\n\t{\n\t\tlet items = this.getItems(keys);\n\t\treturn Object.keys(items).map((o) => {\n\t\t\treturn items[o].image;\n\t\t});\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Side.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactGridLayout from 'react-grid-layout';\nimport classNames from 'classnames';\n\nimport Cropper from '../../Cropper';\n\nimport * as actions from '../../../actions';\nimport * as libs from '../../../lib';\n\n\nlet timeStamp = [];\n\n\nclass GridLayout extends React.Component {\n\n\tstatic displayName = 'GridLayout';\n\n\tstatic defaultProps = {\n\t\ttree: null,\n\t\tdispatch: null,\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t}\n\n\t/**\n\t * On select block\n\t *\n\t * @param {String} id\n\t * @param {boolean} isImage\n\t */\n\t_selectBlock(id=null, isImage=false)\n\t{\n\t\tconst { props } = this;\n\n\t\tif (id === null)\n\t\t{\n\t\t\tprops.dispatch(actions.body.activeBlock([], false));\n\t\t\treturn;\n\t\t}\n\n\t\tswitch(props.keyboard.keyName)\n\t\t{\n\t\t\tcase 'CMD':\n\t\t\tcase 'CTRL':\n\t\t\tcase 'SHIFT':\n\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock))\n\t\t\t\t{\n\t\t\t\t\tlet newActiveBlock = Object.assign([], props.tree.body.activeBlock);\n\t\t\t\t\tif (newActiveBlock.indexOf(id) > -1)\n\t\t\t\t\t{\n\t\t\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(id), 1);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tnewActiveBlock.push(id);\n\t\t\t\t\t}\n\t\t\t\t\tprops.dispatch(actions.body.activeBlock(newActiveBlock, isImage));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tprops.dispatch(actions.body.activeBlock([id], isImage));\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tprops.dispatch(actions.body.activeBlock([id], isImage));\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * On update blocks\n\t *\n\t * @param {String} type\n\t * @param {Array} layout\n\t * @param {HTMLElement} element\n\t */\n\t_updateBlocks(type, layout=null, element=null)\n\t{\n\t\tconst { props } = this;\n\n\t\t/**\n\t\t * convert layout\n\t\t *\n\t\t * @return {Object}\n\t\t */\n\t\tfunction convertLayout()\n\t\t{\n\t\t\tlet result = {};\n\t\t\tfor (let i=0; i<layout.length; i++)\n\t\t\t{\n\t\t\t\tresult[layout[i].i.split('__')[1]] = layout[i];\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tswitch(type)\n\t\t{\n\t\t\tcase 'start':\n\t\t\t\ttimeStamp[0] = new Date().getTime();\n\t\t\t\tbreak;\n\n\t\t\tcase 'end':\n\t\t\t\ttimeStamp[1] = new Date().getTime();\n\t\t\t\tif (timeStamp[1] - timeStamp[0] > 400)\n\t\t\t\t{\n\t\t\t\t\tlet newLayout = convertLayout();\n\t\t\t\t\tlet newGrid = {};\n\t\t\t\t\tObject.keys(props.tree.body.grid).forEach(k => {\n\t\t\t\t\t\tnewGrid[k] = {\n\t\t\t\t\t\t\t...props.tree.body.grid[k],\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: newLayout[k].x,\n\t\t\t\t\t\t\t\ty: newLayout[k].y,\n\t\t\t\t\t\t\t\tw: newLayout[k].w,\n\t\t\t\t\t\t\t\th: newLayout[k].h,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tprops.dispatch(actions.body.updateBlocks(newGrid));\n\t\t\t\t}\n\t\t\t\ttimeStamp = [];\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * Render item\n\t *\n\t * @param {String} k\n\t * @return {Component}\n\t */\n\trenderItem(k)\n\t{\n\t\tconst { props } = this;\n\t\tconst { activeBlock, grid } = props.tree.body;\n\t\tconst item = grid[k];\n\n\t\tlet key = `${item.indexPrefix}__${k}`;\n\t\tlet active = !!(activeBlock && activeBlock.length && activeBlock.indexOf(k) > -1);\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={key}\n\t\t\t\tdata-grid={item.layout}\n\t\t\t\tdata-key={k}\n\t\t\t\tonClick={(event) => {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tthis._selectBlock(k, !!item.image);\n\t\t\t\t}}\n\t\t\t\tstyle={{ backgroundColor: item.color || props.setting.body.blockColor }}\n\t\t\t\tclassName={classNames({ 'ple-grid__item-active': active })}>\n\t\t\t\t{item.image && (\n\t\t\t\t\t<figure\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundImage: `url('${item.image.src}')`,\n\t\t\t\t\t\t\tbackgroundPosition: item.image.position,\n\t\t\t\t\t\t\tbackgroundSize: item.image.size,\n\t\t\t\t\t\t}}/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\t\tconst { setting } = props.tree.body;\n\t\tconst bodyWidth = (setting.width * setting.column) +\n\t\t\t(setting.innerMargin * (setting.column-1)) +\n\t\t\t(setting.outerMargin * 2);\n\n\t\treturn (\n\t\t\t<div className=\"ple-grid__wrap\" onClick={() => this._selectBlock()}>\n\t\t\t\t<div className=\"ple-grid__body\" style={{ width: `${bodyWidth}px` }}>\n\t\t\t\t\t<ReactGridLayout\n\t\t\t\t\t\tautoSize={true}\n\t\t\t\t\t\tcols={setting.column}\n\t\t\t\t\t\trowHeight={setting.height}\n\t\t\t\t\t\twidth={bodyWidth}\n\t\t\t\t\t\tmargin={[setting.innerMargin, setting.innerMargin]}\n\t\t\t\t\t\tcontainerPadding={[setting.outerMargin, setting.outerMargin]}\n\t\t\t\t\t\tverticalCompact={!setting.freeMode}\n\t\t\t\t\t\tonDragStart={() => this._updateBlocks('start')}\n\t\t\t\t\t\tonDragStop={(layout, oldItem, newItem, placeholder, e, element) => this._updateBlocks('end', layout, element)}\n\t\t\t\t\t\tonResizeStart={() => this._updateBlocks('start')}\n\t\t\t\t\t\tonResizeStop={(layout, oldItem, newItem, placeholder, e, element) => this._updateBlocks('end', layout, element)}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: `100%`,\n\t\t\t\t\t\t\tbackgroundColor: setting.bgColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"ple-grid\">\n\t\t\t\t\t\t{Object.keys(props.tree.body.grid).map(this.renderItem.bind(this))}\n\t\t\t\t\t</ReactGridLayout>\n\t\t\t\t\t{props.tree.cropper.visible ? ( <Cropper/> ) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(GridLayout);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/GridLayout/index.js","import React from 'react';\nimport classNames from 'classnames';\n\n\nexport default class Button extends React.Component {\n\n\tstatic displayName = 'Button';\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div className={classNames('ple-toolbar__block', props.className)}>\n\t\t\t\t<button type=\"button\" title={props.title} onClick={props.onClick}>\n\t\t\t\t\t<i className={classNames('ple-sp-ico', 'ple-abs', props.iconClass)}>{props.title}</i>\n\t\t\t\t</button>\n\t\t\t\t{!!props.children && (\n\t\t\t\t\t<div className=\"ple-toolbar__pop\">{props.children}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/Button.js","import React from 'react';\nimport $ from 'jquery/dist/jquery.slim';\nimport ColorPicker from 'react-simple-colorpicker';\nimport className from 'classnames';\n\n\nexport default class EditLayoutSetting extends React.Component {\n\n\tstatic displayName = 'EditLayoutSetting';\n\n\tstatic defaultProps = {\n\t\tsubmit: (e) => {},\n\t\tsetting: null,\n\t\tdefaultSetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t\tbgColor: 'rgba(255,255,255,1)',\n\t\t},\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t...props.defaultSetting,\n\t\t\t...props.setting,\n\t\t\tpopup_bgColor: false,\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps()\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.setState({\n\t\t\t...props.defaultSetting,\n\t\t\t...props.setting,\n\t\t});\n\t}\n\n\tactiveBgColorPopup(sw, e)\n\t{\n\t\tconst { state } = this;\n\t\tconst cTarget = e ? e.currentTarget : null;\n\n\t\tsw = sw || !state.popup_bgColor;\n\n\t\tif (sw)\n\t\t{\n\t\t\t$(document).on('click.pleEditBgColor', (e) => {\n\t\t\t\tif ($(e.target).closest('.ple-edit-bgColor__popup').length) return;\n\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget))\n\t\t\t\t{\n\t\t\t\t\tthis.activeBgColorPopup(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(document).off('click.pleEditBgColor');\n\t\t}\n\n\t\tthis.setState({ popup_bgColor: sw });\n\t}\n\n\t_submit(e)\n\t{\n\t\te.preventDefault();\n\t\tthis.props.submit(this.state);\n\t}\n\n\t_reset()\n\t{\n\t\tthis.setState({\n\t\t\t...this.props.defaultSetting\n\t\t});\n\t}\n\n\t_change(e)\n\t{\n\t\tswitch(e.target.type) {\n\t\t\tcase 'text':\n\t\t\t\tthis.setState({ [e.target.name]: e.target.value });\n\t\t\t\tbreak;\n\t\t\tcase 'number':\n\t\t\t\tthis.setState({ [e.target.name]: parseInt(e.target.value) });\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t_openBgColorPicker(e)\n\t{\n\t\te.persist();\n\t\tthis.activeBgColorPopup(null, e);\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\n\t\treturn (\n\t\t\t<form onSubmit={this._submit.bind(this)} className=\"ple-edit-setting\">\n\t\t\t\t<fieldset className=\"ple-edit-setting__form\">\n\t\t\t\t\t<legend>Settings form</legend>\n\t\t\t\t\t<h1 className=\"ple-edit-setting__title\">Settings</h1>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_width\">Width</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"width\" id=\"frm_width\"\n\t\t\t\t\t\t\t\tmin={1} max={999} maxLength={3}\n\t\t\t\t\t\t\t\tvalue={state.width}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired/>\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_height\">Height</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"height\" id=\"frm_height\"\n\t\t\t\t\t\t\t\tmin={1} max={999}\n\t\t\t\t\t\t\t\tvalue={state.height}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired/>\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_column\">Column</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"column\" id=\"frm_column\"\n\t\t\t\t\t\t\t\tmin={1} max={99}\n\t\t\t\t\t\t\t\tvalue={state.column}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>ea</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl className=\"ple-type-input\">\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_outerMargin\">Outer margin</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"outerMargin\" id=\"frm_outerMargin\"\n\t\t\t\t\t\t\t\tmin={0} max={500}\n\t\t\t\t\t\t\t\tvalue={state.outerMargin}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl className=\"ple-type-input\">\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_innerMargin\">Inner margin</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"innerMargin\" id=\"frm_innerMargin\"\n\t\t\t\t\t\t\t\tmin={0} max={500}\n\t\t\t\t\t\t\t\tvalue={state.innerMargin}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_bgColor\">Bg color</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<div className=\"ple-edit-bgColor\">\n\t\t\t\t\t\t\t\t<span className={className('ple-edit-bgColor__inputBox', {\n\t\t\t\t\t\t\t\t\t'ple-edit-bgColor__inputBox-active': state.popup_bgColor\n\t\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"bgColor\"\n\t\t\t\t\t\t\t\t\t\tid=\"frm_bgColor\"\n\t\t\t\t\t\t\t\t\t\tvalue={state.bgColor}\n\t\t\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\t\t\tonClick={this._openBgColorPicker.bind(this)}\n\t\t\t\t\t\t\t\t\t\treadOnly={true}\n\t\t\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\t\t\tclassName=\"ple-edit-bgColor__input\"\n\t\t\t\t\t\t\t\t\t    style={{ backgroundColor: state.bgColor }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{state.popup_bgColor && (\n\t\t\t\t\t\t\t\t\t<div className=\"ple-edit-bgColor__popup\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"ple-edit-bgColor__picker\">\n\t\t\t\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(color) => this.setState({ bgColor: color })}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor={state.bgColor}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_freeMode\">Free mode</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-checkbox\">\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\" name=\"freeMode\" id=\"frm_freeMode\"\n\t\t\t\t\t\t\t\t\tonChange={() => this.setState({ freeMode: true })}\n\t\t\t\t\t\t\t\t\tchecked={state.freeMode}/>\n\t\t\t\t\t\t\t\t<span>true</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\" name=\"freeMode\"\n\t\t\t\t\t\t\t\t\tonChange={() => this.setState({ freeMode: false })}\n\t\t\t\t\t\t\t\t\tchecked={!state.freeMode}/>\n\t\t\t\t\t\t\t\t<span>false</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t</fieldset>\n\n\t\t\t\t<nav className=\"ple-edit-setting__buttons\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<button type=\"button\" onClick={this._reset.bind(this)}>Reset</button>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<button type=\"submit\" className=\"ple-submit\">Apply</button>\n\t\t\t\t\t</span>\n\t\t\t\t</nav>\n\t\t\t</form>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/EditLayoutSetting.js","import React from 'react';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport $ from 'jquery/dist/jquery.slim';\nimport ColorPicker from 'react-simple-colorpicker';\n\nimport * as actions from '../../../actions';\nimport * as libs from '../../../lib';\n\nimport Button from './Button';\nimport EditLayoutSetting from './EditLayoutSetting';\n\n\nclass Toolbar extends React.Component {\n\n\tstatic displayName = 'Toolbar';\n\n\tstatic defaultProps = {\n\t\tdispatch: null,\n\t\ttree: null,\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactive: {\n\t\t\t\tsetting: false,\n\t\t\t\teditBlockColor: false,\n\t\t\t}\n\t\t}\n\t}\n\n\tchangeActive(keyName, userSW, event)\n\t{\n\t\tconst { state } = this;\n\t\tconst sw = userSW || !state.active[keyName];\n\t\tconst cTarget = event ? event.currentTarget : null;\n\n\t\tif (sw)\n\t\t{\n\t\t\t$(document).on('click.pleToolbar', (e) => {\n\t\t\t\tif ($(e.target).closest('.ple-toolbar__pop').length) return;\n\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget))\n\t\t\t\t{\n\t\t\t\t\tthis.changeActive(keyName, false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(document).off('click.pleToolbar');\n\t\t}\n\n\t\tthis.setState({\n\t\t\tactive: {\n\t\t\t\t...state.active,\n\t\t\t\tsetting: false,\n\t\t\t\teditColor: false,\n\t\t\t\t[keyName] : sw,\n\t\t\t}\n\t\t});\n\t}\n\n\tdeactivate()\n\t{\n\t\t$(document).off('click.pleToolbar');\n\t\treturn new Promise((reject) => {\n\t\t\tthis.setState({\n\t\t\t\tactive: {\n\t\t\t\t\tsetting: false,\n\t\t\t\t\teditColor: false,\n\t\t\t\t}\n\t\t\t}, reject);\n\t\t});\n\t}\n\n\tsubmitEditSetting(state)\n\t{\n\t\tthis.props.dispatch(actions.body.updateSetting(state));\n\t\tthis.changeActive('setting', false);\n\t\treturn false;\n\t}\n\n\t_onClickEdit()\n\t{\n\t\tconst { props } = this;\n\t\tprops.api.cropper.open(props.tree.body.activeBlock[0]);\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\t\tconst visible = props.tree.body.visibleToolbarButtons;\n\t\tlet activeBlockColor = '#fff';\n\n\t\tif (typeof props.tree.body.grid === 'object' && libs.object.isArray(props.tree.body.activeBlock))\n\t\t{\n\t\t\tconst n = props.tree.body.activeBlock[0];\n\t\t\tactiveBlockColor = (props.tree.body.grid[n] && props.tree.body.grid[n].color) ?\n\t\t\t\tprops.tree.body.grid[n].color :\n\t\t\t\tprops.setting.body.blockColor;\n\t\t}\n\n\t\treturn (\n\t\t\t<nav className=\"ple-toolbar\">\n\t\t\t\t<div className=\"ple-toolbar__wrap\">\n\t\t\t\t\t{visible.setting && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-setting\"\n\t\t\t\t\t\t\tclassName={classNames('ple-edit-setting', {\n\t\t\t\t\t\t\t\t'ple-toolbar__block-active': state.active.setting\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.setting)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.deactivate().then(() => {\n\t\t\t\t\t\t\t\t\t\tthis.changeActive('setting', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Edit preference\">\n\t\t\t\t\t\t\t<EditLayoutSetting\n\t\t\t\t\t\t\t\tsubmit={this.submitEditSetting.bind(this)}\n\t\t\t\t\t\t\t\tsetting={props.tree.body.setting}\n\t\t\t\t\t\t\t\tdefaultSetting={props.setting.body.setting}/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.shuffle && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-arrow-random\"\n\t\t\t\t\t\t\tonClick={() => props.api.grid.shuffle()}\n\t\t\t\t\t\t\ttitle=\"Shuffle block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.add && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-plus\"\n\t\t\t\t\t\t\tonClick={() => props.api.grid.add()}\n\t\t\t\t\t\t\ttitle=\"Add block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.select && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-select\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(null));\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet newActiveBlock = [];\n\t\t\t\t\t\t\t\tlet isImage = !!(props.tree.body.grid[0] && props.tree.body.grid[0].image);\n\t\t\t\t\t\t\t\tObject.keys(props.tree.body.grid).forEach((k) => newActiveBlock.push(k));\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(newActiveBlock, isImage));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Toggle select block\"/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{visible.edit && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-pencil\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={this._onClickEdit.bind(this)}\n\t\t\t\t\t\t\ttitle=\"Edit block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.removeImage && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-empty\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tconsole.log('act remove image');\n\t\t\t\t\t\t\t\t//props.dispatch(actions.body.removeImages(props.tree.body.activeBlock));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Remove image in block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.duplicate && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-duplicate\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.duplicateBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Duplicate block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.removeBlock && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-trash\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprops.api.grid.remove(props.tree.body.activeBlock);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Remove block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.editColor && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-palette\"\n\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\t'ple-edit-color',\n\t\t\t\t\t\t\t\t'ple-toolbar__block-key',\n\t\t\t\t\t\t\t\t{ 'ple-toolbar__block-active': state.active.editColor }\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.editColor)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.deactivate().then(() => this.changeActive('editColor', null, e));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Change color\">\n\t\t\t\t\t\t\t<div className=\"ple-colorPicker__wrap\">\n\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\tonChange={(color) => {\n\t\t\t\t\t\t\t\t\t\tif (!color) return;\n\t\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.changeColorBlock(props.tree.body.activeBlock, color));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcolor={activeBlockColor}\n\t\t\t\t\t\t\t\t\tclassName=\"ple-colorPicker__body\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Toolbar);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/index.js","import React from 'react';\n\nimport GridLayout from \"./GridLayout\";\nimport Toolbar from './Toolbar';\n\n\nexport default class Body extends React.Component {\n\n\tstatic displayName = 'Body';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ple-container\">\n\t\t\t\t<div className=\"ple-body\">\n\t\t\t\t\t<Toolbar/>\n\t\t\t\t\t<GridLayout/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/index.js","import React from 'react';\nimport ReactDom from 'react-dom';\nimport $ from 'jquery/dist/jquery.slim';\nimport classNames from 'classnames';\n\nimport { util } from '../../lib';\n\n\nconst controlEvent = {\n\tstart: (util.isTouchDevice()) ? 'touchstart' : 'mousedown',\n\tmove: (util.isTouchDevice()) ? 'touchmove' : 'mousemove',\n\tend: (util.isTouchDevice()) ? 'touchend' : 'mouseup',\n};\n\n\nexport default class Block extends React.Component {\n\n\tstatic displayName = 'Block';\n\n\tstatic defaultProps = {\n\t\tsrc: '',\n\t\tposition: '',\n\t\tsize: '',\n\t\tbgColor: '#fff',\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tposition: props.position,\n\t\t\tsize: props.size,\n\t\t\tisCover: props.size === 'cover',\n\t\t};\n\n\t\tthis._self = null;\n\t\tthis.$self = null;\n\t\tthis.$img = null;\n\t\tthis.moveStartInfo = {};\n\t\tthis.resizeStartInfo = {};\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\t// set dom\n\t\tthis.$self = $(ReactDom.findDOMNode(this._self));\n\t}\n\n\tcomponentWillReceiveProps(nextProps)\n\t{\n\t\tconst { props } = this;\n\n\t\tif (props.size !== nextProps.size)\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tposition: nextProps.position,\n\t\t\t\tsize: nextProps.size,\n\t\t\t\tisCover: nextProps.size === 'cover',\n\t\t\t});\n\t\t}\n\t}\n\n\t_moveStart(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst { state } = this;\n\n\t\t// set image element\n\t\tthis.$img = this.$self.find('img');\n\n\t\tthis.moveStartInfo = {\n\t\t\tcontainerX: parseInt(state.position.split(' ')[0]),\n\t\t\tcontainerY: parseInt(state.position.split(' ')[1]),\n\t\t\tmouseX : (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + $(window).scrollLeft(),\n\t\t\tmouseY : (e.clientY || e.pageY || e.nativeEvent.touches[0].clientY) + $(window).scrollTop(),\n\t\t};\n\n\t\t$(document)\n\t\t\t.on(`${controlEvent.move}.move`, this._moveIng.bind(this))\n\t\t\t.on(`${controlEvent.end}.move`, this._moveEnd.bind(this));\n\t}\n\t_moveIng(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst evt = (e.type === 'touchmove') ? e.originalEvent.touches[0] : e;\n\t\tlet mouse = {};\n\t\tlet distance = {};\n\n\t\tmouse.x = (evt.clientX || evt.pageX) + $(window).scrollLeft();\n\t\tmouse.y = (evt.clientY || evt.pageY) + $(window).scrollTop();\n\n\t\tdistance.x = this.moveStartInfo.containerX + (mouse.x - this.moveStartInfo.mouseX);\n\t\tdistance.y = this.moveStartInfo.containerY + (mouse.y - this.moveStartInfo.mouseY);\n\n\t\tthis.setState({\n\t\t\tposition: `${parseInt(distance.x)}px ${parseInt(distance.y)}px`\n\t\t});\n\t}\n\t_moveEnd(e)\n\t{\n\t\te.preventDefault();\n\n\t\tthis.$img = null;\n\t\tthis.moveStartInfo = null;\n\n\t\t$(document)\n\t\t\t.off(`${controlEvent.move}.move`)\n\t\t\t.off(`${controlEvent.end}.move`);\n\t}\n\n\t_resizeStart(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst { state } = this;\n\n\t\tthis.$img = this.$self.find('img');\n\t\tthis.resizeStartInfo = {\n\t\t\ttitle: e.currentTarget.title,\n\t\t\twidth: this.$img.width(),\n\t\t\theight: this.$img.height(),\n\t\t\tmouseX : (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + $(window).scrollLeft(),\n\t\t\tposX: parseInt(state.position.split(' ')[0]),\n\t\t\tposY: parseInt(state.position.split(' ')[1]),\n\t\t};\n\n\t\t$(document)\n\t\t\t.on(`${controlEvent.move}.resize`, this._resizeIng.bind(this))\n\t\t\t.on(`${controlEvent.end}.resize`, this._resizeEnd.bind(this));\n\t}\n\t_resizeIng(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tlet size = {};\n\t\tlet position = {};\n\t\tlet ratio = 1;\n\t\tlet distanceHeight = 0;\n\t\tlet evt = (e.type === 'touchmove') ? e.originalEvent.touches[0] : e;\n\n\t\t// set mouse position\n\t\tlet distanceX = (evt.clientX || evt.pageX) + $(window).scrollLeft() - this.resizeStartInfo.mouseX;\n\n\t\t// set position and size\n\t\tswitch(this.resizeStartInfo.title) {\n\t\t\tcase 'resize-lt':\n\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\tbreak;\n\t\t\tcase 'resize-rt':\n\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\tbreak;\n\t\t\tcase 'resize-lb':\n\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tbreak;\n\t\t\tcase 'resize-rb':\n\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\t// set image size\n\n\t\tthis.setState({\n\t\t\tsize: `${parseInt(size.width)}px ${parseInt(size.height)}px`,\n\t\t\tposition: `${parseInt(position.x)}px ${parseInt(position.y)}px`\n\t\t});\n\t}\n\t_resizeEnd(e)\n\t{\n\t\tthis.$img = null;\n\t\tthis.resizeStartInfo = null;\n\n\t\t$(document)\n\t\t\t.off(`${controlEvent.move}.resize`)\n\t\t\t.off(`${controlEvent.end}.resize`);\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\t\tconst size = (state.size !== 'cover') ? state.size.split(' ') : state.size;\n\t\tconst position = state.position.split(' ');\n\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tref={r => { this._self = r; }}\n\t\t\t\tstyle={{ backgroundColor: props.bgColor }}\n\t\t\t\tclassName=\"ple-cropperBlock ple-cropper__block\">\n\t\t\t\t{state.isCover ? (\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{ backgroundImage: `url('${props.src}')` }}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__image ple-cropperBlock__image-cover\"/>\n\t\t\t\t) : (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'ple-cropperBlock__image',\n\t\t\t\t\t\t\t{ 'ple-cropperBlock__image-resize': (props.size !== 'cover') }\n\t\t\t\t\t\t)}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={props.src}\n\t\t\t\t\t\t\tstyle={Object.assign({},\n\t\t\t\t\t\t\t\tstate.size !== 'cover' && {\n\t\t\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\t\t\ttransform: `translate(${position[0]}, ${position[1]})`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\talt=\"image\"/>\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t\t<div\n\t\t\t\t\tonMouseDown={this._moveStart.bind(this)}\n\t\t\t\t\tonTouchStart={this._moveStart.bind(this)}\n\t\t\t\t\tstyle={Object.assign({},\n\t\t\t\t\t\tstate.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\theight: size[1],\n\t\t\t\t\t\t\ttransform: `translate(${position[0]}, ${position[1]})`\n\t\t\t\t\t\t}\n\t\t\t\t\t)}\n\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t'ple-cropperBlock__control',\n\t\t\t\t\t\t{ 'ple-cropperBlock__control-active': (props.size !== 'cover') }\n\t\t\t\t\t)}>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-lt\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-lt\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-rt\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-rt\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-lb\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-lb\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-rb\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-rb\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</figure>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Cropper/Block.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport $ from 'jquery/dist/jquery.slim';\nimport classNames from 'classnames';\n\nimport Block from './Block';\nimport * as actions from '../../actions';\nimport * as lib from '../../lib';\n\n\nclass Cropper extends React.Component {\n\n\tstatic displayName = 'Cropper';\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tconst { cropper } = props.tree;\n\n\t\tthis.imageMeta = null;\n\t\tthis._block = null;\n\t\tthis.$item = $(props.element)\n\t\t\t.find('.react-grid-item')\n\t\t\t.filter(`[data-key=${cropper.key}]`);\n\n\t\tthis.state = {\n\t\t\tpending: true,\n\t\t\tposition: cropper.item.image.position,\n\t\t\tsize: cropper.item.image.size || 'cover',\n\t\t\twidth: this.$item.width(),\n\t\t\theight: this.$item.height(),\n\t\t\ttop: this.$item.position().top,\n\t\t\tleft: this.$item.position().left\n\t\t};\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tconst { props } = this;\n\t\tconst { cropper } = props.tree;\n\n\t\tlib.util.getImageSize(cropper.item.image.src).then((res) => {\n\t\t\tthis.imageMeta = res;\n\t\t\tthis.setState({ pending: false });\n\t\t});\n\t}\n\n\t/**\n\t * close cropper\n\t * `cropper`를 닫고, 변경된 이미지를 `grid`로 보낸다.\n\t */\n\t_onClose()\n\t{\n\t\tconst { props } = this;\n\t\tprops.api.cropper.close(\n\t\t\tprops.tree.cropper.key,\n\t\t\tthis._block.state.position,\n\t\t\tthis._block.state.size\n\t\t);\n\t}\n\n\t/**\n\t * toggle image type\n\t * 직접 리사이즈를 사용하는지 기본(꽉채우는..)타입으로 사용할건지 변경하는 액션\n\t *\n\t */\n\t_toggleImageType()\n\t{\n\t\tconst { state, props } = this;\n\n\t\tif (state.size === 'cover')\n\t\t{\n\t\t\tlet targetSize = '';\n\t\t\tlet ratio = 0;\n\t\t\tif (state.height > state.width)\n\t\t\t{\n\t\t\t\tratio = lib.number.getRatioForResize(state.height, this.imageMeta.height);\n\t\t\t\ttargetSize = `${parseInt(this.imageMeta.width * ratio)}px ${state.height}px`;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tratio = lib.number.getRatioForResize(state.width, this.imageMeta.width);\n\t\t\t\ttargetSize = `${state.width}px ${parseInt(this.imageMeta.height * ratio)}px`;\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tposition: '0 0',\n\t\t\t\tsize: targetSize,\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tposition: `50% 50%`,\n\t\t\t\tsize: 'cover',\n\t\t\t});\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\n\t\tif (state.pending) return null;\n\n\t\treturn (\n\t\t\t<div className=\"ple-cropper\">\n\t\t\t\t<span className=\"ple-cropper__bg\"/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: `${state.width}px`,\n\t\t\t\t\t\theight: `${state.height}px`,\n\t\t\t\t\t\ttop: `${state.top}px`,\n\t\t\t\t\t\tleft: `${state.left}px`,\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"ple-cropper__wrap\">\n\t\t\t\t\t<Block\n\t\t\t\t\t\tref={(r) => { this._block = r; }}\n\t\t\t\t\t\tsrc={props.tree.cropper.item.image.src}\n\t\t\t\t\t\tposition={state.position}\n\t\t\t\t\t\tsize={state.size}\n\t\t\t\t\t\tbgColor={props.tree.cropper.item.color || props.setting.body.blockColor}/>\n\t\t\t\t\t<nav className=\"ple-cropper__nav\">\n\t\t\t\t\t\t<button type=\"button\" onClick={this._onClose.bind(this)}>\n\t\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-close ple-abs\">Close cropper</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={this._toggleImageType.bind(this)}\n\t\t\t\t\t\t\tclassName={classNames({\n\t\t\t\t\t\t\t\t'ple-cropper__nav-active': state.size !== 'cover'\n\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-resize ple-abs\">Toggle background size type</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</nav>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Cropper);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Cropper/index.js","import React from 'react';\nimport classNames from 'classnames';\n\nimport * as lib from '../../../lib';\n\n\nexport default class Item extends React.Component {\n\n\tstatic displayName = 'Item';\n\n\tstatic defaultProps = {\n\t\timage: null, // image\n\t\tid: null, // id\n\t\tactive: null, // active item\n\t\tonClick: null, // on click item\n\t\tonDragStart: null, // on drag start\n\t\tonDragEnd: null, // on drag end\n\t\tonTouchStart: null, // on touch start\n\t\tonTouchMove: null, // on touch move\n\t\tonTouchEnd: null, // on touch end\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\tlet attr = Object.assign({},\n\t\t\tlib.util.isTouchDevice() ? {\n\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\tonTouchEnd: props.onTouchEnd\n\t\t\t} : {\n\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\tonDragEnd: props.onDragEnd\n\t\t\t});\n\n\t\treturn (\n\t\t\t<li>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdata-id={props.id}\n\t\t\t\t\tdata-image={props.image}\n\t\t\t\t\tdraggable={true}\n\t\t\t\t\tonClick={props.onClick}\n\t\t\t\t\t{...attr}\n\t\t\t\t\tstyle={{ backgroundImage: `url('${props.image}')` }}\n\t\t\t\t\tclassName={classNames({ 'ple-sideItems__item-active': props.active })}/>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Items/Item.js","import React from 'react';\n\nimport Item from './Item';\n\n\nexport default class Items extends React.Component {\n\n\tstatic displayName = 'Items';\n\n\tstatic defaultProps = {\n\t\tfiles: [], // files\n\t\tonSelect: (key) => {}, // on select event\n\t\tonDragStart: null, // on drag start\n\t\tonDragEnd: null, // on drag end\n\t\tonTouchStart: null, // on touch start\n\t\tonTouchMove: null, // on touch move\n\t\tonTouchEnd: null, // on touch end\n\t\tprogress: null, // on progress number\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div className=\"ple-sideItems\">\n\t\t\t\t<div className=\"ple-sideItems__wrap\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{Object.keys(props.files).map((o) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\tkey={o}\n\t\t\t\t\t\t\t\t\tid={o}\n\t\t\t\t\t\t\t\t\timage={props.files[o].image}\n\t\t\t\t\t\t\t\t\tonDragStart={props.onDragStart}\n\t\t\t\t\t\t\t\t\tonDragEnd={props.onDragEnd}\n\t\t\t\t\t\t\t\t\tonTouchStart={props.onTouchStart}\n\t\t\t\t\t\t\t\t\tonTouchMove={props.onTouchMove}\n\t\t\t\t\t\t\t\t\tonTouchEnd={props.onTouchEnd}\n\t\t\t\t\t\t\t\t\tonClick={() => props.onSelect(parseInt(o))}\n\t\t\t\t\t\t\t\t\tactive={props.files[o].active}/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{props.progress !== null && (\n\t\t\t\t\t\t\t<li className=\"ple-sideItems__loading\">\n\t\t\t\t\t\t\t\t<div className=\"ple-sideItems__progress\">\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName=\"ple-sideItems__bar\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ height: `${props.progress}%` }}/>\n\t\t\t\t\t\t\t\t\t<span className=\"ple-sideItems__percent\">{`${props.progress}%`}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Items/index.js","import React from 'react';\n\n\nexport default class SideNavigation extends React.Component {\n\n\tstatic displayName = 'Navigation';\n\n\tstatic defaultProps = {\n\t\tonRemove: () => {},\n\t\tonToggleSelect: () => {},\n\t\tonAttach: () => {},\n\t\tonUpload: () => {},\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttimestamp : Date.now(),\n\t\t};\n\t}\n\n\t/**\n\t * Upload images\n\t *\n\t * @param {Event} e\n\t */\n\tupload(e) {\n\t\tthis.props.onUpload(e.target.files);\n\n\t\tthis.setState({\n\t\t\ttimestamp : Date.now()\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { props, state } = this;\n\n\t\treturn (\n\t\t\t<nav className=\"ple-sideNavigation ple-side__navigation\">\n\t\t\t\t<div className=\"ple-sideNavigation__wrap\">\n\t\t\t\t\t<button type=\"button\" title=\"attach images\" onClick={props.onAttach}>\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-reply ple-abs\">Moving the image to grid block</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" title=\"toggle select\" onClick={props.onToggleSelect}>\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-select ple-abs\">Toggle all select</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span title=\"upload images\" key={state.timestamp}>\n\t\t\t\t\t\t<input type=\"file\" ref=\"inputFile\" onChange={this.upload.bind(this)} multiple />\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-upload ple-abs\">upload images</i>\n\t\t\t\t\t</span>\n\t\t\t\t\t<button type=\"button\" title=\"remove images\" onClick={props.onRemove}>\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-trash ple-abs\">remove images</i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Navigation/index.js","import React, { Component } from 'react';\nimport classNames from 'classnames';\n\n\nexport default class ToggleSideButton extends Component {\n\n\tstatic displayName = 'ToggleSideButton';\n\n\tstatic defaultProps = {\n\t\tshow: false,\n\t\tonClick: () => {}\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={props.onClick}\n\t\t\t\tclassName=\"ple-side__toggle\">\n\t\t\t\t<span>\n\t\t\t\t\t<i className={classNames(\n\t\t\t\t\t\t'ple-sp-ico',\n\t\t\t\t\t\t'ple-abs',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'ple-ico-arrow-right': props.show,\n\t\t\t\t\t\t\t'ple-ico-arrow-left': !props.show\n\t\t\t\t\t\t}\n\t\t\t\t\t)}>\n\t\t\t\t\t\tToggle sidebar\n\t\t\t\t\t</i>\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/ToggleSideButton/index.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport $ from 'jquery/dist/jquery.slim';\n\nimport * as actions from '../../actions';\n\nimport ToggleSideButton from './ToggleSideButton';\nimport Navigation from './Navigation';\nimport Items from './Items';\n\nimport * as lib from '../../lib';\nimport selectItems from './selectItems';\n\n\nclass Side extends React.Component {\n\n\tstatic displayName = 'Side';\n\n\tstatic defaultProps = {\n\t\ttree: {}, // data tree in reduce\n\t\tsetting: {}, // setting in reduce\n\t\tapi: {}, // api\n\t\tdispatch: null, // redux dispatch\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.dragTarget = null;\n\t\tthis.dragPosition = [];\n\t\tthis.$gridItems = null;\n\t\tthis.$dragItem = null;\n\t\tthis.uploading = false;\n\t}\n\n\t/**\n\t * get gridster item\n\t * 포인트 위치에 있는 gridster블럭을 가져온다.\n\t *\n\t * @return {Object} gridster item\n\t */\n\tgetGridsterItem()\n\t{\n\t\tconst { props } = this;\n\t\tlet target = null;\n\t\tthis.$gridItems = $(props.element).find('.ple-grid > div');\n\n\t\tthis.$gridItems.each((n, el) => {\n\t\t\tconst $this = $(el);\n\t\t\tconst pos = $this.offset();\n\t\t\tif (pos.left < this.dragPosition[0] &&\n\t\t\t\t(pos.left + $this.width()) > this.dragPosition[0] &&\n\t\t\t\tpos.top < this.dragPosition[1] &&\n\t\t\t\t(pos.top + $this.height()) > this.dragPosition[1])\n\t\t\t{\n\t\t\t\ttarget = $this.data('key');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * On select items\n\t *\n\t * @param {Number} key\n\t */\n\t_selectItem(key)\n\t{\n\t\tconst { props } = this;\n\t\tlet selected = selectItems(props, key);\n\t\tprops.api.side.select(selected);\n\t}\n\n\t/**\n\t * Remove items\n\t */\n\t_removeItems()\n\t{\n\t\tconst { props } = this;\n\t\tlet keys = props.api.side.getKeys('selected');\n\n\t\tif (keys.length)\n\t\t{\n\t\t\tif (confirm('Do you really want to delete it?'))\n\t\t\t{\n\t\t\t\tprops.api.side.remove(keys);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (!confirm('Delete all?')) return;\n\t\t\tkeys = props.api.side.getKeys('all');\n\t\t\tprops.api.side.remove(keys);\n\t\t}\n\t}\n\n\t/**\n\t * upload\n\t *\n\t * @param {FileList} files\n\t */\n\t_upload(files)\n\t{\n\t\tconst { props } = this;\n\t\tprops.api.side.upload(files);\n\t}\n\n\t/**\n\t * Attach images to grid\n\t */\n\t_attach()\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet keys = this.props.api.side.getKeys('selected');\n\t\t\tlet result = this.props.api.side.attachToGrid(keys);\n\t\t\tif (result) throw result;\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\talert(e.message);\n\t\t}\n\t}\n\n\t_dragStartItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$gridItems = $(props.element).find('.ple-grid > div');\n\t\tthis.$gridItems.on('dragover', (e) => {\n\t\t\te.preventDefault();\n\t\t\tif ($(e.currentTarget).hasClass('ple-grid__item-hover')) return;\n\t\t\t$(e.currentTarget).addClass('ple-grid__item-hover');\n\t\t}).on('dragleave', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t}).on('drop', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t\tthis.dragTarget = $(e.currentTarget).data('key');\n\t\t});\n\t}\n\t_dragEndItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$gridItems.off();\n\t\tthis.$gridItems = null;\n\n\t\t// check drag target\n\t\tif (this.dragTarget === null) return;\n\n\t\t// play redux\n\t\tprops.dispatch(actions.body.attachImage(\n\t\t\tthis.dragTarget,\n\t\t\t$(e.currentTarget).data('image')\n\t\t));\n\n\t\t// empty dragTarget\n\t\tthis.dragTarget = null;\n\t}\n\t_touchStartItem(e)\n\t{\n\t\tthis.$dragItem = $(e.currentTarget)\n\t\t\t.clone()\n\t\t\t.removeAttr('draggable')\n\t\t\t.addClass('ple-side__placeholder')\n\t\t\t.width($(e.currentTarget).width())\n\t\t\t.height($(e.currentTarget).height());\n\n\t\t$('body').append(this.$dragItem);\n\t}\n\t_touchMoveItem(e)\n\t{\n\t\tif (!lib.util.checkSupportCss('touch-action', 'pan-y'))\n\t\t{\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tlet touch = e.nativeEvent.touches[0];\n\t\tthis.dragPosition = [touch.pageX, touch.pageY];\n\t\tthis.$dragItem.css({\n\t\t\tleft: touch.pageX - (this.$dragItem.width() * 0.5),\n\t\t\ttop: touch.pageY - (this.$dragItem.height() * 0.5)\n\t\t});\n\t}\n\t_touchEndItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$dragItem.remove();\n\t\tthis.$dragItem = null;\n\n\t\tif (this.dragPosition.length > 0)\n\t\t{\n\t\t\tthis.dragTarget = this.getGridsterItem();\n\n\t\t\t// check drag target\n\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t// play redux\n\t\t\tprops.dispatch(actions.body.attachImage(\n\t\t\t\tthis.dragTarget,\n\t\t\t\t$(e.currentTarget).data('image')\n\t\t\t));\n\t\t\tthis.dragPosition = [];\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// TODO : 확인해보고 처리하기\n\t\t\t//this._selectItem($(e.currentTarget).data('id'));\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<aside className=\"ple-side\">\n\t\t\t\t<div className={classNames(\n\t\t\t\t\t'ple-side__wrap',\n\t\t\t\t\t{ 'ple-side__wrap-show': props.tree.side.visible }\n\t\t\t\t)}>\n\t\t\t\t\t<span\n\t\t\t\t\t\tonClick={() => props.api.side.toggleSelectAll(false)}\n\t\t\t\t\t\tclassName=\"ple-side__background\"/>\n\t\t\t\t\t<ToggleSideButton\n\t\t\t\t\t\tshow={props.tree.side.visible}\n\t\t\t\t\t\tonClick={() => props.api.layout.toggleSide(undefined)}/>\n\t\t\t\t\t<Navigation\n\t\t\t\t\t\tonAttach={this._attach.bind(this)}\n\t\t\t\t\t\tonToggleSelect={() => props.api.side.toggleSelectAll()}\n\t\t\t\t\t\tonUpload={this._upload.bind(this)}\n\t\t\t\t\t\tonRemove={this._removeItems.bind(this)}/>\n\t\t\t\t\t<Items\n\t\t\t\t\t\tfiles={props.tree.side.files}\n\t\t\t\t\t\tonSelect={this._selectItem.bind(this)}\n\t\t\t\t\t\tonDragStart={this._dragStartItem.bind(this)}\n\t\t\t\t\t\tonDragEnd={this._dragEndItem.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._touchStartItem.bind(this)}\n\t\t\t\t\t\tonTouchMove={this._touchMoveItem.bind(this)}\n\t\t\t\t\t\tonTouchEnd={this._touchEndItem.bind(this)}\n\t\t\t\t\t\tprogress={props.tree.side.progressPercent}/>\n\t\t\t\t</div>\n\t\t\t</aside>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state))(Side);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/index.js","let firstSelectIdx = null;\n\n\n/**\n * Change active\n *\n * @param {Number} key\n * @param {Object} item\n * @param {Number} start\n * @param {Number} end\n * @param {String} type press key name and select type\n * @return {Object}\n */\nfunction changeActive(key, item, start, end, type)\n{\n\tswitch(type)\n\t{\n\t\tcase 'add':\n\t\t\treturn {\n\t\t\t\tkey: key,\n\t\t\t\tactive: (key === end) ? !item.active : item.active\n\t\t\t};\n\t\tcase 'range':\n\t\t\tstart = start || 0;\n\t\t\tif (start < end)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tactive: key >= start && key <= end\n\t\t\t\t};\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tactive: key <= start && key >= end\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn item;\n\t}\n\n\t// not found type\n\tif (key === end)\n\t{\n\t\treturn { key: key, active: !item.active };\n\t}\n\telse\n\t{\n\t\treturn { key: key, active: false };\n\t}\n}\n\n\n/**\n * select items\n *\n * @param {Object} props\n * @param {Number} key\n * @return {Array}\n */\nexport default function selectItems(props, key)\n{\n\tconst { keyName } = props.keyboard;\n\tconst { files } = props.tree.side;\n\tlet type = null;\n\tlet selected = false;\n\n\tif (keyName !== 'SHIFT')\n\t{\n\t\tlet currentItem = null;\n\t\tObject.keys(props.tree.side.files).forEach(k => {\n\t\t\tlet obj = props.tree.side.files[k];\n\t\t\tif (parseInt(k) === key)\n\t\t\t{\n\t\t\t\tcurrentItem = obj;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tfirstSelectIdx = (currentItem.active === true) ? null : key;\n\t\tif (!firstSelectIdx && currentItem.active === true)\n\t\t{\n\t\t\tfirstSelectIdx = currentItem.key;\n\t\t}\n\t}\n\n\tswitch (keyName) {\n\t\tcase 'CTRL':\n\t\tcase 'CMD':\n\t\t\ttype = 'add';\n\t\t\tbreak;\n\t\tcase 'SHIFT':\n\t\t\ttype = 'range';\n\t}\n\n\tlet items = Object.keys(files).map(k => {\n\t\tlet obj = changeActive(parseInt(k), files[k], firstSelectIdx, key, type);\n\t\tif (obj.active)\n\t\t{\n\t\t\tselected = true;\n\t\t}\n\t\treturn obj;\n\t});\n\n\tif (!selected)\n\t{\n\t\tfirstSelectIdx = null;\n\t}\n\n\treturn items;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/selectItems.js","import * as types from './types';\n\n\nexport function addBlock(value)\n{\n\treturn {\n\t\ttype: types.GRID_ADD_BLOCK,\n\t\tvalue: value,\n\t};\n}\n\nexport function removeBlock(keys) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_BLOCK,\n\t\tkeys,\n\t};\n}\n\nexport function shuffleBlocks(options)\n{\n\treturn {\n\t\ttype: types.GRID_SHUFFLE_BLOCKS,\n\t\tvalue: options,\n\t}\n}\n\nexport function duplicateBlock(keys)\n{\n\treturn {\n\t\ttype: types.GRID_DUPLICATE_BLOCK,\n\t\tkeys\n\t};\n}\n\nexport function updateBlocks(blocks)\n{\n\treturn {\n\t\ttype: types.GRID_UPDATE_BLOCKS,\n\t\tvalue: blocks,\n\t}\n}\n\nexport function activeBlock(key, isImage=false)\n{\n\treturn {\n\t\ttype: types.GRID_ACTIVE_BLOCK,\n\t\tvalue: key,\n\t\tisImage: isImage\n\t};\n}\n\nexport function changeColorBlock(keys, color)\n{\n\treturn {\n\t\ttype: types.GRID_CHANGE_COLOR,\n\t\tkeys,\n\t\tcolor,\n\t}\n}\n\nexport function updateSetting(value)\n{\n\treturn {\n\t\ttype: types.GRID_SETTING_UPDATE,\n\t\tvalue: value,\n\t};\n}\n\nexport function attachImages(images, cols, activeBlocks)\n{\n\treturn {\n\t\ttype: types.GRID_ATTACH_IMAGES,\n\t\tvalue: images,\n\t\tcolumns: cols,\n\t\tactiveBlocks: activeBlocks,\n\t}\n}\n\nexport function attachImage(keys, image)\n{\n\treturn {\n\t\ttype: types.GRID_ATTACH_IMAGE,\n\t\tkeys,\n\t\timage,\n\t};\n}\n\nexport function removeImages(ids)\n{\n\treturn {\n\t\ttype: types.GRID_REMOVE_IMAGES,\n\t\tvalue: ids,\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/body.js","import * as types from './types';\n\n\nexport function init(api, preference, element)\n{\n\treturn {\n\t\ttype: types.INIT_PLE,\n\t\tapi,\n\t\tpreference,\n\t\telement,\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/core.js","import * as types from './types';\n\n\nexport function open(key, item)\n{\n\treturn {\n\t\ttype: types.CROPPER_OPEN,\n\t\titem,\n\t\tkey\n\t};\n}\n\nexport function close(key, position, size)\n{\n\treturn {\n\t\ttype: types.CROPPER_CLOSE,\n\t\tkey,\n\t\tposition,\n\t\tsize\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/cropper.js","import * as types from './types';\n\n\n// control visible side bar\nexport function visible(sw)\n{\n\treturn {\n\t\ttype: types.SIDE_VISIBLE,\n\t\tvalue: sw,\n\t};\n}\n\n// toggle side bar\nexport function toggle()\n{\n\treturn {\n\t\ttype: types.SIDE_TOGGLE,\n\t};\n}\n\nexport function addFiles(files=[])\n{\n\treturn {\n\t\ttype: types.SIDE_ADD_FILES,\n\t\tfiles,\n\t};\n}\n\nexport function removeFiles(keys=[])\n{\n\treturn {\n\t\ttype: types.SIDE_REMOVE_FILES,\n\t\tkeys,\n\t};\n}\n\nexport function updateSelected(value)\n{\n\treturn {\n\t\ttype: types.SIDE_UPDATE_SELECTED,\n\t\tvalue\n\t};\n}\n\nexport function updateProgress(percent)\n{\n\treturn {\n\t\ttype: types.SIDE_UPDATE_PROGRESS,\n\t\tvalue: percent\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/side.js","import React from 'react';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport Container from './Container';\n\nimport reducers from './reducers';\nimport API from './API';\n\n\nclass PhotoLayoutEditor extends React.Component {\n\n\tstatic displayName = 'PhotoLayoutEditor';\n\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\t// set store\n\t\tthis.store = createStore(reducers);\n\n\t\t// set api\n\t\tthis.api = new API(this.store);\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<Provider store={this.store}>\n\t\t\t\t<Container parent={{ preference: props, api: this.api }}/>\n\t\t\t</Provider>\n\t\t);\n\t}\n\n}\n\nexport default PhotoLayoutEditor;\nmodule.exports = PhotoLayoutEditor;\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/index.js","import $ from 'jquery/dist/jquery.slim';\n\nimport * as libs from '../lib';\n\n\nexport default class Keyboard {\n\n\tconstructor()\n\t{\n\t\tthis.eventName = `PLE_${libs.number.getTimeStamp()}`;\n\t\tthis.code = null;\n\t\tthis.keyName = null;\n\t\tthis.names = {\n\t\t\t17: 'CTRL',\n\t\t\t18: 'ALT',\n\t\t\t91: 'CMD',\n\t\t\t93: 'CMD',\n\t\t\t16: 'SHIFT',\n\t\t};\n\n\t\t// init key down event\n\t\t$(window).on(`keydown.${this.eventName}`, this._keyDown.bind(this));\n\t}\n\n\t/**\n\t * apply\n\t *\n\t * @param {Number} code\n\t */\n\tapply(code)\n\t{\n\t\tthis.code = code;\n\t\tthis.keyName = this.names[this.code] || null;\n\t}\n\n\t/**\n\t * key down event\n\t *\n\t * @param {Event} e\n\t */\n\t_keyDown(e)\n\t{\n\t\t// apply keyCode\n\t\tthis.apply(e.keyCode);\n\n\t\t// set events\n\t\t$(window)\n\t\t\t.on(`keyup.${this.eventName}`, this._keyUp.bind(this))\n\t\t\t.on(`contextmenu.${this.eventName}`, this._keyUp.bind(this))\n\t\t\t.on(`blur.${this.eventName}`, this._keyUp.bind(this))\n\t\t\t.off(`keydown.${this.eventName}`);\n\t}\n\n\t/**\n\t * key up event\n\t *\n\t */\n\t_keyUp()\n\t{\n\t\t// apply keyCode\n\t\tthis.apply(null);\n\n\t\t// set events\n\t\t$(window)\n\t\t\t.on(`keydown.${this.eventName}`, this._keyDown.bind(this))\n\t\t\t.off(`contextmenu.${this.eventName} keyup.${this.eventName} blur.${this.eventName}`);\n\t}\n\n\t/**\n\t * destroy event\n\t *\n\t */\n\tdestroy()\n\t{\n\t\t$(window).off(`keydown.${this.eventName} contextmenu.${this.eventName} keyup.${this.eventName} blur.${this.eventName}`);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/Keyboard.js","/**\n * rgba to hex\n *\n * @param {String} color\n * @return {String}\n */\nexport function rgbToHex(color)\n{\n\tcolor = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n\treturn (color && color.length === 4) ? \"#\" +\n\t\t(\"0\" + parseInt(color[1],10).toString(16)).slice(-2) +\n\t\t(\"0\" + parseInt(color[2],10).toString(16)).slice(-2) +\n\t\t(\"0\" + parseInt(color[3],10).toString(16)).slice(-2) : '';\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/color.js","/**\n * Random range\n * min~max 사이의 랜덤 정수를 반환한다.\n *\n * @param {Number} min\n * @param {Number} max\n * @param {Boolean} useDecimal\n * @return {Number}\n */\nexport function randomRange(min, max, useDecimal=false)\n{\n\tif (useDecimal)\n\t{\n\t\treturn Math.random() * (max - min) + min;\n\t}\n\telse\n\t{\n\t\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n\t}\n}\n\n\n/**\n * get ratio for resize\n * max와 min값의 차이의 비율을 가져온다.\n *\n * @param {Number} min\n * @param {Number} max\n * @return {Number}\n */\nexport function getRatioForResize(min, max)\n{\n\treturn (max > min) ? min / max : max / min;\n}\n\n\n/**\n * Get timestamp\n *\n * @return {Number}\n */\nexport function getTimeStamp()\n{\n\treturn Math.round(+new Date()/1000);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/number.js","/**\n * is array\n *\n * @param {Array} arr\n * @return {Boolean}\n */\nexport function isArray(arr=[])\n{\n\treturn !!(arr && arr.length);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/object.js","import $ from 'jquery/dist/jquery.slim';\n\n\n/**\n * local upload\n *\n * @param {File} file\n * @return {Promise}\n */\nfunction local(file)\n{\n\tconst defer = $.Deferred();\n\tconst reader = new FileReader();\n\n\treader.addEventListener('load', function(e) {\n\t\tdefer.resolve({\n\t\t\tname: file.name,\n\t\t\ttype: file.type,\n\t\t\tsize: file.size,\n\t\t\turl: e.target.result,\n\t\t});\n\t});\n\treader.addEventListener('error', function(e) {\n\t\tdefer.reject(e.target);\n\t});\n\n\treader.readAsDataURL(file);\n\n\treturn defer.promise();\n}\n\n/**\n * external upload\n *\n * @param {String} script\n * @param {File} file\n * @return {Promise}\n */\nfunction external(script, file)\n{\n\tconst defer = $.Deferred();\n\tconst xhr = new XMLHttpRequest();\n\n\tif (!(typeof FormData === 'function' || typeof FormData === 'object'))\n\t{\n\t\tdefer.reject('not support browser', file);\n\t\treturn null;\n\t}\n\tconst formData = new FormData();\n\n\tfunction onLoad(e)\n\t{\n\t\ttry {\n\t\t\tconst result = JSON.parse(e.target.responseText);\n\t\t\tif (result.state === 'success')\n\t\t\t{\n\t\t\t\tdefer.resolve(result.data);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow 'server error';\n\t\t\t}\n\t\t} catch(e) {\n\t\t\tdefer.reject(e);\n\t\t}\n\t}\n\n\tfunction onProgress(event)\n\t{\n\t\tconst { loaded, total } = event;\n\t\tdefer.notify('progress', loaded, total);\n\t}\n\n\tformData.append('files[]', file);\n\txhr.open('post', script, true);\n\n\txhr.addEventListener('load', onLoad);\n\txhr.upload.addEventListener('progress', onProgress);\n\n\txhr.send(formData);\n\n\t// start queue\n\tdefer.notify('start');\n\n\treturn defer.promise();\n}\n\n\n/**\n * upload multiple files\n *\n */\nexport default function uploader(files, script)\n{\n\tconst defer = $.Deferred();\n\tconst total = files.length;\n\tlet count = 0;\n\n\tfunction upload()\n\t{\n\t\tif (count >= total)\n\t\t{\n\t\t\tdefer.resolve();\n\t\t\treturn;\n\t\t}\n\n\t\tif (script)\n\t\t{\n\t\t\texternal(script, files[count])\n\t\t\t\t.done((data) => {\n\t\t\t\t\tdefer.notify('done', { count, data });\n\t\t\t\t\tcount++;\n\t\t\t\t\tupload();\n\t\t\t\t})\n\t\t\t\t.progress((state, loaded, total) => {\n\t\t\t\t\tdefer.notify(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\tstate === 'progress' && { loaded, total },\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.fail((error) => {\n\t\t\t\t\tdefer.reject(error);\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlocal(files[count])\n\t\t\t\t.done((data) => {\n\t\t\t\t\tdefer.notify('done', { count, data });\n\t\t\t\t\tcount++;\n\t\t\t\t\tupload();\n\t\t\t\t})\n\t\t\t\t.fail(() => {});\n\t\t}\n\t}\n\n\tupload(0);\n\n\treturn defer.promise();\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/uploader.js","/**\n * is touch device\n *\n * @returns {boolean}\n */\nexport function isTouchDevice()\n{\n\treturn (\n\t\t('ontouchstart' in window) ||\n\t\t(navigator.MaxTouchPoints > 0) ||\n\t\t(navigator.msMaxTouchPoints > 0)\n\t);\n}\n\n\n/**\n * Sleep\n *\n * @param {Number} time\n * @param {String} id\n * @return {Promise}\n */\nexport function sleep(time, id='pleTimer')\n{\n\treturn new Promise((resolve) => {\n\t\twindow[id] = setTimeout(resolve, time);\n\t});\n}\n\n\n/**\n * Get image size\n *\n * @param {String} src\n * @return {Promise}\n */\nexport function getImageSize(src)\n{\n\treturn new Promise((resolve, reject) => {\n\t\tif (!(src && typeof src === 'string')) reject();\n\n\t\tlet img = document.createElement('img');\n\n\t\timg.onload = function()\n\t\t{\n\t\t\tresolve({\n\t\t\t\twidth: img.naturalWidth,\n\t\t\t\theight: img.naturalHeight,\n\t\t\t\tratio: img.naturalHeight / img.naturalWidth,\n\t\t\t});\n\t\t};\n\n\t\timg.onerror = function()\n\t\t{\n\t\t\treject();\n\t\t};\n\n\t\timg.src = src;\n\t});\n}\n\n\n/**\n * get css prefix\n *\n * @variation {Object}\n */\nexport const cssPrefix = (function()\n{\n\tconst styles = window.getComputedStyle(document.documentElement, '');\n\tconst pre = (Array.prototype.slice\n\t\t.call(styles)\n\t\t.join('')\n\t\t.match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o'])\n\t)[1];\n\tconst dom = ('WebKit|Moz|MS|O').match(new RegExp('(' + pre + ')', 'i'))[1];\n\n\treturn {\n\t\tdom: dom,\n\t\tlowercase: pre,\n\t\tcss: `-${pre}-`,\n\t\tjs: pre[0].toUpperCase() + pre.substr(1)\n\t};\n})();\n\n\n/**\n * check support css\n *\n * @param {String} key\n * @param {String} value\n * @return {Boolean}\n */\nexport function checkSupportCss(key, value)\n{\n\tif (CSS && CSS.supports)\n\t{\n\t\treturn CSS.supports(key, value);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/util.js","import * as types from '../actions/types';\nimport * as libs from '../lib';\nimport * as defaults from './defaults';\n\n\nlet lastGridId = 0;\nlet shuffleIndex = 0;\n\n\n/**\n * setting\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nexport function setting(state=defaults.setting.body.setting, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...action.preference.body.setting\n\t\t\t\t};\n\t\t\t} catch(e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.GRID_SETTING_UPDATE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.value,\n\t\t\t};\n\t}\n\treturn state;\n}\n\n/**\n * visible toolbar buttons\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nexport function visibleToolbarButtons(state=defaults.body.visibleToolbarButtons, action)\n{\n\tswitch(action.type) {\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\tif (action.value && action.value.length)\n\t\t\t{\n\t\t\t\treturn Object.assign({},\n\t\t\t\t\tstate,\n\t\t\t\t\t{\n\t\t\t\t\t\tremoveImage: true,\n\t\t\t\t\t\tduplicate: true,\n\t\t\t\t\t\tremoveBlock: true,\n\t\t\t\t\t\teditColor: true,\n\t\t\t\t\t},\n\t\t\t\t\taction.isImage && action.value.length === 1 ? {\n\t\t\t\t\t\tedit: true,\n\t\t\t\t\t} : {\n\t\t\t\t\t\tedit: false,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tedit: false,\n\t\t\t\t\tremoveImage: false,\n\t\t\t\t\tduplicate: false,\n\t\t\t\t\tremoveBlock: false,\n\t\t\t\t\teditColor: false,\n\t\t\t\t};\n\t\t\t}\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tedit: false,\n\t\t\t\tremoveImage: false,\n\t\t\t\tduplicate: false,\n\t\t\t\tremoveBlock: false,\n\t\t\t\teditColor: false,\n\t\t\t};\n\n\t\tcase types.GRID_REMOVE_IMAGES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tedit: false,\n\t\t\t};\n\t}\n\treturn state;\n}\n\n/**\n * grid\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nexport function grid(state={}, action)\n{\n\tlet newState = Object.assign({}, state);\n\n\tswitch (action.type)\n\t{\n\t\tcase types.INIT_PLE:\n\t\t\tlet grid = {};\n\t\t\ttry {\n\t\t\t\tif (!(action.preference.body.grid instanceof Array)) throw 'error';\n\t\t\t\taction.preference.body.grid.forEach((o, k) => {\n\t\t\t\t\tgrid[k] = o;\n\t\t\t\t});\n\t\t\t} catch(e) {\n\t\t\t\tgrid = action.preference.body.grid;\n\t\t\t}\n\t\t\tObject.keys(grid).forEach((o) => {\n\t\t\t\tnewState[lastGridId++] = {\n\t\t\t\t\tcolor: null,\n\t\t\t\t\t...grid[o],\n\t\t\t\t\tindexPrefix: shuffleIndex,\n\t\t\t\t};\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ADD_BLOCK:\n\t\t\tnewState[lastGridId++] = {\n\t\t\t\tcolor: null,\n\t\t\t\tlayout: { x: Infinity, y: Infinity, w: 1, h: 1 },\n\t\t\t\t...action.value,\n\t\t\t\tindexPrefix: shuffleIndex,\n\t\t\t};\n\t\t\treturn newState;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (!action.keys || !action.keys.length) return state;\n\t\t\taction.keys.forEach(o => {\n\t\t\t\tdelete newState[o];\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_SHUFFLE_BLOCKS:\n\t\t\treturn Object.keys(newState).map((k) => {\n\t\t\t\treturn {\n\t\t\t\t\t...newState[k],\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tx: libs.number.randomRange(0, action.value.x - 1),\n\t\t\t\t\t\ty: libs.number.randomRange(0, action.value.y - 1),\n\t\t\t\t\t\tw: libs.number.randomRange(1, action.value.w),\n\t\t\t\t\t\th: libs.number.randomRange(1, action.value.h),\n\t\t\t\t\t},\n\t\t\t\t\tindexPrefix: shuffleIndex++,\n\t\t\t\t};\n\t\t\t});\n\n\t\tcase types.GRID_DUPLICATE_BLOCK:\n\t\t\taction.keys.forEach(k => {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[lastGridId++] = Object.assign({}, newState[k]);\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_CHANGE_COLOR:\n\t\t\taction.keys.forEach(k => {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[k].color = action.color;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ATTACH_IMAGES:\n\t\t\tif (!libs.object.isArray(action.value)) return state;\n\n\t\t\tif (action.activeBlocks && action.activeBlocks.length)\n\t\t\t{\n\t\t\t\tObject.keys(newState).forEach((k) => {\n\t\t\t\t\tif (!action.value.length) return;\n\t\t\t\t\tif (action.activeBlocks.indexOf(k) === -1) return;\n\t\t\t\t\tnewState[k].image = {\n\t\t\t\t\t\tsrc: action.value.splice(0,1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tObject.keys(newState).forEach((k) => {\n\t\t\t\t\tif (newState[k].image) return;\n\t\t\t\t\tif (!action.value || !action.value.length) return;\n\t\t\t\t\tnewState[k].image = {\n\t\t\t\t\t\tsrc: action.value.splice(0,1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tif (action.value.length)\n\t\t\t\t{\n\t\t\t\t\taction.value.forEach((o, k) => {\n\t\t\t\t\t\tnewState[lastGridId++] = {\n\t\t\t\t\t\t\tcolor: null,\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: (Object.keys(state).length + k) % action.columns,\n\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\timage: {\n\t\t\t\t\t\t\t\tsrc: o,\n\t\t\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\t\t\tsize: 'cover',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ATTACH_IMAGE:\n\t\t\tif (!(action.image && typeof action.image === 'string')) return state;\n\t\t\tif (!newState[action.keys]) return state;\n\n\t\t\tnewState[action.keys].image = {\n\t\t\t\tsrc: action.image,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover',\n\t\t\t};\n\t\t\treturn newState;\n\n\t\tcase types.GRID_REMOVE_IMAGES:\n\t\t\taction.value.forEach(k => {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[k].image = null;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_UPDATE_BLOCKS:\n\t\t\treturn Object.assign({}, state, action.value);\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\tif (!newState[action.key]) return state;\n\t\t\tif (action.position)\n\t\t\t{\n\t\t\t\tnewState[action.key].image.position = action.position;\n\t\t\t}\n\t\t\tif (action.size)\n\t\t\t{\n\t\t\t\tnewState[action.key].image.size = action.size;\n\t\t\t}\n\t\t\treturn newState;\n\t}\n\n\treturn state;\n}\n\n/**\n * active block\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nexport function activeBlock(state=[], action)\n{\n\tlet newState = Object.assign([], state);\n\n\tswitch (action.type)\n\t{\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\treturn action.value;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (action.keys && action.keys.length)\n\t\t\t{\n\t\t\t\taction.keys.forEach(o => {\n\t\t\t\t\tif (newState.indexOf(o) < 0) return;\n\t\t\t\t\tnewState.splice(newState.indexOf(o), 1);\n\t\t\t\t});\n\t\t\t\treturn newState;\n\t\t\t}\n\t\t\treturn [];\n\t}\n\n\treturn state;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/body.js","import * as types from '../actions/types';\nimport Keyboard from '../lib/Keyboard';\nimport * as defaults from './defaults';\n\n\nexport function setting(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn Object.assign({}, {\n\t\t\t\tbase: {\n\t\t\t\t\t...defaults.setting.base,\n\t\t\t\t\tuploadScript: action.preference.uploadScript || defaults.setting.base.uploadScript,\n\t\t\t\t\tuploadParamsConvertFunc: action.preference.uploadParamsConvertFunc || defaults.setting.base.uploadParamsConvertFunc\n\t\t\t\t},\n\t\t\t\tside: {\n\t\t\t\t\t...defaults.setting.side,\n\t\t\t\t\t...action.preference.side\n\t\t\t\t},\n\t\t\t\tbody: {\n\t\t\t\t\t...defaults.setting.body,\n\t\t\t\t\t...action.preference.body,\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function api(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.api;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function keyboard(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn new Keyboard();\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function element(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.element;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/core.js","import * as types from '../actions/types';\n\n\nexport function visible(state=false, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn true;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn false;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function item(state=null, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.item;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function key(state=null, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.key;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/cropper.js","import * as types from '../actions/types';\nimport * as defaults from './defaults';\n\n\nlet nextFileId = 0;\n\n\n/**\n * Reducers\n */\n\n// base\nexport default function base(state=defaults.side, action)\n{\n\tlet newState = Object.assign({}, state);\n\tlet files = {};\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\taction.preference.side.files.forEach(o => {\n\t\t\t\t\tfiles[nextFileId++] = { image: o, active: false }\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...action.preference.side,\n\t\t\t\t\tfiles: {\n\t\t\t\t\t\t...state.files,\n\t\t\t\t\t\t...files,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t} catch(e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.SIDE_VISIBLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvisible: action.value,\n\t\t\t};\n\n\t\tcase types.SIDE_TOGGLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvisible: !state.visible,\n\t\t\t};\n\n\t\tcase types.SIDE_ADD_FILES:\n\t\t\taction.files.forEach((o) => {\n\t\t\t\tfiles[nextFileId++] = { image: o, active: false }\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\t...files,\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.SIDE_REMOVE_FILES:\n\t\t\tif (!action.keys.length) return state;\n\t\t\taction.keys.forEach(o => {\n\t\t\t\tdelete newState.files[o];\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.SIDE_UPDATE_SELECTED:\n\t\t\tif (!(action.value && Object.keys(action.value).length)) return state;\n\t\t\tObject.keys(action.value).forEach(k => {\n\t\t\t\tlet key = action.value[k].key;\n\t\t\t\tif (!newState.files[key]) return;\n\t\t\t\tnewState.files[key].active = action.value[k].active;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.SIDE_UPDATE_PROGRESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprogressPercent: action.value\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/side.js","module.exports = __WEBPACK_EXTERNAL_MODULE_45__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}\n// module id = 45\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_46__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-grid-layout\",\"commonjs2\":\"react-grid-layout\",\"amd\":\"react-grid-layout\",\"root\":\"PropTypes\"}\n// module id = 46\n// module chunks = 0"],"sourceRoot":""}