{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///PhotoLayoutEditor.js","webpack:///webpack/bootstrap 41910e4439952b63bbdb","webpack:///external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack:///./src/PhotoLayoutEditor/actions/index.js","webpack:///./src/PhotoLayoutEditor/actions/types.js","webpack:///./src/PhotoLayoutEditor/lib/index.js","webpack:///external {\"commonjs\":\"classnames\",\"commonjs2\":\"classnames\",\"amd\":\"classnames\",\"root\":\"classNames\"}","webpack:///external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}","webpack:///external {\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/reducers/defaults.js","webpack:///external {\"commonjs\":\"redux\",\"commonjs2\":\"redux\",\"amd\":\"redux\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/lib/object.js","webpack:///./src/PhotoLayoutEditor/API/index.js","webpack:///./src/PhotoLayoutEditor/Container/index.js","webpack:///./src/PhotoLayoutEditor/reducers/index.js","webpack:///./src/PhotoLayoutEditor/API/Cropper.js","webpack:///./src/PhotoLayoutEditor/API/Grid.js","webpack:///./src/PhotoLayoutEditor/API/Layout.js","webpack:///./src/PhotoLayoutEditor/API/Side.js","webpack:///./src/PhotoLayoutEditor/Container/Body/GridLayout/index.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/Button.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/EditLayoutSetting.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/index.js","webpack:///./src/PhotoLayoutEditor/Container/Body/index.js","webpack:///./src/PhotoLayoutEditor/Container/Cropper/Block.js","webpack:///./src/PhotoLayoutEditor/Container/Cropper/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Items/Item.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Items/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Navigation/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/ToggleSideButton/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/index.js","webpack:///./src/PhotoLayoutEditor/actions/body.js","webpack:///./src/PhotoLayoutEditor/actions/core.js","webpack:///./src/PhotoLayoutEditor/actions/cropper.js","webpack:///./src/PhotoLayoutEditor/actions/side.js","webpack:///./src/PhotoLayoutEditor/index.js","webpack:///./src/PhotoLayoutEditor/lib/Keyboard.js","webpack:///./src/PhotoLayoutEditor/lib/color.js","webpack:///./src/PhotoLayoutEditor/lib/number.js","webpack:///./src/PhotoLayoutEditor/lib/uploader.js","webpack:///./src/PhotoLayoutEditor/lib/util.js","webpack:///./src/PhotoLayoutEditor/reducers/body.js","webpack:///./src/PhotoLayoutEditor/reducers/core.js","webpack:///./src/PhotoLayoutEditor/reducers/cropper.js","webpack:///./src/PhotoLayoutEditor/reducers/side.js","webpack:///external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","webpack:///external {\"commonjs\":\"react-grid-layout\",\"commonjs2\":\"react-grid-layout\",\"amd\":\"react-grid-layout\",\"root\":\"PropTypes\"}","webpack:///external {\"commonjs\":\"react-simple-colorpicker\",\"commonjs2\":\"react-simple-colorpicker\",\"amd\":\"react-simple-colorpicker\",\"root\":\"PropTypes\"}"],"names":["root","factory","exports","module","require","define","amd","PhotoLayoutEditor","React","classNames","$","PropTypes","ReactDOM","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_5__","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_8__","__WEBPACK_EXTERNAL_MODULE_43__","__WEBPACK_EXTERNAL_MODULE_44__","__WEBPACK_EXTERNAL_MODULE_45__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","_interopRequireWildcard","obj","newObj","key","types","body","side","cropper","core","_core","_body","_cropper","_side","_types","INIT_PLE","SIDE_VISIBLE","SIDE_ADD_FILES","SIDE_REMOVE_FILES","SIDE_CHANGE_ACTIVE_FILE","SIDE_TOGGLE","SIDE_UPDATE_PROGRESS","ATTACH_IMAGES","ATTACH_IMAGE","GRID_ADD_BLOCK","GRID_REMOVE_BLOCK","GRID_SHUFFLE_BLOCKS","GRID_DUPLICATE_BLOCK","GRID_UPDATE_BLOCKS","GRID_ACTIVE_BLOCK","GRID_SETTING_UPDATE","GRID_CHANGE_COLOR","GRID_REMOVE_IMAGES","CROPPER_OPEN","CROPPER_CLOSE","uploader","color","number","util","_util","_number","_object","_color","_uploader","_uploader2","setting","base","uploadScript","uploadParamsConvertFunc","width","height","column","outerMargin","innerMargin","freeMode","blockColor","grid","layout","x","y","w","h","files","visible","progressPercent","visibleToolbarButtons","shuffle","add","select","edit","removeImage","duplicate","removeBlock","editColor","input","length","randomIndex","Math","floor","random","itemAtIndex","findObjectValueInArray","array","arguments","isArray","arr","_interopRequireDefault","API","store","_Layout2","_Side2","_Grid2","_Cropper2","_Layout","_Side","_Grid","_Cropper","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_class","_temp","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","_react","_react2","_reactRedux","_classnames","_classnames2","_actions","actions","_Body","_Body2","Container","_React$Component","_this","getPrototypeOf","el","dispatch","init","parent","api","preference","_this2","createElement","ref","r","className","side-active","tree","Component","displayName","defaultProps","connect","state","assign","_redux","_side2","combineReducers","keyboard","element","activeBlock","item","Cropper","open","index","getState","libs","image","e","alert","close","console","log","_lib","Grid","Layout","toggleSide","sw","currentSw","targetSw","warn","Side","uploading","Array","addFiles","upload","callbacks","defer","_jquery2","Deferred","start","lib","progress","type","res","updateProgress","percent","parseInt","loaded","total","data","result","url","complete","done","completeAll","fail","error","promise","_jquery","_extends","source","_reactGridLayout","_reactGridLayout2","timeStamp","GridLayout","id","isImage","keyName","newActiveBlock","indexOf","splice","push","Date","getTime","newGrid","map","k","updateBlocks","indexPrefix","active","data-grid","data-index","onClick","event","stopPropagation","_selectBlock","style","backgroundColor","backgroundImage","src","backgroundPosition","position","backgroundSize","size","_this3","bodyWidth","autoSize","cols","rowHeight","margin","containerPadding","verticalCompact","onDragStart","_updateBlocks","onDragStop","onResizeStart","onResizeStop","renderItem","bind","ple","Button","apply","_props","children","title","iconClass","_defineProperty","EditLayoutSetting","defaultSetting","setState","onSubmit","submit","preventDefault","htmlFor","min","max","maxLength","onChange","_change","required","checked","_reset","_reactSimpleColorpicker","_reactSimpleColorpicker2","_Button","_Button2","_EditLayoutSetting","_EditLayoutSetting2","Toolbar","editBlockColor","userSW","cTarget","currentTarget","document","on","closest","parentNode","changeActive","off","Promise","reject","updateSetting","_this4","activeBlockColor","persist","deactivate","then","submitEditSetting","shuffleBlocks","addBlock","Infinity","forEach","_onClickEdit","removeImages","duplicateBlock","changeColorBlock","_GridLayout","_GridLayout2","_Toolbar","_Toolbar2","Body","_reactDom","_reactDom2","controlEvent","isTouchDevice","move","end","Block","isCover","$self","$img","moveStartInfo","resizeStartInfo","findDOMNode","refs","nextProps","find","containerX","split","containerY","mouseX","clientX","pageX","nativeEvent","touches","window","scrollLeft","mouseY","clientY","pageY","scrollTop","_moveIng","_moveEnd","evt","originalEvent","mouse","distance","posX","posY","_resizeIng","_resizeEnd","ratio","distanceHeight","distanceX","naturalWidth","naturalHeight","bgColor","ple-cropperBlock__image-resize","transform","alt","onMouseDown","_moveStart","onTouchStart","ple-cropperBlock__control-active","_resizeStart","_Block","_Block2","imageMeta","_block","$item","filter","pending","top","offset","left","getImageSize","targetSize","getRatioForResize","_onClose","_toggleImageType","Item","attr","onTouchMove","onTouchEnd","onDragEnd","data-id","data-image","draggable","_Item","_Item2","Items","onSelect","SideNavigation","timestamp","now","onUpload","onAttach","onToggleSelect","multiple","onRemove","ToggleSideButton","_Component","ico-arrow-right","show","ico-arrow-left","_ToggleSideButton","_ToggleSideButton2","_Navigation","_Navigation2","_Items","_Items2","firstSelectIdx","dragTarget","dragPosition","$gridItems","$dragItem","each","$this","pos","currentItem","changeActiveFile","activeItems","confirm","removeFiles","some","selectedImages","attachImages","hasClass","addClass","removeClass","attachImage","clone","removeAttr","append","touch","css","remove","getGridsterItem","_selectItem","_attach","_toggleSelect","_upload","_removeItems","_dragStartItem","_dragEndItem","_touchStartItem","_touchMoveItem","_touchEndItem","options","blocks","images","activeBlocks","columns","ids","toggle","selectType","_Container","_Container2","_reducers","_reducers2","_API","_API2","createStore","Provider","Keyboard","eventName","getTimeStamp","code","names","17","18","91","93","16","_keyDown","keyCode","_keyUp","rgbToHex","match","toString","slice","randomRange","round","local","file","reader","FileReader","addEventListener","resolve","readAsDataURL","external","script","onLoad","JSON","parse","responseText","onProgress","notify","xhr","XMLHttpRequest","FormData","_typeof","formData","send","count","Symbol","iterator","navigator","MaxTouchPoints","msMaxTouchPoints","sleep","time","setTimeout","img","onload","onerror","cssPrefix","styles","getComputedStyle","documentElement","pre","join","OLink","dom","RegExp","lowercase","js","toUpperCase","substr","defaults","action","newState","lastGridId","shuffleIndex","concat","_defaults","_Keyboard2","_Keyboard","_toConsumableArray","arr2","from","activeCount","getActiveItems","items","nextFileId","selectItems"],"mappings":"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","file":"PhotoLayoutEditor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-dom\"), require(\"react-grid-layout\"), require(\"react-simple-colorpicker\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"classnames\", \"jquery\", \"react-redux\", \"redux\", \"react-dom\", \"react-grid-layout\", \"react-simple-colorpicker\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoLayoutEditor\"] = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-dom\"), require(\"react-grid-layout\"), require(\"react-simple-colorpicker\"));\n\telse\n\t\troot[\"PhotoLayoutEditor\"] = factory(root[\"React\"], root[\"classNames\"], root[\"$\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"ReactDOM\"], root[\"PropTypes\"], root[\"PropTypes\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_43__, __WEBPACK_EXTERNAL_MODULE_44__, __WEBPACK_EXTERNAL_MODULE_45__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-dom\"), require(\"react-grid-layout\"), require(\"react-simple-colorpicker\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"classnames\", \"jquery\", \"react-redux\", \"redux\", \"react-dom\", \"react-grid-layout\", \"react-simple-colorpicker\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoLayoutEditor\"] = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-dom\"), require(\"react-grid-layout\"), require(\"react-simple-colorpicker\"));\n\telse\n\t\troot[\"PhotoLayoutEditor\"] = factory(root[\"React\"], root[\"classNames\"], root[\"$\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"ReactDOM\"], root[\"PropTypes\"], root[\"PropTypes\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_43__, __WEBPACK_EXTERNAL_MODULE_44__, __WEBPACK_EXTERNAL_MODULE_45__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 33);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.types = exports.body = exports.side = exports.cropper = exports.core = undefined;\n\nvar _core = __webpack_require__(30);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _body = __webpack_require__(29);\n\nvar body = _interopRequireWildcard(_body);\n\nvar _cropper = __webpack_require__(31);\n\nvar cropper = _interopRequireWildcard(_cropper);\n\nvar _side = __webpack_require__(32);\n\nvar side = _interopRequireWildcard(_side);\n\nvar _types = __webpack_require__(2);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.core = core;\nexports.cropper = cropper;\nexports.side = side;\nexports.body = body;\nexports.types = types;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar INIT_PLE = exports.INIT_PLE = 'INIT_PLE';\n\nvar SIDE_VISIBLE = exports.SIDE_VISIBLE = 'SIDE_VISIBLE';\nvar SIDE_ADD_FILES = exports.SIDE_ADD_FILES = 'SIDE_ADD_FILES';\nvar SIDE_REMOVE_FILES = exports.SIDE_REMOVE_FILES = 'SIDE_REMOVE_FILES';\nvar SIDE_CHANGE_ACTIVE_FILE = exports.SIDE_CHANGE_ACTIVE_FILE = 'SIDE_CHANGE_ACTIVE_FILE';\nvar SIDE_TOGGLE = exports.SIDE_TOGGLE = 'SIDE_TOGGLE';\nvar SIDE_UPDATE_PROGRESS = exports.SIDE_UPDATE_PROGRESS = 'SIDE_UPDATE_PROGRESS';\n\nvar ATTACH_IMAGES = exports.ATTACH_IMAGES = 'ATTACH_IMAGES';\nvar ATTACH_IMAGE = exports.ATTACH_IMAGE = 'ATTACH_IMAGE';\n\nvar GRID_ADD_BLOCK = exports.GRID_ADD_BLOCK = 'GRID_ADD_BLOCK';\nvar GRID_REMOVE_BLOCK = exports.GRID_REMOVE_BLOCK = 'GRID_REMOVE_BLOCK';\nvar GRID_SHUFFLE_BLOCKS = exports.GRID_SHUFFLE_BLOCKS = 'GRID_SHUFFLE_BLOCKS';\nvar GRID_DUPLICATE_BLOCK = exports.GRID_DUPLICATE_BLOCK = 'GRID_DUPLICATE_BLOCK';\nvar GRID_UPDATE_BLOCKS = exports.GRID_UPDATE_BLOCKS = 'GRID_UPDATE_BLOCKS';\nvar GRID_ACTIVE_BLOCK = exports.GRID_ACTIVE_BLOCK = 'GRID_ACTIVE_BLOCK';\nvar GRID_SETTING_UPDATE = exports.GRID_SETTING_UPDATE = 'GRID_SETTING_UPDATE';\nvar GRID_CHANGE_COLOR = exports.GRID_CHANGE_COLOR = 'GRID_CHANGE_COLOR';\nvar GRID_REMOVE_IMAGES = exports.GRID_REMOVE_IMAGES = 'GRID_REMOVE_IMAGES';\n\nvar CROPPER_OPEN = exports.CROPPER_OPEN = 'CROPPER_OPEN';\nvar CROPPER_CLOSE = exports.CROPPER_CLOSE = 'CROPPER_CLOSE';\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.uploader = exports.object = exports.color = exports.number = exports.util = undefined;\n\nvar _util = __webpack_require__(38);\n\nvar util = _interopRequireWildcard(_util);\n\nvar _number = __webpack_require__(36);\n\nvar number = _interopRequireWildcard(_number);\n\nvar _object = __webpack_require__(9);\n\nvar object = _interopRequireWildcard(_object);\n\nvar _color = __webpack_require__(35);\n\nvar color = _interopRequireWildcard(_color);\n\nvar _uploader = __webpack_require__(37);\n\nvar _uploader2 = _interopRequireDefault(_uploader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.util = util;\nexports.number = number;\nexports.color = color;\nexports.object = object;\nexports.uploader = _uploader2.default;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar setting = exports.setting = {\n\n\tbase: {\n\t\tuploadScript: null,\n\t\tuploadParamsConvertFunc: null\n\t},\n\tbody: {\n\t\tsetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false\n\t\t},\n\t\tblockColor: '#ddd',\n\t\tgrid: [{ layout: { x: 0, y: 0, w: 2, h: 2 } }, { layout: { x: 2, y: 0, w: 1, h: 2 } }, { layout: { x: 3, y: 0, w: 2, h: 1 } }, { layout: { x: 3, y: 1, w: 1, h: 1 } }]\n\t},\n\tside: {\n\t\tfiles: [],\n\t\tvisible: true,\n\t\tprogressPercent: null\n\t}\n\n};\n\nvar side = exports.side = {\n\tfiles: [],\n\tvisible: true,\n\tprogressPercent: null\n};\n\nvar body = exports.body = {\n\tvisibleToolbarButtons: {\n\t\tsetting: true,\n\t\tshuffle: true,\n\t\tadd: true,\n\t\tselect: true,\n\t\tedit: false,\n\t\tremoveImage: false,\n\t\tduplicate: false,\n\t\tremoveBlock: false,\n\t\teditColor: false\n\t}\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shuffle = shuffle;\nexports.findObjectValueInArray = findObjectValueInArray;\nexports.isArray = isArray;\n/**\n * Shuffles array in place.\n *\n * @param {Array} input items The array containing the items.\n * @return {Array}\n */\nfunction shuffle(input) {\n  for (var i = input.length - 1; i >= 0; i--) {\n    var randomIndex = Math.floor(Math.random() * (i + 1));\n    var itemAtIndex = input[randomIndex];\n    input[randomIndex] = input[i];\n    input[i] = itemAtIndex;\n  }\n  return input;\n}\n\n/**\n * Find object value in array\n *\n * @param {Array} array\n * @param {String} key\n * @param {Number|String} value\n * @return {Number}\n */\nfunction findObjectValueInArray() {\n  var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'index';\n  var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  for (var i = 0; i < array.length; i++) {\n    if (array[i][key] === value) return i;\n  }\n}\n\n/**\n * is array\n *\n * @param {Array} arr\n * @return {Boolean}\n */\nfunction isArray() {\n  var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return !!(arr && arr.length);\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = API;\n\nvar _Layout = __webpack_require__(15);\n\nvar _Layout2 = _interopRequireDefault(_Layout);\n\nvar _Side = __webpack_require__(16);\n\nvar _Side2 = _interopRequireDefault(_Side);\n\nvar _Grid = __webpack_require__(14);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _Cropper = __webpack_require__(13);\n\nvar _Cropper2 = _interopRequireDefault(_Cropper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction API(store) {\n\n\tthis.layout = new _Layout2.default(store);\n\tthis.side = new _Side2.default(store);\n\tthis.grid = new _Grid2.default(store);\n\tthis.cropper = new _Cropper2.default(store);\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _classnames = __webpack_require__(4);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _actions = __webpack_require__(1);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _Body = __webpack_require__(21);\n\nvar _Body2 = _interopRequireDefault(_Body);\n\nvar _Side = __webpack_require__(28);\n\nvar _Side2 = _interopRequireDefault(_Side);\n\nvar _Cropper = __webpack_require__(23);\n\nvar _Cropper2 = _interopRequireDefault(_Cropper);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = (_temp = _class = function (_React$Component) {\n\t_inherits(Container, _React$Component);\n\n\tfunction Container() {\n\t\t_classCallCheck(this, Container);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).call(this));\n\n\t\t_this.el = null;\n\t\treturn _this;\n\t}\n\n\t_createClass(Container, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tprops.dispatch(actions.core.init(props.parent.api, props.parent.preference || { side: {}, grid: {} }, this.el));\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t_this2.el = r;\n\t\t\t\t\t},\n\t\t\t\t\tclassName: (0, _classnames2.default)('ple-editor', { 'side-active': props.tree.side.visible }) },\n\t\t\t\tprops.setting && _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-wrap' },\n\t\t\t\t\t_react2.default.createElement(_Body2.default, null),\n\t\t\t\t\t_react2.default.createElement(_Side2.default, null),\n\t\t\t\t\tprops.tree.cropper.visible ? _react2.default.createElement(_Cropper2.default, null) : null\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Container;\n}(_react2.default.Component), _class.displayName = 'Container', _class.defaultProps = {\n\tparent: {},\n\tdispatch: null,\n\ttree: {},\n\tsetting: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Container);\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _redux = __webpack_require__(8);\n\nvar _core = __webpack_require__(40);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _body = __webpack_require__(39);\n\nvar body = _interopRequireWildcard(_body);\n\nvar _side = __webpack_require__(42);\n\nvar _side2 = _interopRequireDefault(_side);\n\nvar _cropper = __webpack_require__(41);\n\nvar cropper = _interopRequireWildcard(_cropper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.default = (0, _redux.combineReducers)({\n\n\t// settings\n\tsetting: core.setting,\n\n\t// api\n\tapi: core.api,\n\n\t// keyboard event\n\tkeyboard: core.keyboard,\n\n\t// element\n\telement: core.element,\n\n\t// data tree\n\ttree: (0, _redux.combineReducers)({\n\t\tside: _side2.default,\n\t\tbody: (0, _redux.combineReducers)({\n\t\t\tsetting: body.setting,\n\t\t\tvisibleToolbarButtons: body.visibleToolbarButtons,\n\t\t\tgrid: body.grid,\n\t\t\tactiveBlock: body.activeBlock\n\t\t}),\n\t\tcropper: (0, _redux.combineReducers)({\n\t\t\tvisible: cropper.visible,\n\t\t\titem: cropper.item\n\t\t})\n\t})\n\n});\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = Cropper;\n\nvar _actions = __webpack_require__(1);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(3);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction Cropper(store) {\n\n\tthis.open = function (index) {\n\t\tvar state = store.getState();\n\t\tvar item = null;\n\n\t\ttry {\n\t\t\tvar n = libs.object.findObjectValueInArray(state.tree.body.grid, 'index', index);\n\t\t\tif (typeof n !== 'number') throw 'Not found item';\n\t\t\titem = state.tree.body.grid[n];\n\t\t\tif (!item.image) throw 'Not found image in item';\n\t\t} catch (e) {\n\t\t\talert(e);\n\t\t\treturn;\n\t\t}\n\n\t\tstore.dispatch(actions.cropper.open(item));\n\t};\n\n\tthis.close = function () {\n\t\tconsole.log('close cropper');\n\n\t\tstore.dispatch(actions.cropper.close());\n\t};\n}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Grid;\n\nvar _actions = __webpack_require__(1);\n\nvar actions = _interopRequireWildcard(_actions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction Grid(store) {}\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = Layout;\n\nvar _actions = __webpack_require__(1);\n\nvar actions = _interopRequireWildcard(_actions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction Layout(store) {\n\n\t/**\n  * Toggle side\n  *\n  * @param {Boolean|undefined} sw\n  */\n\tthis.toggleSide = function (sw) {\n\t\ttry {\n\t\t\tvar currentSw = store.getState().tree.side.visible;\n\t\t\tvar targetSw = typeof sw === 'undefined' ? !currentSw : sw;\n\n\t\t\tstore.dispatch(actions.side.visible(targetSw));\n\t\t} catch (e) {\n\t\t\tconsole.warn('Error action', e);\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = Side;\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _actions = __webpack_require__(1);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(3);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Side(store) {\n\n\tthis.uploading = false;\n\n\t/**\n  * Add files\n  *\n  * @param {Array} files\n  */\n\tthis.add = function (files) {\n\t\tif (!(files instanceof Array)) return;\n\n\t\tstore.dispatch(actions.side.addFiles(files));\n\t};\n\n\t/**\n  * Upload files\n  *\n  * @param {FileList} files\n  * @param {Object} callbacks\n  */\n\tthis.upload = function (files) {\n\t\tvar _this = this;\n\n\t\tvar callbacks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t/**\n   * @param {Function} callbacks.start\n   * @param {Function} callbacks.complete\n   * @param {Function} callbacks.completeAll\n   * @param {Function} callbacks.fail\n   */\n\t\tif (this.uploading) return;\n\n\t\tvar defer = _jquery2.default.Deferred();\n\t\tvar state = store.getState();\n\t\tthis.uploading = true;\n\n\t\tif (callbacks.start) callbacks.start();\n\n\t\tlib.uploader(files, state.setting.base.uploadScript).progress(function (type, res) {\n\t\t\tswitch (type) {\n\t\t\t\tcase 'start':\n\t\t\t\t\tstore.dispatch(actions.side.updateProgress(0));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'progress':\n\t\t\t\t\tvar percent = parseInt(res.loaded / res.total * 100);\n\t\t\t\t\tstore.dispatch(actions.side.updateProgress(percent));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'done':\n\t\t\t\t\tstore.dispatch(actions.side.updateProgress(null));\n\t\t\t\t\tif (!res.data) return;\n\t\t\t\t\tif (state.setting.base.uploadParamsConvertFunc) {\n\t\t\t\t\t\tvar result = state.setting.base.uploadParamsConvertFunc(res.data);\n\t\t\t\t\t\tstore.dispatch(actions.side.addFiles([result]));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstore.dispatch(actions.side.addFiles([res.data.url]));\n\t\t\t\t\t}\n\t\t\t\t\tif (callbacks.complete) callbacks.complete(res.data);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}).done(function () {\n\t\t\t_this.uploading = false;\n\t\t\tif (callbacks.completeAll) callbacks.completeAll();\n\t\t}).fail(function (error) {\n\t\t\t_this.uploading = false;\n\t\t\tif (callbacks.fail) callbacks.fail(error);\n\t\t});\n\n\t\treturn defer.promise();\n\t};\n}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _reactGridLayout = __webpack_require__(44);\n\nvar _reactGridLayout2 = _interopRequireDefault(_reactGridLayout);\n\nvar _classnames = __webpack_require__(4);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _actions = __webpack_require__(1);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(3);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar timeStamp = [];\n\nvar GridLayout = (_temp = _class = function (_React$Component) {\n\t_inherits(GridLayout, _React$Component);\n\n\tfunction GridLayout(props) {\n\t\t_classCallCheck(this, GridLayout);\n\n\t\treturn _possibleConstructorReturn(this, (GridLayout.__proto__ || Object.getPrototypeOf(GridLayout)).call(this, props));\n\t}\n\n\t/**\n  * On select block\n  *\n  * @param {Number} id\n  * @param {boolean} isImage\n  */\n\n\n\t_createClass(GridLayout, [{\n\t\tkey: '_selectBlock',\n\t\tvalue: function _selectBlock(id, isImage) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tif (id === null) {\n\t\t\t\tprops.dispatch(actions.body.activeBlock([], false));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (props.keyboard.keyName) {\n\t\t\t\tcase 'CMD':\n\t\t\t\tcase 'CTRL':\n\t\t\t\tcase 'SHIFT':\n\t\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\t\t\tvar newActiveBlock = Object.assign([], props.tree.body.activeBlock);\n\t\t\t\t\t\tif (newActiveBlock.indexOf(id) > -1) {\n\t\t\t\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(id), 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewActiveBlock.push(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(newActiveBlock, isImage));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock([id], isImage));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tprops.dispatch(actions.body.activeBlock([id], isImage));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * On update blocks\n   *\n   * @param {String} type\n   * @param {Array} layout\n   */\n\n\t}, {\n\t\tkey: '_updateBlocks',\n\t\tvalue: function _updateBlocks(type, layout) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'start':\n\t\t\t\t\ttimeStamp[0] = new Date().getTime();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'end':\n\t\t\t\t\ttimeStamp[1] = new Date().getTime();\n\t\t\t\t\tif (timeStamp[1] - timeStamp[0] > 400) {\n\t\t\t\t\t\tvar newGrid = props.tree.body.grid.map(function (o, k) {\n\t\t\t\t\t\t\treturn _extends({}, o, {\n\t\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\t\tx: layout[k].x,\n\t\t\t\t\t\t\t\t\ty: layout[k].y,\n\t\t\t\t\t\t\t\t\tw: layout[k].w,\n\t\t\t\t\t\t\t\t\th: layout[k].h\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tprops.dispatch(actions.body.updateBlocks(newGrid));\n\t\t\t\t\t}\n\t\t\t\t\ttimeStamp = [];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Render item\n   *\n   * @param {Object} item\n   * @param {Number} n\n   * @return {Component}\n   */\n\n\t}, {\n\t\tkey: 'renderItem',\n\t\tvalue: function renderItem(item, n) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar activeBlock = props.tree.body.activeBlock;\n\n\n\t\t\tvar key = item.indexPrefix + '__' + item.index;\n\t\t\tvar active = !!(activeBlock && activeBlock.length && activeBlock.indexOf(item.index) > -1);\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tkey: key,\n\t\t\t\t\t'data-grid': item.layout,\n\t\t\t\t\t'data-index': item.index,\n\t\t\t\t\tonClick: function onClick(event) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t_this2._selectBlock(item.index, !!item.image);\n\t\t\t\t\t},\n\t\t\t\t\tstyle: { backgroundColor: item.color || props.setting.body.blockColor },\n\t\t\t\t\tclassName: (0, _classnames2.default)({ 'active': active }) },\n\t\t\t\titem.image && _react2.default.createElement('figure', {\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tbackgroundImage: 'url(\\'' + item.image.src + '\\')',\n\t\t\t\t\t\tbackgroundPosition: item.image.position,\n\t\t\t\t\t\tbackgroundSize: item.image.size\n\t\t\t\t\t} })\n\t\t\t);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar setting = props.tree.body.setting;\n\n\t\t\tvar bodyWidth = setting.width * setting.column + setting.innerMargin * (setting.column - 1) + setting.outerMargin * 2;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-grid__wrap', onClick: function onClick() {\n\t\t\t\t\t\treturn _this3._selectBlock(null);\n\t\t\t\t\t} },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_reactGridLayout2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\tautoSize: true,\n\t\t\t\t\t\tcols: setting.column,\n\t\t\t\t\t\trowHeight: setting.height,\n\t\t\t\t\t\twidth: bodyWidth,\n\t\t\t\t\t\tmargin: [setting.innerMargin, setting.innerMargin],\n\t\t\t\t\t\tcontainerPadding: [setting.outerMargin, setting.outerMargin],\n\t\t\t\t\t\tverticalCompact: !setting.freeMode,\n\t\t\t\t\t\tonDragStart: function onDragStart() {\n\t\t\t\t\t\t\treturn _this3._updateBlocks('start', null);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonDragStop: function onDragStop(layout) {\n\t\t\t\t\t\t\treturn _this3._updateBlocks('end', layout);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonResizeStart: function onResizeStart() {\n\t\t\t\t\t\t\treturn _this3._updateBlocks('start', null);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonResizeStop: function onResizeStop(layout) {\n\t\t\t\t\t\t\treturn _this3._updateBlocks('end', layout);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstyle: { width: bodyWidth + 'px' },\n\t\t\t\t\t\tclassName: 'ple-grid' },\n\t\t\t\t\tprops.tree.body.grid.map(this.renderItem.bind(this))\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn GridLayout;\n}(_react2.default.Component), _class.displayName = 'GridLayout', _class.defaultProps = {\n\ttree: null,\n\tple: null,\n\tdispatch: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(GridLayout);\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Button = (_temp = _class = function (_React$Component) {\n\t_inherits(Button, _React$Component);\n\n\tfunction Button() {\n\t\t_classCallCheck(this, Button);\n\n\t\treturn _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n\t}\n\n\t_createClass(Button, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _props = this.props,\n\t\t\t    children = _props.children,\n\t\t\t    title = _props.title,\n\t\t\t    iconClass = _props.iconClass,\n\t\t\t    className = _props.className,\n\t\t\t    onClick = _props.onClick;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'block ' + (className || '') },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ type: 'button', title: title, onClick: onClick },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: 'sp-ico abs ' + iconClass },\n\t\t\t\t\t\ttitle\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tchildren && _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'pop' },\n\t\t\t\t\tchildren\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Button;\n}(_react2.default.Component), _class.displayName = 'Button', _temp);\nexports.default = Button;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EditLayoutSetting = (_temp = _class = function (_React$Component) {\n\t_inherits(EditLayoutSetting, _React$Component);\n\n\tfunction EditLayoutSetting(props) {\n\t\t_classCallCheck(this, EditLayoutSetting);\n\n\t\tvar _this = _possibleConstructorReturn(this, (EditLayoutSetting.__proto__ || Object.getPrototypeOf(EditLayoutSetting)).call(this, props));\n\n\t\t_this.state = _extends({}, props.defaultSetting, props.setting);\n\t\treturn _this;\n\t}\n\n\t_createClass(EditLayoutSetting, [{\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps() {\n\t\t\tthis.setState(_extends({}, this.props.defaultSetting, this.props.setting));\n\t\t}\n\t}, {\n\t\tkey: '_reset',\n\t\tvalue: function _reset() {\n\t\t\tthis.setState(_extends({}, this.props.defaultSetting));\n\t\t}\n\t}, {\n\t\tkey: '_change',\n\t\tvalue: function _change(e) {\n\t\t\tthis.setState(_defineProperty({}, e.target.name, parseInt(e.target.value)));\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'form',\n\t\t\t\t{ onSubmit: function onSubmit(event) {\n\t\t\t\t\t\tprops.submit(state);\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t} },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'fieldset',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'legend',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Settings form'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h1',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Settings'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_width' },\n\t\t\t\t\t\t\t\t'Width'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'width', id: 'frm_width',\n\t\t\t\t\t\t\t\tmin: 1, max: 999, maxLength: 3,\n\t\t\t\t\t\t\t\tvalue: this.state.width,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_height' },\n\t\t\t\t\t\t\t\t'Height'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'height', id: 'frm_height',\n\t\t\t\t\t\t\t\tmin: 1, max: 999,\n\t\t\t\t\t\t\t\tvalue: this.state.height,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_column' },\n\t\t\t\t\t\t\t\t'Column'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'column', id: 'frm_column',\n\t\t\t\t\t\t\t\tmin: 1, max: 99,\n\t\t\t\t\t\t\t\tvalue: this.state.column,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'ea'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\t{ className: 'type-input' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_outerMargin' },\n\t\t\t\t\t\t\t\t'Outer margin'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'outerMargin', id: 'frm_outerMargin',\n\t\t\t\t\t\t\t\tmin: 0, max: 500,\n\t\t\t\t\t\t\t\tvalue: this.state.outerMargin,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\t{ className: 'type-input' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_innerMargin' },\n\t\t\t\t\t\t\t\t'Inner margin'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'innerMargin', id: 'frm_innerMargin',\n\t\t\t\t\t\t\t\tmin: 0, max: 500,\n\t\t\t\t\t\t\t\tvalue: this.state.innerMargin,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_freeMode' },\n\t\t\t\t\t\t\t\t'Free mode'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'type-checkbox' },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\ttype: 'radio', name: 'freeMode', id: 'frm_freeMode',\n\t\t\t\t\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\t\t\t\t\treturn _this2.setState({ freeMode: true });\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchecked: this.state.freeMode\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'true'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\ttype: 'radio', name: 'freeMode',\n\t\t\t\t\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\t\t\t\t\treturn _this2.setState({ freeMode: false });\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchecked: !this.state.freeMode\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'nav',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\t\tonClick: this._reset.bind(this) },\n\t\t\t\t\t\t\t'Reset'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'submit', className: 'submit' },\n\t\t\t\t\t\t\t'Apply'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn EditLayoutSetting;\n}(_react2.default.Component), _class.displayName = 'EditLayoutSetting', _class.defaultProps = {\n\tsubmit: function submit() {},\n\tsetting: null,\n\tdefaultSetting: {\n\t\twidth: 100,\n\t\theight: 100,\n\t\tcolumn: 5,\n\t\touterMargin: 10,\n\t\tinnerMargin: 10,\n\t\tfreeMode: false\n\t}\n}, _temp);\nexports.default = EditLayoutSetting;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(4);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactSimpleColorpicker = __webpack_require__(45);\n\nvar _reactSimpleColorpicker2 = _interopRequireDefault(_reactSimpleColorpicker);\n\nvar _object = __webpack_require__(9);\n\nvar _actions = __webpack_require__(1);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(3);\n\nvar libs = _interopRequireWildcard(_lib);\n\nvar _Button = __webpack_require__(18);\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _EditLayoutSetting = __webpack_require__(19);\n\nvar _EditLayoutSetting2 = _interopRequireDefault(_EditLayoutSetting);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Toolbar = (_temp = _class = function (_React$Component) {\n\t_inherits(Toolbar, _React$Component);\n\n\tfunction Toolbar(props) {\n\t\t_classCallCheck(this, Toolbar);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, props));\n\n\t\t_this.state = {\n\t\t\tactive: {\n\t\t\t\tsetting: false,\n\t\t\t\teditBlockColor: false\n\t\t\t}\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(Toolbar, [{\n\t\tkey: 'changeActive',\n\t\tvalue: function changeActive(keyName, userSW, event) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar state = this.state;\n\n\t\t\tvar sw = userSW || !state.active[keyName];\n\t\t\tvar cTarget = event ? event.currentTarget : null;\n\n\t\t\tif (sw) {\n\t\t\t\t(0, _jquery2.default)(document).on('click.pleToolbar', function (e) {\n\t\t\t\t\tif ((0, _jquery2.default)(e.target).closest('.pop').length) return;\n\t\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget)) {\n\t\t\t\t\t\t_this2.changeActive(keyName, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t(0, _jquery2.default)(document).off('click.pleToolbar');\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tactive: _extends({}, state.active, _defineProperty({\n\t\t\t\t\tsetting: false,\n\t\t\t\t\teditColor: false\n\t\t\t\t}, keyName, sw))\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'deactivate',\n\t\tvalue: function deactivate() {\n\t\t\tvar _this3 = this;\n\n\t\t\t(0, _jquery2.default)(document).off('click.pleToolbar');\n\t\t\treturn new Promise(function (reject) {\n\t\t\t\t_this3.setState({\n\t\t\t\t\tactive: {\n\t\t\t\t\t\tsetting: false,\n\t\t\t\t\t\teditColor: false\n\t\t\t\t\t}\n\t\t\t\t}, reject);\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'submitEditSetting',\n\t\tvalue: function submitEditSetting(state) {\n\t\t\tthis.props.dispatch(actions.body.updateSetting(state));\n\t\t\tthis.changeActive('setting', false);\n\t\t\treturn false;\n\t\t}\n\t}, {\n\t\tkey: '_onClickEdit',\n\t\tvalue: function _onClickEdit() {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.api.cropper.open(props.tree.body.activeBlock[0]);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\t\t\tvar visible = props.tree.body.visibleToolbarButtons;\n\t\t\tvar activeBlockColor = '#fff';\n\n\t\t\tif (libs.object.isArray(props.tree.body.grid)) {\n\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\t\tvar n = (0, _object.findObjectValueInArray)(props.tree.body.grid, 'index', props.tree.body.activeBlock[0]);\n\t\t\t\t\tactiveBlockColor = props.tree.body.grid[n] && props.tree.body.grid[n].color ? props.tree.body.grid[n].color : props.setting.body.blockColor;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'nav',\n\t\t\t\t{ className: 'ple-toolbar' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'wrap' },\n\t\t\t\t\tvisible.setting && _react2.default.createElement(\n\t\t\t\t\t\t_Button2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticonClass: 'ico-setting',\n\t\t\t\t\t\t\tclassName: (0, _classnames2.default)('edit-setting', {\n\t\t\t\t\t\t\t\t'active': state.active.setting\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tonClick: function onClick(e) {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.setting) {\n\t\t\t\t\t\t\t\t\t_this4.deactivate().then(function () {\n\t\t\t\t\t\t\t\t\t\t_this4.changeActive('setting', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttitle: 'Edit preference' },\n\t\t\t\t\t\t_react2.default.createElement(_EditLayoutSetting2.default, {\n\t\t\t\t\t\t\tsubmit: this.submitEditSetting.bind(this),\n\t\t\t\t\t\t\tsetting: props.tree.body.setting,\n\t\t\t\t\t\t\tdefaultSetting: props.setting.body.setting })\n\t\t\t\t\t),\n\t\t\t\t\tvisible.shuffle && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ico-arrow-random',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.dispatch(actions.body.shuffleBlocks({\n\t\t\t\t\t\t\t\tx: props.tree.body.setting.column,\n\t\t\t\t\t\t\t\ty: 2,\n\t\t\t\t\t\t\t\tw: 2,\n\t\t\t\t\t\t\t\th: 2\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Shuffle block' }),\n\t\t\t\t\tvisible.add && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ico-plus',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.dispatch(actions.body.addBlock({\n\t\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\t\t//x: randomRange(0, tree.body.setting.column-1),\n\t\t\t\t\t\t\t\t\tx: props.tree.body.grid.length % props.tree.body.setting.column,\n\t\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Add block' }),\n\t\t\t\t\tvisible.select && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ico-select',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(null));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar newActiveBlock = [];\n\t\t\t\t\t\t\tvar isImage = !!(props.tree.body.grid[0] && props.tree.body.grid[0].image);\n\t\t\t\t\t\t\tprops.tree.body.grid.forEach(function (o) {\n\t\t\t\t\t\t\t\treturn newActiveBlock.push(o.index);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(newActiveBlock, isImage));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Toggle select block' }),\n\t\t\t\t\tvisible.edit && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ico-pencil',\n\t\t\t\t\t\tclassName: 'key',\n\t\t\t\t\t\tonClick: this._onClickEdit.bind(this),\n\t\t\t\t\t\ttitle: 'Edit block' }),\n\t\t\t\t\tvisible.removeImage && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ico-empty',\n\t\t\t\t\t\tclassName: 'key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.dispatch(actions.body.removeImages(props.tree.body.activeBlock));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Remove image in block' }),\n\t\t\t\t\tvisible.duplicate && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ico-duplicate',\n\t\t\t\t\t\tclassName: 'key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null) {\n\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprops.dispatch(actions.body.duplicateBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Duplicate block' }),\n\t\t\t\t\tvisible.removeBlock && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ico-trash',\n\t\t\t\t\t\tclassName: 'key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null) {\n\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprops.dispatch(actions.body.removeBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Remove block' }),\n\t\t\t\t\tvisible.editColor && _react2.default.createElement(\n\t\t\t\t\t\t_Button2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticonClass: 'ico-palette',\n\t\t\t\t\t\t\tclassName: 'edit-color key ' + (state.active.editColor ? 'active' : ''),\n\t\t\t\t\t\t\tonClick: function onClick(e) {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.editColor) {\n\t\t\t\t\t\t\t\t\t_this4.deactivate().then(function () {\n\t\t\t\t\t\t\t\t\t\treturn _this4.changeActive('editColor', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttitle: 'Change color' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'colorPicker__wrap' },\n\t\t\t\t\t\t\t_react2.default.createElement(_reactSimpleColorpicker2.default, {\n\t\t\t\t\t\t\t\tonChange: function onChange(color) {\n\t\t\t\t\t\t\t\t\tif (color) {\n\t\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.changeColorBlock(props.tree.body.activeBlock, color));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcolor: activeBlockColor })\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Toolbar;\n}(_react2.default.Component), _class.displayName = 'Toolbar', _class.defaultProps = {\n\tdispatch: null,\n\ttree: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Toolbar);\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _GridLayout = __webpack_require__(17);\n\nvar _GridLayout2 = _interopRequireDefault(_GridLayout);\n\nvar _Toolbar = __webpack_require__(20);\n\nvar _Toolbar2 = _interopRequireDefault(_Toolbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Body = (_temp = _class = function (_React$Component) {\n\t_inherits(Body, _React$Component);\n\n\tfunction Body(props) {\n\t\t_classCallCheck(this, Body);\n\n\t\treturn _possibleConstructorReturn(this, (Body.__proto__ || Object.getPrototypeOf(Body)).call(this, props));\n\t}\n\n\t_createClass(Body, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-container' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-body' },\n\t\t\t\t\t_react2.default.createElement(_Toolbar2.default, null),\n\t\t\t\t\t_react2.default.createElement(_GridLayout2.default, null)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Body;\n}(_react2.default.Component), _class.displayName = 'Body', _temp);\nexports.default = Body;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(43);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _classnames = __webpack_require__(4);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _lib = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlEvent = {\n\tstart: _lib.util.isTouchDevice() ? 'touchstart' : 'mousedown',\n\tmove: _lib.util.isTouchDevice() ? 'touchmove' : 'mousemove',\n\tend: _lib.util.isTouchDevice() ? 'touchend' : 'mouseup'\n};\n\nvar Block = (_temp = _class = function (_React$Component) {\n\t_inherits(Block, _React$Component);\n\n\tfunction Block(props) {\n\t\t_classCallCheck(this, Block);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, props));\n\n\t\t_this.state = {\n\t\t\tposition: props.position,\n\t\t\tsize: props.size,\n\t\t\tisCover: props.size === 'cover'\n\t\t};\n\n\t\t_this.$self = null;\n\t\t_this.$img = null;\n\t\t_this.moveStartInfo = {};\n\t\t_this.resizeStartInfo = {};\n\t\treturn _this;\n\t}\n\n\t_createClass(Block, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\t// set dom\n\t\t\tthis.$self = (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.self));\n\t\t}\n\t}, {\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps(nextProps) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tif (props.size !== nextProps.size) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: nextProps.position,\n\t\t\t\t\tsize: nextProps.size,\n\t\t\t\t\tisCover: nextProps.size === 'cover'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_moveStart',\n\t\tvalue: function _moveStart(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar state = this.state;\n\n\t\t\t// set image element\n\n\t\t\tthis.$img = this.$self.find('img');\n\n\t\t\tthis.moveStartInfo = {\n\t\t\t\tcontainerX: parseInt(state.position.split(' ')[0]),\n\t\t\t\tcontainerY: parseInt(state.position.split(' ')[1]),\n\t\t\t\tmouseX: (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + (0, _jquery2.default)(window).scrollLeft(),\n\t\t\t\tmouseY: (e.clientY || e.pageY || e.nativeEvent.touches[0].clientY) + (0, _jquery2.default)(window).scrollTop()\n\t\t\t};\n\n\t\t\t(0, _jquery2.default)(document).on(controlEvent.move + '.move', this._moveIng.bind(this)).on(controlEvent.end + '.move', this._moveEnd.bind(this));\n\t\t}\n\t}, {\n\t\tkey: '_moveIng',\n\t\tvalue: function _moveIng(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar evt = e.type === 'touchmove' ? e.originalEvent.touches[0] : e;\n\t\t\tvar mouse = {};\n\t\t\tvar distance = {};\n\n\t\t\tmouse.x = (evt.clientX || evt.pageX) + (0, _jquery2.default)(window).scrollLeft();\n\t\t\tmouse.y = (evt.clientY || evt.pageY) + (0, _jquery2.default)(window).scrollTop();\n\n\t\t\tdistance.x = this.moveStartInfo.containerX + (mouse.x - this.moveStartInfo.mouseX);\n\t\t\tdistance.y = this.moveStartInfo.containerY + (mouse.y - this.moveStartInfo.mouseY);\n\n\t\t\tthis.setState({\n\t\t\t\tposition: parseInt(distance.x) + 'px ' + parseInt(distance.y) + 'px'\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_moveEnd',\n\t\tvalue: function _moveEnd(e) {\n\t\t\te.preventDefault();\n\n\t\t\tthis.$img = null;\n\t\t\tthis.moveStartInfo = null;\n\n\t\t\t(0, _jquery2.default)(document).off(controlEvent.move + '.move').off(controlEvent.end + '.move');\n\t\t}\n\t}, {\n\t\tkey: '_resizeStart',\n\t\tvalue: function _resizeStart(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar state = this.state;\n\n\n\t\t\tthis.$img = this.$self.find('img');\n\t\t\tthis.resizeStartInfo = {\n\t\t\t\ttitle: e.currentTarget.title,\n\t\t\t\twidth: this.$img.width(),\n\t\t\t\theight: this.$img.height(),\n\t\t\t\tmouseX: (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + (0, _jquery2.default)(window).scrollLeft(),\n\t\t\t\tposX: parseInt(state.position.split(' ')[0]),\n\t\t\t\tposY: parseInt(state.position.split(' ')[1])\n\t\t\t};\n\n\t\t\t(0, _jquery2.default)(document).on(controlEvent.move + '.resize', this._resizeIng.bind(this)).on(controlEvent.end + '.resize', this._resizeEnd.bind(this));\n\t\t}\n\t}, {\n\t\tkey: '_resizeIng',\n\t\tvalue: function _resizeIng(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar size = {};\n\t\t\tvar position = {};\n\t\t\tvar ratio = 1;\n\t\t\tvar distanceHeight = 0;\n\t\t\tvar evt = e.type === 'touchmove' ? e.originalEvent.touches[0] : e;\n\n\t\t\t// set mouse position\n\t\t\tvar distanceX = (evt.clientX || evt.pageX) + (0, _jquery2.default)(window).scrollLeft() - this.resizeStartInfo.mouseX;\n\n\t\t\t// set position and size\n\t\t\tswitch (this.resizeStartInfo.title) {\n\t\t\t\tcase 'resize-lt':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-rt':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-lb':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-rb':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// set image size\n\n\t\t\tthis.setState({\n\t\t\t\tsize: parseInt(size.width) + 'px ' + parseInt(size.height) + 'px',\n\t\t\t\tposition: parseInt(position.x) + 'px ' + parseInt(position.y) + 'px'\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_resizeEnd',\n\t\tvalue: function _resizeEnd(e) {\n\t\t\tthis.$img = null;\n\t\t\tthis.resizeStartInfo = null;\n\n\t\t\t(0, _jquery2.default)(document).off(controlEvent.move + '.resize').off(controlEvent.end + '.resize');\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\t\t\tvar size = state.size !== 'cover' ? state.size.split(' ') : state.size;\n\t\t\tvar position = state.position.split(' ');\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'figure',\n\t\t\t\t{\n\t\t\t\t\tref: 'self',\n\t\t\t\t\tstyle: { backgroundColor: props.bgColor },\n\t\t\t\t\tclassName: 'ple-cropperBlock ple-cropper__block' },\n\t\t\t\tstate.isCover ? _react2.default.createElement('span', {\n\t\t\t\t\tstyle: { backgroundImage: 'url(\\'' + props.src + '\\')' },\n\t\t\t\t\tclassName: 'ple-cropperBlock__image ple-cropperBlock__image-cover' }) : _react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{\n\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-cropperBlock__image', { 'ple-cropperBlock__image-resize': props.size !== 'cover' }) },\n\t\t\t\t\t_react2.default.createElement('img', {\n\t\t\t\t\t\tsrc: props.src,\n\t\t\t\t\t\tstyle: Object.assign({}, state.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\ttransform: 'translate(' + position[0] + ', ' + position[1] + ')'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\talt: 'image' })\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tonMouseDown: this._moveStart.bind(this),\n\t\t\t\t\t\tonTouchStart: this._moveStart.bind(this),\n\t\t\t\t\t\tstyle: Object.assign({}, state.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\theight: size[1],\n\t\t\t\t\t\t\ttransform: 'translate(' + position[0] + ', ' + position[1] + ')'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-cropperBlock__control', { 'ple-cropperBlock__control-active': props.size !== 'cover' }) },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-lt',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-lt' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'sp-ico abs ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-rt',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-rt' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'sp-ico abs ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-lb',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-lb' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'sp-ico abs ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-rb',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-rb' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'sp-ico abs ico-clamp' })\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Block;\n}(_react2.default.Component), _class.displayName = 'Block', _class.defaultProps = {\n\tsrc: '',\n\tposition: '',\n\tsize: '',\n\tbgColor: '#fff'\n}, _temp);\nexports.default = Block;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _classnames = __webpack_require__(4);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Block = __webpack_require__(22);\n\nvar _Block2 = _interopRequireDefault(_Block);\n\nvar _actions = __webpack_require__(1);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(3);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cropper = (_temp = _class = function (_React$Component) {\n\t_inherits(Cropper, _React$Component);\n\n\tfunction Cropper(props) {\n\t\t_classCallCheck(this, Cropper);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Cropper.__proto__ || Object.getPrototypeOf(Cropper)).call(this, props));\n\n\t\tvar cropper = props.tree.cropper;\n\n\n\t\t_this.imageMeta = null;\n\t\t_this._block = null;\n\t\t_this.$item = (0, _jquery2.default)(props.element).find('.react-grid-item').filter('[data-index=' + props.tree.cropper.item.index + ']');\n\n\t\t_this.state = {\n\t\t\tpending: true,\n\t\t\tposition: cropper.item.image.position,\n\t\t\tsize: cropper.item.image.size || 'cover',\n\t\t\twidth: _this.$item.width(),\n\t\t\theight: _this.$item.height(),\n\t\t\ttop: _this.$item.offset().top,\n\t\t\tleft: _this.$item.offset().left\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(Cropper, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar cropper = props.tree.cropper;\n\n\n\t\t\tlib.util.getImageSize(cropper.item.image.src).then(function (res) {\n\t\t\t\t_this2.imageMeta = res;\n\t\t\t\t_this2.setState({ pending: false });\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * on close cropper\n   * cropper를 닫고, 변경된 이미지를 grid로 보낸다.\n   *\n   */\n\n\t}, {\n\t\tkey: '_onClose',\n\t\tvalue: function _onClose() {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.dispatch(actions.cropper.close({\n\t\t\t\tindex: props.tree.cropper.item.index,\n\t\t\t\tposition: this._block.state.position,\n\t\t\t\tsize: this._block.state.size\n\t\t\t}));\n\t\t}\n\n\t\t/**\n   * toggle image type\n   * 직접 리사이즈를 사용하는지 기본(꽉채우는..)타입으로 사용할건지 변경하는 액션\n   *\n   */\n\n\t}, {\n\t\tkey: '_toggleImageType',\n\t\tvalue: function _toggleImageType() {\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\tif (state.size === 'cover') {\n\t\t\t\tvar targetSize = '';\n\t\t\t\tvar ratio = 0;\n\t\t\t\tif (state.height > state.width) {\n\t\t\t\t\tratio = lib.number.getRatioForResize(state.height, this.imageMeta.height);\n\t\t\t\t\ttargetSize = parseInt(this.imageMeta.width * ratio) + 'px ' + state.height + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tratio = lib.number.getRatioForResize(state.width, this.imageMeta.width);\n\t\t\t\t\ttargetSize = state.width + 'px ' + parseInt(this.imageMeta.height * ratio) + 'px';\n\t\t\t\t}\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: '0 0',\n\t\t\t\t\tsize: targetSize\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\tsize: 'cover'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\tif (state.pending) return null;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-cropper' },\n\t\t\t\t_react2.default.createElement('span', { className: 'ple-cropper__bg' }),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\twidth: state.width + 'px',\n\t\t\t\t\t\t\theight: state.height + 'px',\n\t\t\t\t\t\t\ttop: state.top + 'px',\n\t\t\t\t\t\t\tleft: state.left + 'px'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'ple-cropper__wrap' },\n\t\t\t\t\t_react2.default.createElement(_Block2.default, {\n\t\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t\t_this3._block = r;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsrc: props.tree.cropper.item.image.src,\n\t\t\t\t\t\tposition: state.position,\n\t\t\t\t\t\tsize: state.size,\n\t\t\t\t\t\tbgColor: props.tree.cropper.item.color || props.setting.body.blockColor }),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'nav',\n\t\t\t\t\t\t{ className: 'ple-cropper__nav' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'button', onClick: this._onClose.bind(this) },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\t{ className: 'sp-ico ico-close abs' },\n\t\t\t\t\t\t\t\t'Close cropper'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\t\tonClick: this._toggleImageType.bind(this),\n\t\t\t\t\t\t\t\tclassName: (0, _classnames2.default)({\n\t\t\t\t\t\t\t\t\t'active': state.size !== 'cover'\n\t\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\t{ className: 'sp-ico ico-resize abs' },\n\t\t\t\t\t\t\t\t'Toggle background size type'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Cropper;\n}(_react2.default.Component), _class.displayName = 'Cropper', _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Cropper);\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(4);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _lib = __webpack_require__(3);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Item = (_temp = _class = function (_React$Component) {\n\t_inherits(Item, _React$Component);\n\n\tfunction Item() {\n\t\t_classCallCheck(this, Item);\n\n\t\treturn _possibleConstructorReturn(this, (Item.__proto__ || Object.getPrototypeOf(Item)).apply(this, arguments));\n\t}\n\n\t_createClass(Item, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tvar attr = Object.assign({}, lib.util.isTouchDevice() ? {\n\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\tonTouchEnd: props.onTouchEnd\n\t\t\t} : {\n\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\tonDragEnd: props.onDragEnd\n\t\t\t});\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'li',\n\t\t\t\tnull,\n\t\t\t\t_react2.default.createElement('button', _extends({\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\t'data-id': props.id,\n\t\t\t\t\t'data-image': props.image,\n\t\t\t\t\tdraggable: true,\n\t\t\t\t\tonClick: props.onClick\n\t\t\t\t}, attr, {\n\t\t\t\t\tstyle: { backgroundImage: 'url(\\'' + props.image + '\\')' },\n\t\t\t\t\tclassName: (0, _classnames2.default)({ 'active': props.active }) }))\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Item;\n}(_react2.default.Component), _class.displayName = 'Item', _class.defaultProps = {\n\timage: null, // image\n\tid: null, // id\n\tactive: null, // active item\n\tonClick: null, // on click item\n\tonDragStart: null, // on drag start\n\tonDragEnd: null, // on drag end\n\tonTouchStart: null, // on touch start\n\tonTouchMove: null, // on touch move\n\tonTouchEnd: null // on touch end\n}, _temp);\nexports.default = Item;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Item = __webpack_require__(24);\n\nvar _Item2 = _interopRequireDefault(_Item);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Items = (_temp = _class = function (_React$Component) {\n\t_inherits(Items, _React$Component);\n\n\tfunction Items() {\n\t\t_classCallCheck(this, Items);\n\n\t\treturn _possibleConstructorReturn(this, (Items.__proto__ || Object.getPrototypeOf(Items)).apply(this, arguments));\n\t}\n\n\t_createClass(Items, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'items' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'wrap' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'ul',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tprops.files.map(function (o, k) {\n\t\t\t\t\t\t\treturn _react2.default.createElement(_Item2.default, {\n\t\t\t\t\t\t\t\tkey: k,\n\t\t\t\t\t\t\t\tid: o.id,\n\t\t\t\t\t\t\t\timage: o.image,\n\t\t\t\t\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\t\t\t\t\tonDragEnd: props.onDragEnd,\n\t\t\t\t\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\t\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\t\t\t\t\tonTouchEnd: props.onTouchEnd,\n\t\t\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\t\t\treturn props.onSelect(o.id);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tactive: o.active });\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tprops.progress !== null && _react2.default.createElement(\n\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t{ className: 'loading' },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{ className: 'progress' },\n\t\t\t\t\t\t\t\t_react2.default.createElement('span', {\n\t\t\t\t\t\t\t\t\tclassName: 'bar',\n\t\t\t\t\t\t\t\t\tstyle: { height: props.progress + '%' } }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ className: 'percent' },\n\t\t\t\t\t\t\t\t\tprops.progress + '%'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Items;\n}(_react2.default.Component), _class.displayName = 'Items', _class.defaultProps = {\n\tfiles: [], // files\n\tonSelect: function onSelect(id) {}, // on select event\n\tonDragStart: null, // on drag start\n\tonDragEnd: null, // on drag end\n\tonTouchStart: null, // on touch start\n\tonTouchMove: null, // on touch move\n\tonTouchEnd: null, // on touch end\n\tprogress: null // on progress number\n}, _temp);\nexports.default = Items;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SideNavigation = (_temp = _class = function (_React$Component) {\n\t_inherits(SideNavigation, _React$Component);\n\n\tfunction SideNavigation(props) {\n\t\t_classCallCheck(this, SideNavigation);\n\n\t\tvar _this = _possibleConstructorReturn(this, (SideNavigation.__proto__ || Object.getPrototypeOf(SideNavigation)).call(this, props));\n\n\t\t_this.state = {\n\t\t\ttimestamp: Date.now()\n\t\t};\n\t\treturn _this;\n\t}\n\n\t/**\n  * Upload images\n  *\n  * @param {Event} e\n  */\n\n\n\t_createClass(SideNavigation, [{\n\t\tkey: 'upload',\n\t\tvalue: function upload(e) {\n\t\t\tthis.props.onUpload(e.target.files);\n\n\t\t\tthis.setState({\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props,\n\t\t\t    state = this.state;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'nav',\n\t\t\t\t{ className: 'navigation' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'wrap' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'attach images', onClick: props.onAttach },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'sp-ico ico-reply abs' },\n\t\t\t\t\t\t\t'Moving the image to grid block'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'toggle select', onClick: props.onToggleSelect },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'sp-ico ico-select abs' },\n\t\t\t\t\t\t\t'Toggle all select'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{ title: 'upload images', key: state.timestamp },\n\t\t\t\t\t\t_react2.default.createElement('input', { type: 'file', ref: 'inputFile', onChange: this.upload.bind(this), multiple: true }),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'sp-ico ico-upload abs' },\n\t\t\t\t\t\t\t'upload images'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'remove images', onClick: props.onRemove },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'sp-ico ico-trash abs' },\n\t\t\t\t\t\t\t'remove images'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn SideNavigation;\n}(_react2.default.Component), _class.displayName = 'Navigation', _class.defaultProps = {\n\tonRemove: function onRemove() {},\n\tonToggleSelect: function onToggleSelect() {},\n\tonAttach: function onAttach() {},\n\tonUpload: function onUpload() {}\n}, _temp);\nexports.default = SideNavigation;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(4);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ToggleSideButton = (_temp = _class = function (_Component) {\n\t_inherits(ToggleSideButton, _Component);\n\n\tfunction ToggleSideButton() {\n\t\t_classCallCheck(this, ToggleSideButton);\n\n\t\treturn _possibleConstructorReturn(this, (ToggleSideButton.__proto__ || Object.getPrototypeOf(ToggleSideButton)).apply(this, arguments));\n\t}\n\n\t_createClass(ToggleSideButton, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'button',\n\t\t\t\t{\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tonClick: props.onClick,\n\t\t\t\t\tclassName: 'toggle' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: (0, _classnames2.default)('sp-ico', 'abs', {\n\t\t\t\t\t\t\t\t'ico-arrow-right': props.show,\n\t\t\t\t\t\t\t\t'ico-arrow-left': !props.show\n\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t'Toggle sidebar'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn ToggleSideButton;\n}(_react.Component), _class.displayName = 'ToggleSideButton', _class.defaultProps = {\n\tshow: false,\n\tonClick: function onClick() {}\n}, _temp);\nexports.default = ToggleSideButton;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _classnames = __webpack_require__(4);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _actions = __webpack_require__(1);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _ToggleSideButton = __webpack_require__(27);\n\nvar _ToggleSideButton2 = _interopRequireDefault(_ToggleSideButton);\n\nvar _Navigation = __webpack_require__(26);\n\nvar _Navigation2 = _interopRequireDefault(_Navigation);\n\nvar _Items = __webpack_require__(25);\n\nvar _Items2 = _interopRequireDefault(_Items);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar firstSelectIdx = null;\n\nvar Side = (_temp = _class = function (_React$Component) {\n\t_inherits(Side, _React$Component);\n\n\tfunction Side(props) {\n\t\t_classCallCheck(this, Side);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Side.__proto__ || Object.getPrototypeOf(Side)).call(this, props));\n\n\t\t_this.dragTarget = null;\n\t\t_this.dragPosition = [];\n\t\t_this.$gridItems = null;\n\t\t_this.$dragItem = null;\n\t\t_this.uploading = false;\n\t\treturn _this;\n\t}\n\n\t/**\n  * get gridster item\n  * 포인트 위치에 있는 gridster블럭을 가져온다.\n  *\n  * @return {Object} gridster item\n  */\n\n\n\t_createClass(Side, [{\n\t\tkey: 'getGridsterItem',\n\t\tvalue: function getGridsterItem() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\n\t\t\tvar target = null;\n\t\t\tthis.$gridItems = (0, _jquery2.default)(props.element).find('.ple-grid > div');\n\n\t\t\tthis.$gridItems.each(function (n, el) {\n\t\t\t\tvar $this = (0, _jquery2.default)(el);\n\t\t\t\tvar pos = $this.offset();\n\t\t\t\tif (pos.left < _this2.dragPosition[0] && pos.left + $this.width() > _this2.dragPosition[0] && pos.top < _this2.dragPosition[1] && pos.top + $this.height() > _this2.dragPosition[1]) {\n\t\t\t\t\ttarget = $this.data('index');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn target;\n\t\t}\n\n\t\t/**\n   * On select item\n   *\n   * @param {Object} id\n   */\n\n\t}, {\n\t\tkey: '_selectItem',\n\t\tvalue: function _selectItem(id) {\n\t\t\tvar props = this.props;\n\t\t\tvar keyName = props.keyboard.keyName;\n\n\t\t\tvar type = null;\n\n\t\t\tif (keyName !== 'SHIFT') {\n\t\t\t\tvar currentItem = null;\n\t\t\t\tprops.tree.side.files.forEach(function (o, k) {\n\t\t\t\t\tif (o.id === id) {\n\t\t\t\t\t\tcurrentItem = o;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tfirstSelectIdx = currentItem.active === true ? null : id;\n\t\t\t\tif (!firstSelectIdx && currentItem.active === true) {\n\t\t\t\t\tfirstSelectIdx = currentItem.id;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tswitch (keyName) {\n\t\t\t\tcase 'CTRL':\n\t\t\t\tcase 'CMD':\n\t\t\t\t\ttype = 'add';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'SHIFT':\n\t\t\t\t\ttype = 'range';\n\t\t\t}\n\n\t\t\tprops.dispatch(actions.side.changeActiveFile(firstSelectIdx, id, type));\n\t\t}\n\n\t\t/**\n   * Remove items\n   */\n\n\t}, {\n\t\tkey: '_removeItems',\n\t\tvalue: function _removeItems() {\n\t\t\tvar props = this.props;\n\n\t\t\tvar activeItems = [];\n\n\t\t\tif (!props.tree.side.files.length) return;\n\n\t\t\tprops.tree.side.files.forEach(function (o) {\n\t\t\t\tif (o.active) activeItems.push(o.id);\n\t\t\t});\n\n\t\t\tif (!activeItems.length) {\n\t\t\t\tif (confirm('Delete all?')) {\n\t\t\t\t\tprops.tree.side.files.forEach(function (o) {\n\t\t\t\t\t\tactiveItems.push(o.id);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tprops.dispatch(actions.side.removeFiles(activeItems));\n\t\t}\n\n\t\t/**\n   * toggle select all items\n   */\n\n\t}, {\n\t\tkey: '_toggleSelect',\n\t\tvalue: function _toggleSelect() {\n\t\t\tvar props = this.props;\n\n\t\t\tvar type = 'all';\n\n\t\t\tprops.tree.side.files.some(function (o) {\n\t\t\t\tif (o.active) type = 'none';\n\t\t\t\treturn o.active;\n\t\t\t});\n\n\t\t\tprops.dispatch(actions.side.changeActiveFile(null, null, type));\n\t\t}\n\n\t\t/**\n   * upload\n   *\n   * @param {FileList} files\n   */\n\n\t}, {\n\t\tkey: '_upload',\n\t\tvalue: function _upload(files) {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.api.side.upload(files);\n\t\t}\n\n\t\t/**\n   * Attach images to grid\n   */\n\n\t}, {\n\t\tkey: '_attach',\n\t\tvalue: function _attach() {\n\t\t\tvar props = this.props;\n\n\t\t\tvar selectedImages = [];\n\n\t\t\tprops.tree.side.files.forEach(function (o, k) {\n\t\t\t\tif (o.active) {\n\t\t\t\t\tselectedImages.push(o.image);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!selectedImages.length) {\n\t\t\t\talert('not select image');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tprops.dispatch(actions.body.attachImages(selectedImages, props.tree.body.setting.column, props.tree.body.activeBlock));\n\t\t}\n\t}, {\n\t\tkey: '_dragStartItem',\n\t\tvalue: function _dragStartItem(e) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$gridItems = (0, _jquery2.default)(props.element).find('.ple-grid > div');\n\t\t\tthis.$gridItems.on('dragover', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif ((0, _jquery2.default)(e.currentTarget).hasClass('hover')) return;\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).addClass('hover');\n\t\t\t}).on('dragleave', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).removeClass('hover');\n\t\t\t}).on('drop', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).removeClass('hover');\n\t\t\t\t_this3.dragTarget = (0, _jquery2.default)(e.currentTarget).data('index');\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_dragEndItem',\n\t\tvalue: function _dragEndItem(e) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$gridItems.off();\n\t\t\tthis.$gridItems = null;\n\n\t\t\t// check drag target\n\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t// play redux\n\t\t\tprops.dispatch(actions.body.attachImage(this.dragTarget, (0, _jquery2.default)(e.currentTarget).data('image')));\n\n\t\t\t// empty dragTarget\n\t\t\tthis.dragTarget = null;\n\t\t}\n\t}, {\n\t\tkey: '_touchStartItem',\n\t\tvalue: function _touchStartItem(e) {\n\t\t\tthis.$dragItem = (0, _jquery2.default)(e.currentTarget).clone().removeAttr('draggable').addClass('ple-side__placeholder').width((0, _jquery2.default)(e.currentTarget).width()).height((0, _jquery2.default)(e.currentTarget).height());\n\n\t\t\t(0, _jquery2.default)('body').append(this.$dragItem);\n\t\t}\n\t}, {\n\t\tkey: '_touchMoveItem',\n\t\tvalue: function _touchMoveItem(e) {\n\t\t\tvar touch = e.nativeEvent.touches[0];\n\t\t\tthis.dragPosition = [touch.pageX, touch.pageY];\n\t\t\tthis.$dragItem.css({\n\t\t\t\tleft: touch.pageX - this.$dragItem.width() * 0.5,\n\t\t\t\ttop: touch.pageY - this.$dragItem.height() * 0.5\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_touchEndItem',\n\t\tvalue: function _touchEndItem(e) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$dragItem.remove();\n\t\t\tthis.$dragItem = null;\n\n\t\t\tif (this.dragPosition.length > 0) {\n\t\t\t\tthis.dragTarget = this.getGridsterItem();\n\n\t\t\t\t// check drag target\n\t\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t\t// play redux\n\t\t\t\tprops.dispatch(actions.body.attachImage(this.dragTarget, (0, _jquery2.default)(e.currentTarget).data('image')));\n\t\t\t\tthis.dragPosition = [];\n\t\t\t} else {\n\t\t\t\tthis._selectItem((0, _jquery2.default)(e.currentTarget).data('id'));\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'aside',\n\t\t\t\t{ className: 'ple-side' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: (0, _classnames2.default)('wrap', { 'show': props.tree.side.visible }) },\n\t\t\t\t\t_react2.default.createElement('span', {\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.dispatch(actions.side.changeActiveFile(null, null, 'none'));\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'background' }),\n\t\t\t\t\t_react2.default.createElement(_ToggleSideButton2.default, {\n\t\t\t\t\t\tshow: props.tree.side.visible,\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.layout.toggleSide(undefined);\n\t\t\t\t\t\t} }),\n\t\t\t\t\t_react2.default.createElement(_Navigation2.default, {\n\t\t\t\t\t\tonAttach: this._attach.bind(this),\n\t\t\t\t\t\tonToggleSelect: this._toggleSelect.bind(this),\n\t\t\t\t\t\tonUpload: this._upload.bind(this),\n\t\t\t\t\t\tonRemove: this._removeItems.bind(this) }),\n\t\t\t\t\t_react2.default.createElement(_Items2.default, {\n\t\t\t\t\t\tfiles: props.tree.side.files,\n\t\t\t\t\t\tonSelect: this._selectItem.bind(this),\n\t\t\t\t\t\tonDragStart: this._dragStartItem.bind(this),\n\t\t\t\t\t\tonDragEnd: this._dragEndItem.bind(this),\n\t\t\t\t\t\tonTouchStart: this._touchStartItem.bind(this),\n\t\t\t\t\t\tonTouchMove: this._touchMoveItem.bind(this),\n\t\t\t\t\t\tonTouchEnd: this._touchEndItem.bind(this),\n\t\t\t\t\t\tprogress: props.tree.side.progressPercent })\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Side;\n}(_react2.default.Component), _class.displayName = 'Side', _class.defaultProps = {\n\ttree: {}, // data tree in reduce\n\tsetting: {}, // setting in reduce\n\tapi: {}, // api\n\tdispatch: null // redux dispatch\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Side);\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.addBlock = addBlock;\nexports.removeBlock = removeBlock;\nexports.shuffleBlocks = shuffleBlocks;\nexports.duplicateBlock = duplicateBlock;\nexports.updateBlocks = updateBlocks;\nexports.activeBlock = activeBlock;\nexports.changeColorBlock = changeColorBlock;\nexports.updateSetting = updateSetting;\nexports.attachImages = attachImages;\nexports.attachImage = attachImage;\nexports.removeImages = removeImages;\n\nvar _types = __webpack_require__(2);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction addBlock(value) {\n\treturn {\n\t\ttype: types.GRID_ADD_BLOCK,\n\t\tvalue: value\n\t};\n}\n\nfunction removeBlock(index) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_BLOCK,\n\t\tindex: index\n\t};\n}\n\nfunction shuffleBlocks(options) {\n\treturn {\n\t\ttype: types.GRID_SHUFFLE_BLOCKS,\n\t\tvalue: options\n\t};\n}\n\nfunction duplicateBlock(index) {\n\treturn {\n\t\ttype: types.GRID_DUPLICATE_BLOCK,\n\t\tindex: index\n\t};\n}\n\nfunction updateBlocks(blocks) {\n\treturn {\n\t\ttype: types.GRID_UPDATE_BLOCKS,\n\t\tvalue: blocks\n\t};\n}\n\nfunction activeBlock(index) {\n\tvar isImage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n\treturn {\n\t\ttype: types.GRID_ACTIVE_BLOCK,\n\t\tvalue: index,\n\t\tisImage: isImage\n\t};\n}\n\nfunction changeColorBlock(item, color) {\n\treturn {\n\t\ttype: types.GRID_CHANGE_COLOR,\n\t\titem: item,\n\t\tcolor: color\n\t};\n}\n\nfunction updateSetting(value) {\n\treturn {\n\t\ttype: types.GRID_SETTING_UPDATE,\n\t\tvalue: value\n\t};\n}\n\nfunction attachImages(images, cols, activeBlocks) {\n\treturn {\n\t\ttype: types.ATTACH_IMAGES,\n\t\tvalue: images,\n\t\tcolumns: cols,\n\t\tactiveBlocks: activeBlocks\n\t};\n}\n\nfunction attachImage(index, image) {\n\treturn {\n\t\ttype: types.ATTACH_IMAGE,\n\t\tindex: index,\n\t\timage: image\n\t};\n}\n\nfunction removeImages(ids) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_IMAGES,\n\t\tvalue: ids\n\t};\n}\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.init = init;\n\nvar _types = __webpack_require__(2);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction init(api, preference, element) {\n\treturn {\n\t\ttype: types.INIT_PLE,\n\t\tapi: api,\n\t\tpreference: preference,\n\t\telement: element\n\t};\n}\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.open = open;\nexports.close = close;\n\nvar _types = __webpack_require__(2);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction open(item) {\n\treturn {\n\t\ttype: types.CROPPER_OPEN,\n\t\tvalue: item\n\t};\n}\n\nfunction close(options) {\n\treturn {\n\t\ttype: types.CROPPER_CLOSE,\n\t\tvalue: options\n\t};\n}\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.visible = visible;\nexports.toggle = toggle;\nexports.addFiles = addFiles;\nexports.removeFiles = removeFiles;\nexports.changeActiveFile = changeActiveFile;\nexports.updateProgress = updateProgress;\n\nvar _types = __webpack_require__(2);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// control visible side bar\nfunction visible(sw) {\n\treturn {\n\t\ttype: types.SIDE_VISIBLE,\n\t\tvalue: sw\n\t};\n}\n\n// toggle side bar\nfunction toggle() {\n\treturn {\n\t\ttype: types.SIDE_TOGGLE\n\t};\n}\n\nfunction addFiles(files) {\n\treturn {\n\t\ttype: types.SIDE_ADD_FILES,\n\t\tfiles: files\n\t};\n}\n\nfunction removeFiles(ids) {\n\treturn {\n\t\ttype: types.SIDE_REMOVE_FILES,\n\t\tids: ids\n\t};\n}\n\nfunction changeActiveFile(start, end, selectType) {\n\treturn {\n\t\ttype: types.SIDE_CHANGE_ACTIVE_FILE,\n\t\tstart: start,\n\t\tend: end,\n\t\tselectType: selectType\n\t};\n}\n\nfunction updateProgress(percent) {\n\treturn {\n\t\ttype: types.SIDE_UPDATE_PROGRESS,\n\t\tvalue: percent\n\t};\n}\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _redux = __webpack_require__(8);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _Container = __webpack_require__(11);\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _reducers = __webpack_require__(12);\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nvar _API = __webpack_require__(10);\n\nvar _API2 = _interopRequireDefault(_API);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PhotoLayoutEditor = (_temp = _class = function (_React$Component) {\n\t_inherits(PhotoLayoutEditor, _React$Component);\n\n\tfunction PhotoLayoutEditor() {\n\t\t_classCallCheck(this, PhotoLayoutEditor);\n\n\t\t// set store\n\t\tvar _this = _possibleConstructorReturn(this, (PhotoLayoutEditor.__proto__ || Object.getPrototypeOf(PhotoLayoutEditor)).call(this));\n\n\t\t_this.store = (0, _redux.createStore)(_reducers2.default);\n\n\t\t// set api\n\t\t_this.api = new _API2.default(_this.store);\n\t\treturn _this;\n\t}\n\n\t_createClass(PhotoLayoutEditor, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_reactRedux.Provider,\n\t\t\t\t{ store: this.store },\n\t\t\t\t_react2.default.createElement(_Container2.default, { parent: { preference: props, api: this.api } })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn PhotoLayoutEditor;\n}(_react2.default.Component), _class.displayName = 'PhotoLayoutEditor', _temp);\nexports.default = PhotoLayoutEditor;\n\nmodule.exports = PhotoLayoutEditor;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lib = __webpack_require__(3);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Keyboard = function () {\n\tfunction Keyboard() {\n\t\t_classCallCheck(this, Keyboard);\n\n\t\tthis.eventName = 'PLE_' + libs.number.getTimeStamp();\n\t\tthis.code = null;\n\t\tthis.keyName = null;\n\t\tthis.names = {\n\t\t\t17: 'CTRL',\n\t\t\t18: 'ALT',\n\t\t\t91: 'CMD',\n\t\t\t93: 'CMD',\n\t\t\t16: 'SHIFT'\n\t\t};\n\n\t\t// init key down event\n\t\t(0, _jquery2.default)(window).on('keydown.' + this.eventName, this._keyDown.bind(this));\n\t}\n\n\t/**\n  * apply\n  *\n  * @param {Number} code\n  */\n\n\n\t_createClass(Keyboard, [{\n\t\tkey: 'apply',\n\t\tvalue: function apply(code) {\n\t\t\tthis.code = code;\n\t\t\tthis.keyName = this.names[this.code] || null;\n\t\t}\n\n\t\t/**\n   * key down event\n   *\n   * @param {Event} e\n   */\n\n\t}, {\n\t\tkey: '_keyDown',\n\t\tvalue: function _keyDown(e) {\n\t\t\t// apply keyCode\n\t\t\tthis.apply(e.keyCode);\n\n\t\t\t// set events\n\t\t\t(0, _jquery2.default)(window).on('keyup.' + this.eventName, this._keyUp.bind(this)).on('contextmenu.' + this.eventName, this._keyUp.bind(this)).on('blur.' + this.eventName, this._keyUp.bind(this)).off('keydown.' + this.eventName);\n\t\t}\n\n\t\t/**\n   * key up event\n   *\n   */\n\n\t}, {\n\t\tkey: '_keyUp',\n\t\tvalue: function _keyUp() {\n\t\t\t// apply keyCode\n\t\t\tthis.apply(null);\n\n\t\t\t// set events\n\t\t\t(0, _jquery2.default)(window).on('keydown.' + this.eventName, this._keyDown.bind(this)).off('contextmenu.' + this.eventName + ' keyup.' + this.eventName + ' blur.' + this.eventName);\n\t\t}\n\n\t\t/**\n   * destroy event\n   *\n   */\n\n\t}, {\n\t\tkey: 'destroy',\n\t\tvalue: function destroy() {\n\t\t\t(0, _jquery2.default)(window).off('keydown.' + this.eventName + ' contextmenu.' + this.eventName + ' keyup.' + this.eventName + ' blur.' + this.eventName);\n\t\t}\n\t}]);\n\n\treturn Keyboard;\n}();\n\nexports.default = Keyboard;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rgbToHex = rgbToHex;\n/**\n * rgba to hex\n *\n * @param {String} color\n * @return {String}\n */\nfunction rgbToHex(color) {\n  color = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n  return color && color.length === 4 ? \"#\" + (\"0\" + parseInt(color[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(color[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(color[3], 10).toString(16)).slice(-2) : '';\n}\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.randomRange = randomRange;\nexports.getRatioForResize = getRatioForResize;\nexports.getTimeStamp = getTimeStamp;\n/**\n * Random range\n * min~max 사이의 랜덤 정수를 반환한다.\n *\n * @param {Number} min\n * @param {Number} max\n * @param {Boolean} useDecimal\n * @return {Number}\n */\nfunction randomRange(min, max) {\n  var useDecimal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (useDecimal) {\n    return Math.random() * (max - min) + min;\n  } else {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n}\n\n/**\n * get ratio for resize\n * max와 min값의 차이의 비율을 가져온다.\n *\n * @param {Number} min\n * @param {Number} max\n * @return {Number}\n */\nfunction getRatioForResize(min, max) {\n  return max > min ? min / max : max / min;\n}\n\n/**\n * Get timestamp\n *\n * @return {Number}\n */\nfunction getTimeStamp() {\n  return Math.round(+new Date() / 1000);\n}\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = uploader;\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * local upload\n *\n * @param {File} file\n * @return {Promise}\n */\nfunction local(file) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar reader = new FileReader();\n\n\treader.addEventListener('load', function (e) {\n\t\tdefer.resolve({\n\t\t\tname: file.name,\n\t\t\ttype: file.type,\n\t\t\tsize: file.size,\n\t\t\turl: e.target.result\n\t\t});\n\t});\n\treader.addEventListener('error', function (e) {\n\t\tdefer.reject(e.target);\n\t});\n\n\treader.readAsDataURL(file);\n\n\treturn defer.promise();\n}\n\n/**\n * external upload\n *\n * @param {String} script\n * @param {File} file\n * @return {Promise}\n */\nfunction external(script, file) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar xhr = new XMLHttpRequest();\n\n\tif (!(typeof FormData === 'function' || (typeof FormData === 'undefined' ? 'undefined' : _typeof(FormData)) === 'object')) {\n\t\tdefer.reject('not support browser', file);\n\t\treturn null;\n\t}\n\tvar formData = new FormData();\n\n\tfunction onLoad(e) {\n\t\ttry {\n\t\t\tvar result = JSON.parse(e.target.responseText);\n\t\t\tif (result.state === 'success') {\n\t\t\t\tdefer.resolve(result.data);\n\t\t\t} else {\n\t\t\t\tthrow 'server error';\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tdefer.reject(e);\n\t\t}\n\t}\n\n\tfunction onProgress(event) {\n\t\tvar loaded = event.loaded,\n\t\t    total = event.total;\n\n\t\tdefer.notify('progress', loaded, total);\n\t}\n\n\tformData.append('files[]', file);\n\txhr.open('post', script, true);\n\n\txhr.addEventListener('load', onLoad);\n\txhr.upload.addEventListener('progress', onProgress);\n\n\txhr.send(formData);\n\n\t// start queue\n\tdefer.notify('start');\n\n\treturn defer.promise();\n}\n\n/**\n * upload multiple files\n *\n */\nfunction uploader(files, script) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar total = files.length;\n\tvar count = 0;\n\n\tfunction upload() {\n\t\tif (count >= total) {\n\t\t\tdefer.resolve();\n\t\t\treturn;\n\t\t}\n\n\t\tif (script) {\n\t\t\texternal(script, files[count]).done(function (data) {\n\t\t\t\tdefer.notify('done', { count: count, data: data });\n\t\t\t\tcount++;\n\t\t\t\tupload();\n\t\t\t}).progress(function (state, loaded, total) {\n\t\t\t\tdefer.notify(state, state === 'progress' && { loaded: loaded, total: total });\n\t\t\t}).fail(function (error) {\n\t\t\t\tdefer.reject(error);\n\t\t\t});\n\t\t} else {\n\t\t\tlocal(files[count]).done(function (data) {\n\t\t\t\tdefer.notify('done', { count: count, data: data });\n\t\t\t\tcount++;\n\t\t\t\tupload();\n\t\t\t}).fail(function () {});\n\t\t}\n\t}\n\n\tupload(0);\n\n\treturn defer.promise();\n}\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.isTouchDevice = isTouchDevice;\nexports.sleep = sleep;\nexports.getImageSize = getImageSize;\n/**\n * is touch device\n *\n * @returns {boolean}\n */\nfunction isTouchDevice() {\n\treturn 'ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;\n}\n\n/**\n * Sleep\n *\n * @param {Number} time\n * @param {String} id\n * @return {Promise}\n */\nfunction sleep(time) {\n\tvar id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'pleTimer';\n\n\treturn new Promise(function (resolve) {\n\t\twindow[id] = setTimeout(resolve, time);\n\t});\n}\n\n/**\n * Get image size\n *\n * @param {String} src\n * @return {Promise}\n */\nfunction getImageSize(src) {\n\treturn new Promise(function (resolve, reject) {\n\t\tif (!(src && typeof src === 'string')) reject();\n\n\t\tvar img = document.createElement('img');\n\n\t\timg.onload = function () {\n\t\t\tresolve({\n\t\t\t\twidth: img.naturalWidth,\n\t\t\t\theight: img.naturalHeight,\n\t\t\t\tratio: img.naturalHeight / img.naturalWidth\n\t\t\t});\n\t\t};\n\n\t\timg.onerror = function () {\n\t\t\treject();\n\t\t};\n\n\t\timg.src = src;\n\t});\n}\n\n/**\n * Get css prefix\n *\n * @variation {Object}\n */\nvar cssPrefix = exports.cssPrefix = function () {\n\tvar styles = window.getComputedStyle(document.documentElement, '');\n\tvar pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\tvar dom = 'WebKit|Moz|MS|O'.match(new RegExp('(' + pre + ')', 'i'))[1];\n\n\treturn {\n\t\tdom: dom,\n\t\tlowercase: pre,\n\t\tcss: '-' + pre + '-',\n\t\tjs: pre[0].toUpperCase() + pre.substr(1)\n\t};\n}();\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.setting = setting;\nexports.visibleToolbarButtons = visibleToolbarButtons;\nexports.grid = grid;\nexports.activeBlock = activeBlock;\n\nvar _types = __webpack_require__(2);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _lib = __webpack_require__(3);\n\nvar libs = _interopRequireWildcard(_lib);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar lastGridId = null;\nvar shuffleIndex = 0;\n\n/**\n * setting\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nfunction setting() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.setting.body.setting;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn _extends({}, state, action.preference.body.setting);\n\t\t\t} catch (e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.GRID_SETTING_UPDATE:\n\t\t\treturn _extends({}, state, action.value);\n\t}\n\treturn state;\n}\n\n/**\n * visible toolbar buttons\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nfunction visibleToolbarButtons() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.body.visibleToolbarButtons;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\tif (action.value && action.value.length) {\n\t\t\t\treturn Object.assign({}, state, {\n\t\t\t\t\tremoveImage: true,\n\t\t\t\t\tduplicate: true,\n\t\t\t\t\tremoveBlock: true,\n\t\t\t\t\teditColor: true\n\t\t\t\t}, action.isImage && action.value.length === 1 ? {\n\t\t\t\t\tedit: true\n\t\t\t\t} : {\n\t\t\t\t\tedit: false\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn _extends({}, state, {\n\t\t\t\t\tedit: false,\n\t\t\t\t\tremoveImage: false,\n\t\t\t\t\tduplicate: false,\n\t\t\t\t\tremoveBlock: false,\n\t\t\t\t\teditColor: false\n\t\t\t\t});\n\t\t\t}\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tedit: false,\n\t\t\t\tremoveImage: false,\n\t\t\t\tduplicate: false,\n\t\t\t\tremoveBlock: false,\n\t\t\t\teditColor: false\n\t\t\t});\n\n\t\tcase types.GRID_REMOVE_IMAGES:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tedit: false\n\t\t\t});\n\t}\n\treturn state;\n}\n\n/**\n * grid\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nfunction grid() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.setting.body.grid;\n\tvar action = arguments[1];\n\n\tvar newState = null;\n\tvar n = null;\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\tvar _grid = [];\n\t\t\ttry {\n\t\t\t\t_grid = action.preference.body.grid || state;\n\t\t\t} catch (e) {\n\t\t\t\t_grid = state;\n\t\t\t}\n\n\t\t\treturn _grid.map(function (o, k) {\n\t\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\t\treturn _extends({\n\t\t\t\t\tcolor: null\n\t\t\t\t}, o, {\n\t\t\t\t\tindex: lastGridId,\n\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t});\n\t\t\t});\n\n\t\tcase types.GRID_ADD_BLOCK:\n\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\treturn state.concat(_extends({\n\t\t\t\tcolor: null,\n\t\t\t\tlayout: { x: Infinity, y: Infinity, w: 1, h: 1 }\n\t\t\t}, action.value, {\n\t\t\t\tindex: lastGridId,\n\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t}));\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (!action.index || !action.index.length) return state;\n\t\t\tnewState = Object.assign([], state);\n\t\t\tfor (var i = 0; i < action.index.length; i++) {\n\t\t\t\tvar _n = libs.object.findObjectValueInArray(newState, 'index', action.index[i]);\n\t\t\t\tnewState.splice(_n, 1);\n\t\t\t}\n\t\t\treturn newState;\n\n\t\tcase types.GRID_SHUFFLE_BLOCKS:\n\t\t\tshuffleIndex++;\n\t\t\tnewState = Object.assign([], state);\n\t\t\treturn newState.map(function (o, k) {\n\t\t\t\treturn _extends({}, o, {\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tx: libs.number.randomRange(0, action.value.x - 1),\n\t\t\t\t\t\ty: libs.number.randomRange(0, action.value.y - 1),\n\t\t\t\t\t\tw: libs.number.randomRange(1, action.value.w),\n\t\t\t\t\t\th: libs.number.randomRange(1, action.value.h)\n\t\t\t\t\t},\n\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t});\n\t\t\t});\n\n\t\tcase types.GRID_DUPLICATE_BLOCK:\n\t\t\tnewState = Object.assign([], state);\n\t\t\taction.index.forEach(function (o, k) {\n\t\t\t\tn = libs.object.findObjectValueInArray(state, 'index', o);\n\t\t\t\tif (!newState[n]) return;\n\t\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\t\tnewState = newState.concat(_extends({}, newState[n], {\n\t\t\t\t\tindex: lastGridId\n\t\t\t\t}));\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_CHANGE_COLOR:\n\t\t\tnewState = Object.assign([], state);\n\t\t\taction.item.forEach(function (o, k) {\n\t\t\t\tn = libs.object.findObjectValueInArray(newState, 'index', o);\n\t\t\t\tif (newState[n]) newState[n].color = action.color;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.ATTACH_IMAGES:\n\t\t\tif (!libs.object.isArray(action.value)) return state;\n\t\t\tnewState = Object.assign([], state);\n\n\t\t\tif (action.activeBlocks && action.activeBlocks.length) {\n\t\t\t\tnewState.forEach(function (o, k) {\n\t\t\t\t\tif (!action.value.length) return;\n\t\t\t\t\tif (action.activeBlocks.indexOf(o.index) < 0) return;\n\t\t\t\t\to.image = {\n\t\t\t\t\t\tsrc: action.value.splice(0, 1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnewState.forEach(function (o) {\n\t\t\t\t\tif (o.image) return;\n\t\t\t\t\tif (!action.value || !action.value.length) return;\n\t\t\t\t\to.image = {\n\t\t\t\t\t\tsrc: action.value.splice(0, 1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tif (action.value.length) {\n\t\t\t\t\taction.value.forEach(function (o, k) {\n\t\t\t\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\t\t\t\tnewState = newState.concat({\n\t\t\t\t\t\t\tcolor: null,\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: (state.length + k) % action.columns,\n\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\timage: {\n\t\t\t\t\t\t\t\tsrc: o,\n\t\t\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tindex: lastGridId\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newState;\n\n\t\tcase types.ATTACH_IMAGE:\n\t\t\tif (!(action.image && typeof action.image === 'string')) return state;\n\t\t\tif (!(action.index !== null && typeof action.index === 'number')) return state;\n\n\t\t\tnewState = Object.assign([], state);\n\t\t\tn = libs.object.findObjectValueInArray(newState, 'index', action.index);\n\t\t\tnewState[n].image = {\n\t\t\t\tsrc: action.image,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover'\n\t\t\t};\n\n\t\t\treturn newState;\n\n\t\tcase types.GRID_REMOVE_IMAGES:\n\t\t\tnewState = Object.assign([], state);\n\t\t\taction.value.forEach(function (o) {\n\t\t\t\tn = libs.object.findObjectValueInArray(newState, 'index', o);\n\t\t\t\tif (newState[n] && newState[n].image) {\n\t\t\t\t\tdelete newState[n].image;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_UPDATE_BLOCKS:\n\t\t\treturn Object.assign([], state, action.value);\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\tnewState = Object.assign([], state);\n\t\t\tn = libs.object.findObjectValueInArray(state, 'index', action.value.index);\n\n\t\t\tnewState[n].image.position = action.value.position;\n\t\t\tnewState[n].image.size = action.value.size;\n\n\t\t\treturn newState;\n\t}\n\n\treturn state;\n}\n\n/**\n * active block\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nfunction activeBlock() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\tvar action = arguments[1];\n\n\tvar newState = null;\n\n\tswitch (action.type) {\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\treturn action.value;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (action.index && action.index.length) {\n\t\t\t\tnewState = Object.assign([], state);\n\t\t\t\taction.index.forEach(function (o, k) {\n\t\t\t\t\tif (newState.indexOf(o) < 0) return;\n\t\t\t\t\tnewState.splice(newState.indexOf(o), 1);\n\t\t\t\t});\n\t\t\t\treturn newState;\n\t\t\t}\n\t\t\treturn [];\n\t}\n\n\treturn state;\n}\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.setting = setting;\nexports.api = api;\nexports.keyboard = keyboard;\nexports.element = element;\n\nvar _types = __webpack_require__(2);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _Keyboard = __webpack_require__(34);\n\nvar _Keyboard2 = _interopRequireDefault(_Keyboard);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction setting() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn Object.assign({}, {\n\t\t\t\tbase: _extends({}, defaults.setting.base, {\n\t\t\t\t\tuploadScript: action.preference.uploadScript || defaults.setting.base.uploadScript,\n\t\t\t\t\tuploadParamsConvertFunc: action.preference.uploadParamsConvertFunc || defaults.setting.base.uploadParamsConvertFunc\n\t\t\t\t}),\n\t\t\t\tside: _extends({}, defaults.setting.side, action.preference.side),\n\t\t\t\tbody: _extends({}, defaults.setting.body, action.preference.body)\n\t\t\t});\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction api() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.api;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction keyboard() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn new _Keyboard2.default();\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction element() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.element;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.visible = visible;\nexports.item = item;\n\nvar _types = __webpack_require__(2);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction visible() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn true;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn false;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction item() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.value;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = base;\n\nvar _types = __webpack_require__(2);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar nextFileId = 0;\n\n/**\n * Change active\n *\n * @param {Object} item\n * @param {Number} start\n * @param {Number} end\n * @param {String} type press key name and select type\n * @param {Number} activeCount\n */\nfunction changeActive(item, start, end, type, activeCount) {\n\tswitch (type) {\n\t\tcase 'all':\n\t\t\treturn Object.assign({}, item, { active: true });\n\t\tcase 'none':\n\t\t\treturn Object.assign({}, item, { active: false });\n\t\tcase 'add':\n\t\t\tif (item.id === end) {\n\t\t\t\treturn Object.assign({}, item, { active: !item.active });\n\t\t\t} else {\n\t\t\t\treturn item;\n\t\t\t}\n\t\tcase 'range':\n\t\t\tstart = start || 0;\n\t\t\tif (start < end) {\n\t\t\t\tif (item.id >= start && item.id <= end) {\n\t\t\t\t\treturn Object.assign({}, item, { active: true });\n\t\t\t\t} else {\n\t\t\t\t\treturn Object.assign({}, item, { active: false });\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (item.id <= start && item.id >= end) {\n\t\t\t\t\treturn Object.assign({}, item, { active: true });\n\t\t\t\t} else {\n\t\t\t\t\treturn Object.assign({}, item, { active: false });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn item;\n\t}\n\n\t// not fount key\n\tif (activeCount >= 2 && item.id === end) {\n\t\treturn Object.assign({}, item, { active: true });\n\t} else if (item.id === end) {\n\t\treturn Object.assign({}, item, { active: !item.active });\n\t} else {\n\t\treturn Object.assign({}, item, { active: false });\n\t}\n}\n\n/**\n * Get active items\n *\n * @param {Array} items\n * @return {Array}\n */\nfunction getActiveItems(items) {\n\treturn items.map(function (o) {\n\t\tif (o.active) return o;\n\t});\n}\n\n/**\n * Reducers\n */\n\n// base\nfunction base() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.side;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn _extends({}, state, action.preference.side, {\n\t\t\t\t\tfiles: [].concat(_toConsumableArray(action.preference.side.files.map(function (o) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tid: nextFileId++,\n\t\t\t\t\t\t\timage: o,\n\t\t\t\t\t\t\tactive: false\n\t\t\t\t\t\t};\n\t\t\t\t\t})))\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.SIDE_VISIBLE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tvisible: action.value\n\t\t\t});\n\n\t\tcase types.SIDE_TOGGLE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tvisible: !state.visible\n\t\t\t});\n\n\t\tcase types.SIDE_ADD_FILES:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tfiles: [].concat(_toConsumableArray(state.files), _toConsumableArray(action.files.map(function (o) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: nextFileId++,\n\t\t\t\t\t\timage: o,\n\t\t\t\t\t\tactive: false\n\t\t\t\t\t};\n\t\t\t\t})))\n\t\t\t});\n\n\t\tcase types.SIDE_REMOVE_FILES:\n\t\t\tif (!action.ids.length) return state;\n\t\t\tvar selectItems = [];\n\t\t\tstate.files.forEach(function (o) {\n\t\t\t\tif (action.ids.indexOf(o.id) < 0) selectItems.push(o);\n\t\t\t});\n\t\t\treturn _extends({}, state, {\n\t\t\t\tfiles: selectItems\n\t\t\t});\n\n\t\tcase types.SIDE_CHANGE_ACTIVE_FILE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tfiles: state.files.map(function (item) {\n\t\t\t\t\treturn changeActive(item, action.start, action.end, action.selectType, getActiveItems(state.files).length);\n\t\t\t\t})\n\t\t\t});\n\n\t\tcase types.SIDE_UPDATE_PROGRESS:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tprogressPercent: action.value\n\t\t\t});\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_43__;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_44__;\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_45__;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// PhotoLayoutEditor.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 33);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 41910e4439952b63bbdb","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\n// module id = 0\n// module chunks = 0","import * as core from './core';\nimport * as body from './body';\nimport * as cropper from './cropper';\nimport * as side from './side';\nimport * as types from './types';\n\n\nexport {\n\tcore,\n\tcropper,\n\tside,\n\tbody,\n\ttypes,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/index.js","export const INIT_PLE = 'INIT_PLE';\n\nexport const SIDE_VISIBLE = 'SIDE_VISIBLE';\nexport const SIDE_ADD_FILES = 'SIDE_ADD_FILES';\nexport const SIDE_REMOVE_FILES = 'SIDE_REMOVE_FILES';\nexport const SIDE_CHANGE_ACTIVE_FILE = 'SIDE_CHANGE_ACTIVE_FILE';\nexport const SIDE_TOGGLE = 'SIDE_TOGGLE';\nexport const SIDE_UPDATE_PROGRESS = 'SIDE_UPDATE_PROGRESS';\n\nexport const ATTACH_IMAGES = 'ATTACH_IMAGES';\nexport const ATTACH_IMAGE = 'ATTACH_IMAGE';\n\nexport const GRID_ADD_BLOCK = 'GRID_ADD_BLOCK';\nexport const GRID_REMOVE_BLOCK = 'GRID_REMOVE_BLOCK';\nexport const GRID_SHUFFLE_BLOCKS = 'GRID_SHUFFLE_BLOCKS';\nexport const GRID_DUPLICATE_BLOCK = 'GRID_DUPLICATE_BLOCK';\nexport const GRID_UPDATE_BLOCKS = 'GRID_UPDATE_BLOCKS';\nexport const GRID_ACTIVE_BLOCK = 'GRID_ACTIVE_BLOCK';\nexport const GRID_SETTING_UPDATE = 'GRID_SETTING_UPDATE';\nexport const GRID_CHANGE_COLOR = 'GRID_CHANGE_COLOR';\nexport const GRID_REMOVE_IMAGES = 'GRID_REMOVE_IMAGES';\n\nexport const CROPPER_OPEN = 'CROPPER_OPEN';\nexport const CROPPER_CLOSE = 'CROPPER_CLOSE';\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/types.js","import * as util from './util';\nimport * as number from './number';\nimport * as object from './object';\nimport * as color from './color';\nimport uploader from './uploader';\n\n\nexport {\n\tutil,\n\tnumber,\n\tcolor,\n\tobject,\n\tuploader\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"classnames\",\"commonjs2\":\"classnames\",\"amd\":\"classnames\",\"root\":\"classNames\"}\n// module id = 4\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}\n// module id = 5\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\",\"root\":\"PropTypes\"}\n// module id = 6\n// module chunks = 0","\nexport const setting = {\n\n\tbase: {\n\t\tuploadScript: null,\n\t\tuploadParamsConvertFunc: null,\n\t},\n\tbody: {\n\t\tsetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t},\n\t\tblockColor: '#ddd',\n\t\tgrid: [\n\t\t\t{ layout: { x: 0, y: 0, w: 2, h: 2 } },\n\t\t\t{ layout: { x: 2, y: 0, w: 1, h: 2 } },\n\t\t\t{ layout: { x: 3, y: 0, w: 2, h: 1 } },\n\t\t\t{ layout: { x: 3, y: 1, w: 1, h: 1 } },\n\t\t],\n\t},\n\tside: {\n\t\tfiles: [],\n\t\tvisible: true,\n\t\tprogressPercent: null,\n\t},\n\n};\n\n\nexport const side = {\n\tfiles: [],\n\tvisible: true,\n\tprogressPercent: null,\n};\n\n\nexport const body = {\n\tvisibleToolbarButtons: {\n\t\tsetting: true,\n\t\tshuffle: true,\n\t\tadd: true,\n\t\tselect: true,\n\t\tedit: false,\n\t\tremoveImage: false,\n\t\tduplicate: false,\n\t\tremoveBlock: false,\n\t\teditColor: false,\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/defaults.js","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"redux\",\"commonjs2\":\"redux\",\"amd\":\"redux\",\"root\":\"PropTypes\"}\n// module id = 8\n// module chunks = 0","/**\n * Shuffles array in place.\n *\n * @param {Array} input items The array containing the items.\n * @return {Array}\n */\nexport function shuffle(input)\n{\n\tfor (let i = input.length-1; i >=0; i--)\n\t{\n\t\tconst randomIndex = Math.floor(Math.random()*(i+1));\n\t\tconst itemAtIndex = input[randomIndex];\n\t\tinput[randomIndex] = input[i];\n\t\tinput[i] = itemAtIndex;\n\t}\n\treturn input;\n}\n\n/**\n * Find object value in array\n *\n * @param {Array} array\n * @param {String} key\n * @param {Number|String} value\n * @return {Number}\n */\nexport function findObjectValueInArray(array=[], key='index', value=null)\n{\n\tfor (let i = 0; i < array.length; i++)\n\t{\n\t\tif (array[i][key] === value) return i;\n\t}\n}\n\n/**\n * is array\n *\n * @param {Array} arr\n * @return {Boolean}\n */\nexport function isArray(arr=[])\n{\n\treturn !!(arr && arr.length);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/object.js","import Layout from './Layout';\nimport Side from './Side';\nimport Grid from './Grid';\nimport Cropper from './Cropper';\n\n\nexport default function API(store) {\n\n\tthis.layout = new Layout(store);\n\tthis.side = new Side(store);\n\tthis.grid = new Grid(store);\n\tthis.cropper = new Cropper(store);\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/index.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\n\nimport * as actions from '../actions';\n\nimport Body from './Body';\nimport Side from './Side';\nimport Cropper from './Cropper';\n\n\nclass Container extends React.Component {\n\n\tstatic displayName = 'Container';\n\n\tstatic defaultProps = {\n\t\tparent: {},\n\t\tdispatch: null,\n\t\ttree: {},\n\t\tsetting: null,\n\t};\n\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\tthis.el = null;\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tconst { props } = this;\n\n\t\tprops.dispatch(actions.core.init(\n\t\t\tprops.parent.api,\n\t\t\tprops.parent.preference || { side: {}, grid: {} },\n\t\t\tthis.el\n\t\t));\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={(r) => { this.el = r; }}\n\t\t\t\tclassName={classNames('ple-editor', { 'side-active': props.tree.side.visible })}>\n\t\t\t\t{props.setting && (\n\t\t\t\t\t<div className=\"ple-wrap\">\n\t\t\t\t\t\t<Body/>\n\t\t\t\t\t\t<Side/>\n\t\t\t\t\t\t{props.tree.cropper.visible ? ( <Cropper/> ) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Container);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/index.js","import { combineReducers } from 'redux';\n\nimport * as core from './core';\nimport * as body from './body';\nimport side from './side';\nimport * as cropper from './cropper';\n\n\nexport default combineReducers({\n\n\t// settings\n\tsetting: core.setting,\n\n\t// api\n\tapi: core.api,\n\n\t// keyboard event\n\tkeyboard: core.keyboard,\n\n\t// element\n\telement: core.element,\n\n\t// data tree\n\ttree: combineReducers({\n\t\tside,\n\t\tbody: combineReducers({\n\t\t\tsetting: body.setting,\n\t\t\tvisibleToolbarButtons: body.visibleToolbarButtons,\n\t\t\tgrid: body.grid,\n\t\t\tactiveBlock: body.activeBlock,\n\t\t}),\n\t\tcropper: combineReducers({\n\t\t\tvisible: cropper.visible,\n\t\t\titem: cropper.item,\n\t\t})\n\t}),\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/index.js","import * as actions from '../actions';\nimport * as libs from '../lib';\n\n\nexport default function Cropper(store) {\n\n\tthis.open = function(index)\n\t{\n\t\tconst state = store.getState();\n\t\tlet item = null;\n\n\t\ttry {\n\t\t\tconst n = libs.object.findObjectValueInArray(state.tree.body.grid, 'index', index);\n\t\t\tif (typeof n !== 'number') throw 'Not found item';\n\t\t\titem = state.tree.body.grid[n];\n\t\t\tif (!item.image) throw 'Not found image in item';\n\t\t} catch(e) {\n\t\t\talert(e);\n\t\t\treturn;\n\t\t}\n\n\t\tstore.dispatch(actions.cropper.open(item));\n\t};\n\n\tthis.close = function()\n\t{\n\t\tconsole.log('close cropper');\n\n\t\tstore.dispatch(actions.cropper.close());\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Cropper.js","import * as actions from '../actions';\n\n\nexport default function Grid(store) {\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Grid.js","import * as actions from '../actions';\n\n\nexport default function Layout(store) {\n\n\t/**\n\t * Toggle side\n\t *\n\t * @param {Boolean|undefined} sw\n\t */\n\tthis.toggleSide = function(sw)\n\t{\n\t\ttry {\n\t\t\tconst currentSw = store.getState().tree.side.visible;\n\t\t\tconst targetSw = (typeof sw === 'undefined') ? !currentSw : sw;\n\n\t\t\tstore.dispatch(actions.side.visible(targetSw));\n\t\t} catch(e) {\n\t\t\tconsole.warn('Error action', e)\n\t\t}\n\t};\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Layout.js","import $ from 'jquery/dist/jquery.slim';\n\nimport * as actions from '../actions';\nimport * as lib from '../lib';\n\n\nexport default function Side(store) {\n\n\tthis.uploading = false;\n\n\t/**\n\t * Add files\n\t *\n\t * @param {Array} files\n\t */\n\tthis.add = function(files)\n\t{\n\t\tif (!(files instanceof Array)) return;\n\n\t\tstore.dispatch(actions.side.addFiles(files));\n\t};\n\n\t/**\n\t * Upload files\n\t *\n\t * @param {FileList} files\n\t * @param {Object} callbacks\n\t */\n\tthis.upload = function(files, callbacks={})\n\t{\n\t\t/**\n\t\t * @param {Function} callbacks.start\n\t\t * @param {Function} callbacks.complete\n\t\t * @param {Function} callbacks.completeAll\n\t\t * @param {Function} callbacks.fail\n\t\t */\n\t\tif (this.uploading) return;\n\n\t\tconst defer = $.Deferred();\n\t\tconst state = store.getState();\n\t\tthis.uploading = true;\n\n\t\tif (callbacks.start) callbacks.start();\n\n\t\tlib.uploader(files, state.setting.base.uploadScript)\n\t\t\t.progress((type, res) => {\n\t\t\t\tswitch(type)\n\t\t\t\t{\n\t\t\t\t\tcase 'start':\n\t\t\t\t\t\tstore.dispatch(actions.side.updateProgress(0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'progress':\n\t\t\t\t\t\tconst percent = parseInt((res.loaded / res.total * 100));\n\t\t\t\t\t\tstore.dispatch(actions.side.updateProgress(percent));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'done':\n\t\t\t\t\t\tstore.dispatch(actions.side.updateProgress(null));\n\t\t\t\t\t\tif (!res.data) return;\n\t\t\t\t\t\tif (state.setting.base.uploadParamsConvertFunc)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet result = state.setting.base.uploadParamsConvertFunc(res.data);\n\t\t\t\t\t\t\tstore.dispatch(actions.side.addFiles([result]));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstore.dispatch(actions.side.addFiles([res.data.url]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (callbacks.complete) callbacks.complete(res.data);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.done(() => {\n\t\t\t\tthis.uploading = false;\n\t\t\t\tif (callbacks.completeAll) callbacks.completeAll();\n\t\t\t})\n\t\t\t.fail((error) => {\n\t\t\t\tthis.uploading = false;\n\t\t\t\tif (callbacks.fail) callbacks.fail(error);\n\t\t\t});\n\n\t\treturn defer.promise();\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Side.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactGridLayout from 'react-grid-layout';\nimport classNames from 'classnames';\n\nimport * as actions from '../../../actions';\nimport * as libs from '../../../lib';\n\n\nlet timeStamp = [];\n\n\nclass GridLayout extends React.Component {\n\n\tstatic displayName = 'GridLayout';\n\n\tstatic defaultProps = {\n\t\ttree: null,\n\t\tple: null,\n\t\tdispatch: null,\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t}\n\n\t/**\n\t * On select block\n\t *\n\t * @param {Number} id\n\t * @param {boolean} isImage\n\t */\n\t_selectBlock(id, isImage)\n\t{\n\t\tconst { props } = this;\n\n\t\tif (id === null)\n\t\t{\n\t\t\tprops.dispatch(actions.body.activeBlock([], false));\n\t\t\treturn;\n\t\t}\n\n\t\tswitch(props.keyboard.keyName)\n\t\t{\n\t\t\tcase 'CMD':\n\t\t\tcase 'CTRL':\n\t\t\tcase 'SHIFT':\n\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock))\n\t\t\t\t{\n\t\t\t\t\tlet newActiveBlock = Object.assign([], props.tree.body.activeBlock);\n\t\t\t\t\tif (newActiveBlock.indexOf(id) > -1)\n\t\t\t\t\t{\n\t\t\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(id), 1);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tnewActiveBlock.push(id);\n\t\t\t\t\t}\n\t\t\t\t\tprops.dispatch(actions.body.activeBlock(newActiveBlock, isImage));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tprops.dispatch(actions.body.activeBlock([id], isImage));\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tprops.dispatch(actions.body.activeBlock([id], isImage));\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * On update blocks\n\t *\n\t * @param {String} type\n\t * @param {Array} layout\n\t */\n\t_updateBlocks(type, layout)\n\t{\n\t\tconst { props } = this;\n\n\t\tswitch(type)\n\t\t{\n\t\t\tcase 'start':\n\t\t\t\ttimeStamp[0] = new Date().getTime();\n\t\t\t\tbreak;\n\n\t\t\tcase 'end':\n\t\t\t\ttimeStamp[1] = new Date().getTime();\n\t\t\t\tif (timeStamp[1] - timeStamp[0] > 400)\n\t\t\t\t{\n\t\t\t\t\tlet newGrid = props.tree.body.grid.map((o, k) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...o,\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: layout[k].x,\n\t\t\t\t\t\t\t\ty: layout[k].y,\n\t\t\t\t\t\t\t\tw: layout[k].w,\n\t\t\t\t\t\t\t\th: layout[k].h,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tprops.dispatch(actions.body.updateBlocks(newGrid));\n\t\t\t\t}\n\t\t\t\ttimeStamp = [];\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * Render item\n\t *\n\t * @param {Object} item\n\t * @param {Number} n\n\t * @return {Component}\n\t */\n\trenderItem(item, n)\n\t{\n\t\tconst { props } = this;\n\t\tconst { activeBlock } = props.tree.body;\n\n\t\tlet key = `${item.indexPrefix}__${item.index}`;\n\t\tlet active = !!(activeBlock && activeBlock.length && activeBlock.indexOf(item.index) > -1);\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={key}\n\t\t\t\tdata-grid={item.layout}\n\t\t\t\tdata-index={item.index}\n\t\t\t\tonClick={(event) => {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tthis._selectBlock(item.index, !!item.image);\n\t\t\t\t}}\n\t\t\t\tstyle={{ backgroundColor: item.color || props.setting.body.blockColor }}\n\t\t\t\tclassName={classNames({ 'active': active })}>\n\t\t\t\t{item.image && (\n\t\t\t\t\t<figure\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundImage: `url('${item.image.src}')`,\n\t\t\t\t\t\t\tbackgroundPosition: item.image.position,\n\t\t\t\t\t\t\tbackgroundSize: item.image.size,\n\t\t\t\t\t\t}}/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\t\tconst { setting } = props.tree.body;\n\t\tconst bodyWidth = (setting.width * setting.column) +\n\t\t\t(setting.innerMargin * (setting.column-1)) +\n\t\t\t(setting.outerMargin * 2);\n\n\t\treturn (\n\t\t\t<div className=\"ple-grid__wrap\" onClick={() => this._selectBlock(null)}>\n\t\t\t\t<ReactGridLayout\n\t\t\t\t\tautoSize={true}\n\t\t\t\t\tcols={setting.column}\n\t\t\t\t\trowHeight={setting.height}\n\t\t\t\t\twidth={bodyWidth}\n\t\t\t\t\tmargin={[setting.innerMargin, setting.innerMargin]}\n\t\t\t\t\tcontainerPadding={[setting.outerMargin, setting.outerMargin]}\n\t\t\t\t\tverticalCompact={!setting.freeMode}\n\t\t\t\t\tonDragStart={() => this._updateBlocks('start', null)}\n\t\t\t\t\tonDragStop={(layout) => this._updateBlocks('end', layout)}\n\t\t\t\t\tonResizeStart={() => this._updateBlocks('start', null)}\n\t\t\t\t\tonResizeStop={(layout) => this._updateBlocks('end', layout)}\n\t\t\t\t\tstyle={{width: `${bodyWidth}px`}}\n\t\t\t\t\tclassName=\"ple-grid\">\n\t\t\t\t\t{props.tree.body.grid.map(this.renderItem.bind(this))}\n\t\t\t\t</ReactGridLayout>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(GridLayout);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/GridLayout/index.js","import React from 'react';\n\n\nexport default class Button extends React.Component {\n\n\tstatic displayName = 'Button';\n\n\trender() {\n\t\tconst { children, title, iconClass, className, onClick } = this.props;\n\n\t\treturn (\n\t\t\t<div className={`block ${className || ''}`}>\n\t\t\t\t<button type=\"button\" title={title} onClick={onClick}>\n\t\t\t\t\t<i className={`sp-ico abs ${iconClass}`}>{title}</i>\n\t\t\t\t</button>\n\t\t\t\t{children && <div className=\"pop\">{children}</div>}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/Button.js","import React from 'react';\n\n\nexport default class EditLayoutSetting extends React.Component {\n\n\tstatic displayName = 'EditLayoutSetting';\n\n\tstatic defaultProps = {\n\t\tsubmit: () => {},\n\t\tsetting: null,\n\t\tdefaultSetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t},\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t...props.defaultSetting,\n\t\t\t...props.setting,\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps() {\n\t\tthis.setState({\n\t\t\t...this.props.defaultSetting,\n\t\t\t...this.props.setting,\n\t\t});\n\t}\n\n\t_reset() {\n\t\tthis.setState({\n\t\t\t...this.props.defaultSetting\n\t\t});\n\t}\n\n\t_change(e) {\n\t\tthis.setState({\n\t\t\t[e.target.name] : parseInt(e.target.value)\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { state, props } = this;\n\n\t\treturn (\n\t\t\t<form onSubmit={(event) => {\n\t\t\t\tprops.submit(state);\n\t\t\t\tevent.preventDefault();\n\t\t\t}}>\n\t\t\t\t<fieldset>\n\t\t\t\t\t<legend>Settings form</legend>\n\t\t\t\t\t<h1>Settings</h1>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_width\">Width</label></dt>\n\t\t\t\t\t\t<dd className=\"type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"width\" id=\"frm_width\"\n\t\t\t\t\t\t\t\tmin={1} max={999} maxLength={3}\n\t\t\t\t\t\t\t\tvalue={this.state.width}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_height\">Height</label></dt>\n\t\t\t\t\t\t<dd className=\"type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"height\" id=\"frm_height\"\n\t\t\t\t\t\t\t\tmin={1} max={999}\n\t\t\t\t\t\t\t\tvalue={this.state.height}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_column\">Column</label></dt>\n\t\t\t\t\t\t<dd className=\"type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"column\" id=\"frm_column\"\n\t\t\t\t\t\t\t\tmin={1} max={99}\n\t\t\t\t\t\t\t\tvalue={this.state.column}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>ea</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl className=\"type-input\">\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_outerMargin\">Outer margin</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"outerMargin\" id=\"frm_outerMargin\"\n\t\t\t\t\t\t\t\tmin={0} max={500}\n\t\t\t\t\t\t\t\tvalue={this.state.outerMargin}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl className=\"type-input\">\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_innerMargin\">Inner margin</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"innerMargin\" id=\"frm_innerMargin\"\n\t\t\t\t\t\t\t\tmin={0} max={500}\n\t\t\t\t\t\t\t\tvalue={this.state.innerMargin}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_freeMode\">Free mode</label></dt>\n\t\t\t\t\t\t<dd className=\"type-checkbox\">\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\" name=\"freeMode\" id=\"frm_freeMode\"\n\t\t\t\t\t\t\t\t\tonChange={() => this.setState({ freeMode: true })}\n\t\t\t\t\t\t\t\t\tchecked={this.state.freeMode}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span>true</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\" name=\"freeMode\"\n\t\t\t\t\t\t\t\t\tonChange={() => this.setState({ freeMode: false })}\n\t\t\t\t\t\t\t\t\tchecked={!this.state.freeMode}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span>false</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t</fieldset>\n\t\t\t\t<nav>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={this._reset.bind(this)}>\n\t\t\t\t\t\t\tReset\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<button type=\"submit\" className=\"submit\">Apply</button>\n\t\t\t\t\t</span>\n\t\t\t\t</nav>\n\t\t\t</form>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/EditLayoutSetting.js","import React from 'react';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport $ from 'jquery/dist/jquery.slim';\nimport ColorPicker from 'react-simple-colorpicker';\n\nimport { findObjectValueInArray } from '../../../lib/object';\nimport * as actions from '../../../actions';\nimport * as libs from '../../../lib';\n\nimport Button from './Button';\nimport EditLayoutSetting from './EditLayoutSetting';\n\n\nclass Toolbar extends React.Component {\n\n\tstatic displayName = 'Toolbar';\n\n\tstatic defaultProps = {\n\t\tdispatch: null,\n\t\ttree: null,\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactive: {\n\t\t\t\tsetting: false,\n\t\t\t\teditBlockColor: false,\n\t\t\t}\n\t\t}\n\t}\n\n\tchangeActive(keyName, userSW, event)\n\t{\n\t\tconst { state } = this;\n\t\tconst sw = userSW || !state.active[keyName];\n\t\tconst cTarget = event ? event.currentTarget : null;\n\n\t\tif (sw)\n\t\t{\n\t\t\t$(document).on('click.pleToolbar', (e) => {\n\t\t\t\tif ($(e.target).closest('.pop').length) return;\n\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget))\n\t\t\t\t{\n\t\t\t\t\tthis.changeActive(keyName, false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(document).off('click.pleToolbar');\n\t\t}\n\n\t\tthis.setState({\n\t\t\tactive: {\n\t\t\t\t...state.active,\n\t\t\t\tsetting: false,\n\t\t\t\teditColor: false,\n\t\t\t\t[keyName] : sw,\n\t\t\t}\n\t\t});\n\t}\n\n\tdeactivate()\n\t{\n\t\t$(document).off('click.pleToolbar');\n\t\treturn new Promise((reject) => {\n\t\t\tthis.setState({\n\t\t\t\tactive: {\n\t\t\t\t\tsetting: false,\n\t\t\t\t\teditColor: false,\n\t\t\t\t}\n\t\t\t}, reject);\n\t\t});\n\t}\n\n\tsubmitEditSetting(state)\n\t{\n\t\tthis.props.dispatch(actions.body.updateSetting(state));\n\t\tthis.changeActive('setting', false);\n\t\treturn false;\n\t}\n\n\t_onClickEdit()\n\t{\n\t\tconst { props } = this;\n\t\tprops.api.cropper.open(props.tree.body.activeBlock[0]);\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\t\tconst visible = props.tree.body.visibleToolbarButtons;\n\t\tlet activeBlockColor = '#fff';\n\n\t\tif (libs.object.isArray(props.tree.body.grid))\n\t\t{\n\t\t\tif (libs.object.isArray(props.tree.body.activeBlock))\n\t\t\t{\n\t\t\t\tconst n = findObjectValueInArray(props.tree.body.grid, 'index', props.tree.body.activeBlock[0]);\n\t\t\t\tactiveBlockColor = (props.tree.body.grid[n] && props.tree.body.grid[n].color) ?\n\t\t\t\t\tprops.tree.body.grid[n].color :\n\t\t\t\t\tprops.setting.body.blockColor;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<nav className=\"ple-toolbar\">\n\t\t\t\t<div className=\"wrap\">\n\t\t\t\t\t{visible.setting && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ico-setting\"\n\t\t\t\t\t\t\tclassName={classNames('edit-setting', {\n\t\t\t\t\t\t\t\t'active': state.active.setting\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.setting)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.deactivate().then(() => {\n\t\t\t\t\t\t\t\t\t\tthis.changeActive('setting', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Edit preference\">\n\t\t\t\t\t\t\t<EditLayoutSetting\n\t\t\t\t\t\t\t\tsubmit={this.submitEditSetting.bind(this)}\n\t\t\t\t\t\t\t\tsetting={props.tree.body.setting}\n\t\t\t\t\t\t\t\tdefaultSetting={props.setting.body.setting}/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.shuffle && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ico-arrow-random\"\n\t\t\t\t\t\t\tonClick={() => props.dispatch(actions.body.shuffleBlocks({\n\t\t\t\t\t\t\t\tx: props.tree.body.setting.column,\n\t\t\t\t\t\t\t\ty: 2,\n\t\t\t\t\t\t\t\tw: 2,\n\t\t\t\t\t\t\t\th: 2\n\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\ttitle=\"Shuffle block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.add && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ico-plus\"\n\t\t\t\t\t\t\tonClick={() => props.dispatch(actions.body.addBlock({\n\t\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\t\t//x: randomRange(0, tree.body.setting.column-1),\n\t\t\t\t\t\t\t\t\tx: props.tree.body.grid.length % props.tree.body.setting.column,\n\t\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\ttitle=\"Add block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.select && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ico-select\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(null));\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet newActiveBlock = [];\n\t\t\t\t\t\t\t\tlet isImage = !!(props.tree.body.grid[0] && props.tree.body.grid[0].image);\n\t\t\t\t\t\t\t\tprops.tree.body.grid.forEach((o) => newActiveBlock.push(o.index));\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.activeBlock(newActiveBlock, isImage));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Toggle select block\"/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{visible.edit && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ico-pencil\"\n\t\t\t\t\t\t\tclassName=\"key\"\n\t\t\t\t\t\t\tonClick={this._onClickEdit.bind(this)}\n\t\t\t\t\t\t\ttitle=\"Edit block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.removeImage && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ico-empty\"\n\t\t\t\t\t\t\tclassName=\"key\"\n\t\t\t\t\t\t\tonClick={() => props.dispatch(actions.body.removeImages(props.tree.body.activeBlock))}\n\t\t\t\t\t\t\ttitle=\"Remove image in block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.duplicate && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ico-duplicate\"\n\t\t\t\t\t\t\tclassName=\"key\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.duplicateBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Duplicate block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.removeBlock && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ico-trash\"\n\t\t\t\t\t\t\tclassName=\"key\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.removeBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Remove block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{visible.editColor && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ico-palette\"\n\t\t\t\t\t\t\tclassName={`edit-color key ${state.active.editColor ? 'active' : ''}`}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.editColor)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.deactivate().then(() => this.changeActive('editColor', null, e));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Change color\">\n\t\t\t\t\t\t\t<div className=\"colorPicker__wrap\">\n\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\tonChange={(color) => {\n\t\t\t\t\t\t\t\t\t\tif (color)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.changeColorBlock(props.tree.body.activeBlock, color));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcolor={activeBlockColor}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Toolbar);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/index.js","import React from 'react';\n\nimport GridLayout from \"./GridLayout\";\nimport Toolbar from './Toolbar';\n\n\nexport default class Body extends React.Component {\n\n\tstatic displayName = 'Body';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ple-container\">\n\t\t\t\t<div className=\"ple-body\">\n\t\t\t\t\t<Toolbar/>\n\t\t\t\t\t<GridLayout/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/index.js","import React from 'react';\nimport ReactDom from 'react-dom';\nimport $ from 'jquery/dist/jquery.slim';\nimport classNames from 'classnames';\n\nimport { util } from '../../lib';\n\n\nconst controlEvent = {\n\tstart: (util.isTouchDevice()) ? 'touchstart' : 'mousedown',\n\tmove: (util.isTouchDevice()) ? 'touchmove' : 'mousemove',\n\tend: (util.isTouchDevice()) ? 'touchend' : 'mouseup',\n};\n\n\nexport default class Block extends React.Component {\n\n\tstatic displayName = 'Block';\n\n\tstatic defaultProps = {\n\t\tsrc: '',\n\t\tposition: '',\n\t\tsize: '',\n\t\tbgColor: '#fff',\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tposition: props.position,\n\t\t\tsize: props.size,\n\t\t\tisCover: props.size === 'cover',\n\t\t};\n\n\t\tthis.$self = null;\n\t\tthis.$img = null;\n\t\tthis.moveStartInfo = {};\n\t\tthis.resizeStartInfo = {};\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\t// set dom\n\t\tthis.$self = $(ReactDom.findDOMNode(this.refs.self));\n\t}\n\n\tcomponentWillReceiveProps(nextProps)\n\t{\n\t\tconst { props } = this;\n\n\t\tif (props.size !== nextProps.size)\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tposition: nextProps.position,\n\t\t\t\tsize: nextProps.size,\n\t\t\t\tisCover: nextProps.size === 'cover',\n\t\t\t});\n\t\t}\n\t}\n\n\t_moveStart(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst { state } = this;\n\n\t\t// set image element\n\t\tthis.$img = this.$self.find('img');\n\n\t\tthis.moveStartInfo = {\n\t\t\tcontainerX: parseInt(state.position.split(' ')[0]),\n\t\t\tcontainerY: parseInt(state.position.split(' ')[1]),\n\t\t\tmouseX : (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + $(window).scrollLeft(),\n\t\t\tmouseY : (e.clientY || e.pageY || e.nativeEvent.touches[0].clientY) + $(window).scrollTop(),\n\t\t};\n\n\t\t$(document)\n\t\t\t.on(`${controlEvent.move}.move`, this._moveIng.bind(this))\n\t\t\t.on(`${controlEvent.end}.move`, this._moveEnd.bind(this));\n\t}\n\t_moveIng(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst evt = (e.type === 'touchmove') ? e.originalEvent.touches[0] : e;\n\t\tlet mouse = {};\n\t\tlet distance = {};\n\n\t\tmouse.x = (evt.clientX || evt.pageX) + $(window).scrollLeft();\n\t\tmouse.y = (evt.clientY || evt.pageY) + $(window).scrollTop();\n\n\t\tdistance.x = this.moveStartInfo.containerX + (mouse.x - this.moveStartInfo.mouseX);\n\t\tdistance.y = this.moveStartInfo.containerY + (mouse.y - this.moveStartInfo.mouseY);\n\n\t\tthis.setState({\n\t\t\tposition: `${parseInt(distance.x)}px ${parseInt(distance.y)}px`\n\t\t});\n\t}\n\t_moveEnd(e)\n\t{\n\t\te.preventDefault();\n\n\t\tthis.$img = null;\n\t\tthis.moveStartInfo = null;\n\n\t\t$(document)\n\t\t\t.off(`${controlEvent.move}.move`)\n\t\t\t.off(`${controlEvent.end}.move`);\n\t}\n\n\t_resizeStart(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst { state } = this;\n\n\t\tthis.$img = this.$self.find('img');\n\t\tthis.resizeStartInfo = {\n\t\t\ttitle: e.currentTarget.title,\n\t\t\twidth: this.$img.width(),\n\t\t\theight: this.$img.height(),\n\t\t\tmouseX : (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + $(window).scrollLeft(),\n\t\t\tposX: parseInt(state.position.split(' ')[0]),\n\t\t\tposY: parseInt(state.position.split(' ')[1]),\n\t\t};\n\n\t\t$(document)\n\t\t\t.on(`${controlEvent.move}.resize`, this._resizeIng.bind(this))\n\t\t\t.on(`${controlEvent.end}.resize`, this._resizeEnd.bind(this));\n\t}\n\t_resizeIng(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tlet size = {};\n\t\tlet position = {};\n\t\tlet ratio = 1;\n\t\tlet distanceHeight = 0;\n\t\tlet evt = (e.type === 'touchmove') ? e.originalEvent.touches[0] : e;\n\n\t\t// set mouse position\n\t\tlet distanceX = (evt.clientX || evt.pageX) + $(window).scrollLeft() - this.resizeStartInfo.mouseX;\n\n\t\t// set position and size\n\t\tswitch(this.resizeStartInfo.title) {\n\t\t\tcase 'resize-lt':\n\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\tbreak;\n\t\t\tcase 'resize-rt':\n\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\tbreak;\n\t\t\tcase 'resize-lb':\n\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tbreak;\n\t\t\tcase 'resize-rb':\n\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\t// set image size\n\n\t\tthis.setState({\n\t\t\tsize: `${parseInt(size.width)}px ${parseInt(size.height)}px`,\n\t\t\tposition: `${parseInt(position.x)}px ${parseInt(position.y)}px`\n\t\t});\n\t}\n\t_resizeEnd(e)\n\t{\n\t\tthis.$img = null;\n\t\tthis.resizeStartInfo = null;\n\n\t\t$(document)\n\t\t\t.off(`${controlEvent.move}.resize`)\n\t\t\t.off(`${controlEvent.end}.resize`);\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\t\tconst size = (state.size !== 'cover') ? state.size.split(' ') : state.size;\n\t\tconst position = state.position.split(' ');\n\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tref=\"self\"\n\t\t\t\tstyle={{ backgroundColor: props.bgColor }}\n\t\t\t\tclassName=\"ple-cropperBlock ple-cropper__block\">\n\t\t\t\t{state.isCover ? (\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{ backgroundImage: `url('${props.src}')` }}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__image ple-cropperBlock__image-cover\"/>\n\t\t\t\t) : (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'ple-cropperBlock__image',\n\t\t\t\t\t\t\t{ 'ple-cropperBlock__image-resize': (props.size !== 'cover') }\n\t\t\t\t\t\t)}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={props.src}\n\t\t\t\t\t\t\tstyle={Object.assign({},\n\t\t\t\t\t\t\t\tstate.size !== 'cover' && {\n\t\t\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\t\t\ttransform: `translate(${position[0]}, ${position[1]})`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\talt=\"image\"/>\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t\t<div\n\t\t\t\t\tonMouseDown={this._moveStart.bind(this)}\n\t\t\t\t\tonTouchStart={this._moveStart.bind(this)}\n\t\t\t\t\tstyle={Object.assign({},\n\t\t\t\t\t\tstate.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\theight: size[1],\n\t\t\t\t\t\t\ttransform: `translate(${position[0]}, ${position[1]})`\n\t\t\t\t\t\t}\n\t\t\t\t\t)}\n\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t'ple-cropperBlock__control',\n\t\t\t\t\t\t{ 'ple-cropperBlock__control-active': (props.size !== 'cover') }\n\t\t\t\t\t)}>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-lt\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-lt\">\n\t\t\t\t\t\t<i className=\"sp-ico abs ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-rt\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-rt\">\n\t\t\t\t\t\t<i className=\"sp-ico abs ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-lb\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-lb\">\n\t\t\t\t\t\t<i className=\"sp-ico abs ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-rb\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-rb\">\n\t\t\t\t\t\t<i className=\"sp-ico abs ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</figure>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Cropper/Block.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport $ from 'jquery/dist/jquery.slim';\nimport classNames from 'classnames';\n\nimport Block from './Block';\nimport * as actions from '../../actions';\nimport * as lib from '../../lib';\n\n\nclass Cropper extends React.Component {\n\n\tstatic displayName = 'Cropper';\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tconst { cropper } = props.tree;\n\n\t\tthis.imageMeta = null;\n\t\tthis._block = null;\n\t\tthis.$item = $(props.element)\n\t\t\t.find('.react-grid-item')\n\t\t\t.filter(`[data-index=${props.tree.cropper.item.index}]`);\n\n\t\tthis.state = {\n\t\t\tpending: true,\n\t\t\tposition: cropper.item.image.position,\n\t\t\tsize: cropper.item.image.size || 'cover',\n\t\t\twidth: this.$item.width(),\n\t\t\theight: this.$item.height(),\n\t\t\ttop: this.$item.offset().top,\n\t\t\tleft: this.$item.offset().left\n\t\t};\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tconst { props } = this;\n\t\tconst { cropper } = props.tree;\n\n\t\tlib.util.getImageSize(cropper.item.image.src).then((res) => {\n\t\t\tthis.imageMeta = res;\n\t\t\tthis.setState({ pending: false });\n\t\t});\n\t}\n\n\t/**\n\t * on close cropper\n\t * cropper를 닫고, 변경된 이미지를 grid로 보낸다.\n\t *\n\t */\n\t_onClose()\n\t{\n\t\tconst { props } = this;\n\t\tprops.dispatch(actions.cropper.close({\n\t\t\tindex: props.tree.cropper.item.index,\n\t\t\tposition: this._block.state.position,\n\t\t\tsize: this._block.state.size\n\t\t}));\n\t}\n\n\t/**\n\t * toggle image type\n\t * 직접 리사이즈를 사용하는지 기본(꽉채우는..)타입으로 사용할건지 변경하는 액션\n\t *\n\t */\n\t_toggleImageType()\n\t{\n\t\tconst { state, props } = this;\n\n\t\tif (state.size === 'cover')\n\t\t{\n\t\t\tlet targetSize = '';\n\t\t\tlet ratio = 0;\n\t\t\tif (state.height > state.width)\n\t\t\t{\n\t\t\t\tratio = lib.number.getRatioForResize(state.height, this.imageMeta.height);\n\t\t\t\ttargetSize = `${parseInt(this.imageMeta.width * ratio)}px ${state.height}px`;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tratio = lib.number.getRatioForResize(state.width, this.imageMeta.width);\n\t\t\t\ttargetSize = `${state.width}px ${parseInt(this.imageMeta.height * ratio)}px`;\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tposition: '0 0',\n\t\t\t\tsize: targetSize,\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tposition: `50% 50%`,\n\t\t\t\tsize: 'cover',\n\t\t\t});\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\n\t\tif (state.pending) return null;\n\n\t\treturn (\n\t\t\t<div className=\"ple-cropper\">\n\t\t\t\t<span className=\"ple-cropper__bg\"/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: `${state.width}px`,\n\t\t\t\t\t\theight: `${state.height}px`,\n\t\t\t\t\t\ttop: `${state.top}px`,\n\t\t\t\t\t\tleft: `${state.left}px`,\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"ple-cropper__wrap\">\n\t\t\t\t\t<Block\n\t\t\t\t\t\tref={(r) => { this._block = r; }}\n\t\t\t\t\t\tsrc={props.tree.cropper.item.image.src}\n\t\t\t\t\t\tposition={state.position}\n\t\t\t\t\t\tsize={state.size}\n\t\t\t\t\t\tbgColor={props.tree.cropper.item.color || props.setting.body.blockColor}/>\n\t\t\t\t\t<nav className=\"ple-cropper__nav\">\n\t\t\t\t\t\t<button type=\"button\" onClick={this._onClose.bind(this)}>\n\t\t\t\t\t\t\t<i className=\"sp-ico ico-close abs\">Close cropper</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={this._toggleImageType.bind(this)}\n\t\t\t\t\t\t\tclassName={classNames({\n\t\t\t\t\t\t\t\t'active': state.size !== 'cover'\n\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t<i className=\"sp-ico ico-resize abs\">Toggle background size type</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</nav>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Cropper);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Cropper/index.js","import React from 'react';\nimport classNames from 'classnames';\n\nimport * as lib from '../../../lib';\n\n\nexport default class Item extends React.Component {\n\n\tstatic displayName = 'Item';\n\n\tstatic defaultProps = {\n\t\timage: null, // image\n\t\tid: null, // id\n\t\tactive: null, // active item\n\t\tonClick: null, // on click item\n\t\tonDragStart: null, // on drag start\n\t\tonDragEnd: null, // on drag end\n\t\tonTouchStart: null, // on touch start\n\t\tonTouchMove: null, // on touch move\n\t\tonTouchEnd: null, // on touch end\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\tlet attr = Object.assign({},\n\t\t\tlib.util.isTouchDevice() ? {\n\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\tonTouchEnd: props.onTouchEnd\n\t\t\t} : {\n\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\tonDragEnd: props.onDragEnd\n\t\t\t});\n\n\t\treturn (\n\t\t\t<li>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdata-id={props.id}\n\t\t\t\t\tdata-image={props.image}\n\t\t\t\t\tdraggable={true}\n\t\t\t\t\tonClick={props.onClick}\n\t\t\t\t\t{...attr}\n\t\t\t\t\tstyle={{ backgroundImage: `url('${props.image}')` }}\n\t\t\t\t\tclassName={classNames({ 'active': props.active })}/>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Items/Item.js","import React from 'react';\n\nimport Item from './Item';\n\n\nexport default class Items extends React.Component {\n\n\tstatic displayName = 'Items';\n\n\tstatic defaultProps = {\n\t\tfiles: [], // files\n\t\tonSelect: (id) => {}, // on select event\n\t\tonDragStart: null, // on drag start\n\t\tonDragEnd: null, // on drag end\n\t\tonTouchStart: null, // on touch start\n\t\tonTouchMove: null, // on touch move\n\t\tonTouchEnd: null, // on touch end\n\t\tprogress: null, // on progress number\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div className=\"items\">\n\t\t\t\t<div className=\"wrap\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{props.files.map((o, k) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\tkey={k}\n\t\t\t\t\t\t\t\t\tid={o.id}\n\t\t\t\t\t\t\t\t\timage={o.image}\n\t\t\t\t\t\t\t\t\tonDragStart={props.onDragStart}\n\t\t\t\t\t\t\t\t\tonDragEnd={props.onDragEnd}\n\t\t\t\t\t\t\t\t\tonTouchStart={props.onTouchStart}\n\t\t\t\t\t\t\t\t\tonTouchMove={props.onTouchMove}\n\t\t\t\t\t\t\t\t\tonTouchEnd={props.onTouchEnd}\n\t\t\t\t\t\t\t\t\tonClick={() => props.onSelect(o.id)}\n\t\t\t\t\t\t\t\t\tactive={o.active}/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{props.progress !== null && (\n\t\t\t\t\t\t\t<li className=\"loading\">\n\t\t\t\t\t\t\t\t<div className=\"progress\">\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName=\"bar\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ height: `${props.progress}%` }}/>\n\t\t\t\t\t\t\t\t\t<span className=\"percent\">{`${props.progress}%`}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Items/index.js","import React from 'react';\n\n\nexport default class SideNavigation extends React.Component {\n\n\tstatic displayName = 'Navigation';\n\n\tstatic defaultProps = {\n\t\tonRemove: () => {},\n\t\tonToggleSelect: () => {},\n\t\tonAttach: () => {},\n\t\tonUpload: () => {},\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttimestamp : Date.now(),\n\t\t};\n\t}\n\n\t/**\n\t * Upload images\n\t *\n\t * @param {Event} e\n\t */\n\tupload(e) {\n\t\tthis.props.onUpload(e.target.files);\n\n\t\tthis.setState({\n\t\t\ttimestamp : Date.now()\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { props, state } = this;\n\n\t\treturn (\n\t\t\t<nav className=\"navigation\">\n\t\t\t\t<div className=\"wrap\">\n\t\t\t\t\t<button type=\"button\" title=\"attach images\" onClick={props.onAttach}>\n\t\t\t\t\t\t<i className=\"sp-ico ico-reply abs\">Moving the image to grid block</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" title=\"toggle select\" onClick={props.onToggleSelect}>\n\t\t\t\t\t\t<i className=\"sp-ico ico-select abs\">Toggle all select</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span title=\"upload images\" key={state.timestamp}>\n\t\t\t\t\t\t<input type=\"file\" ref=\"inputFile\" onChange={this.upload.bind(this)} multiple />\n\t\t\t\t\t\t<i className=\"sp-ico ico-upload abs\">upload images</i>\n\t\t\t\t\t</span>\n\t\t\t\t\t<button type=\"button\" title=\"remove images\" onClick={props.onRemove}>\n\t\t\t\t\t\t<i className=\"sp-ico ico-trash abs\">remove images</i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Navigation/index.js","import React, { Component } from 'react';\nimport classNames from 'classnames';\n\n\nexport default class ToggleSideButton extends Component {\n\n\tstatic displayName = 'ToggleSideButton';\n\n\tstatic defaultProps = {\n\t\tshow: false,\n\t\tonClick: () => {}\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={props.onClick}\n\t\t\t\tclassName=\"toggle\">\n\t\t\t\t<span>\n\t\t\t\t\t<i className={classNames(\n\t\t\t\t\t\t'sp-ico',\n\t\t\t\t\t\t'abs',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'ico-arrow-right': props.show,\n\t\t\t\t\t\t\t'ico-arrow-left': !props.show\n\t\t\t\t\t\t}\n\t\t\t\t\t)}>\n\t\t\t\t\t\tToggle sidebar\n\t\t\t\t\t</i>\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/ToggleSideButton/index.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport $ from 'jquery/dist/jquery.slim';\n\nimport * as actions from '../../actions';\n\nimport ToggleSideButton from './ToggleSideButton';\nimport Navigation from './Navigation';\nimport Items from './Items';\n\n\nlet firstSelectIdx = null;\n\n\nclass Side extends React.Component {\n\n\tstatic displayName = 'Side';\n\n\tstatic defaultProps = {\n\t\ttree: {}, // data tree in reduce\n\t\tsetting: {}, // setting in reduce\n\t\tapi: {}, // api\n\t\tdispatch: null, // redux dispatch\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.dragTarget = null;\n\t\tthis.dragPosition = [];\n\t\tthis.$gridItems = null;\n\t\tthis.$dragItem = null;\n\t\tthis.uploading = false;\n\t}\n\n\t/**\n\t * get gridster item\n\t * 포인트 위치에 있는 gridster블럭을 가져온다.\n\t *\n\t * @return {Object} gridster item\n\t */\n\tgetGridsterItem()\n\t{\n\t\tconst { props } = this;\n\t\tlet target = null;\n\t\tthis.$gridItems = $(props.element).find('.ple-grid > div');\n\n\t\tthis.$gridItems.each((n, el) => {\n\t\t\tconst $this = $(el);\n\t\t\tconst pos = $this.offset();\n\t\t\tif (pos.left < this.dragPosition[0] &&\n\t\t\t\t(pos.left + $this.width()) > this.dragPosition[0] &&\n\t\t\t\tpos.top < this.dragPosition[1] &&\n\t\t\t\t(pos.top + $this.height()) > this.dragPosition[1])\n\t\t\t{\n\t\t\t\ttarget = $this.data('index');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * On select item\n\t *\n\t * @param {Object} id\n\t */\n\t_selectItem(id)\n\t{\n\t\tconst { props } = this;\n\t\tconst { keyName } = props.keyboard;\n\t\tlet type = null;\n\n\t\tif (keyName !== 'SHIFT')\n\t\t{\n\t\t\tlet currentItem = null;\n\t\t\tprops.tree.side.files.forEach((o, k) => {\n\t\t\t\tif (o.id === id)\n\t\t\t\t{\n\t\t\t\t\tcurrentItem = o;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tfirstSelectIdx = (currentItem.active === true) ? null : id;\n\t\t\tif (!firstSelectIdx && currentItem.active === true)\n\t\t\t{\n\t\t\t\tfirstSelectIdx = currentItem.id;\n\t\t\t}\n\t\t}\n\n\t\tswitch (keyName) {\n\t\t\tcase 'CTRL':\n\t\t\tcase 'CMD':\n\t\t\t\ttype = 'add';\n\t\t\t\tbreak;\n\t\t\tcase 'SHIFT':\n\t\t\t\ttype = 'range';\n\t\t}\n\n\t\tprops.dispatch(actions.side.changeActiveFile(firstSelectIdx, id, type));\n\t}\n\n\t/**\n\t * Remove items\n\t */\n\t_removeItems()\n\t{\n\t\tconst { props } = this;\n\t\tlet activeItems = [];\n\n\t\tif (!props.tree.side.files.length) return;\n\n\t\tprops.tree.side.files.forEach(o => {\n\t\t\tif (o.active) activeItems.push(o.id);\n\t\t});\n\n\t\tif (!activeItems.length)\n\t\t{\n\t\t\tif (confirm('Delete all?'))\n\t\t\t{\n\t\t\t\tprops.tree.side.files.forEach(o => {\n\t\t\t\t\tactiveItems.push(o.id);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tprops.dispatch(actions.side.removeFiles(activeItems));\n\t}\n\n\t/**\n\t * toggle select all items\n\t */\n\t_toggleSelect()\n\t{\n\t\tconst { props } = this;\n\t\tlet type = 'all';\n\n\t\tprops.tree.side.files.some((o) => {\n\t\t\tif (o.active) type = 'none';\n\t\t\treturn o.active;\n\t\t});\n\n\t\tprops.dispatch(actions.side.changeActiveFile(null, null, type));\n\t}\n\n\t/**\n\t * upload\n\t *\n\t * @param {FileList} files\n\t */\n\t_upload(files)\n\t{\n\t\tconst { props } = this;\n\t\tprops.api.side.upload(files);\n\t}\n\n\t/**\n\t * Attach images to grid\n\t */\n\t_attach()\n\t{\n\t\tconst { props } = this;\n\t\tlet selectedImages = [];\n\n\t\tprops.tree.side.files.forEach((o, k) => {\n\t\t\tif (o.active)\n\t\t\t{\n\t\t\t\tselectedImages.push(o.image);\n\t\t\t}\n\t\t});\n\n\t\tif (!selectedImages.length)\n\t\t{\n\t\t\talert('not select image');\n\t\t\treturn;\n\t\t}\n\n\t\tprops.dispatch(actions.body.attachImages(\n\t\t\tselectedImages,\n\t\t\tprops.tree.body.setting.column,\n\t\t\tprops.tree.body.activeBlock\n\t\t));\n\t}\n\n\t_dragStartItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$gridItems = $(props.element).find('.ple-grid > div');\n\t\tthis.$gridItems.on('dragover', (e) => {\n\t\t\te.preventDefault();\n\t\t\tif ($(e.currentTarget).hasClass('hover')) return;\n\t\t\t$(e.currentTarget).addClass('hover');\n\t\t}).on('dragleave', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).removeClass('hover');\n\t\t}).on('drop', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).removeClass('hover');\n\t\t\tthis.dragTarget = $(e.currentTarget).data('index');\n\t\t});\n\t}\n\t_dragEndItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$gridItems.off();\n\t\tthis.$gridItems = null;\n\n\t\t// check drag target\n\t\tif (this.dragTarget === null) return;\n\n\t\t// play redux\n\t\tprops.dispatch(actions.body.attachImage(\n\t\t\tthis.dragTarget,\n\t\t\t$(e.currentTarget).data('image')\n\t\t));\n\n\t\t// empty dragTarget\n\t\tthis.dragTarget = null;\n\t}\n\t_touchStartItem(e)\n\t{\n\t\tthis.$dragItem = $(e.currentTarget)\n\t\t\t.clone()\n\t\t\t.removeAttr('draggable')\n\t\t\t.addClass('ple-side__placeholder')\n\t\t\t.width($(e.currentTarget).width())\n\t\t\t.height($(e.currentTarget).height());\n\n\t\t$('body').append(this.$dragItem);\n\t}\n\t_touchMoveItem(e)\n\t{\n\t\tlet touch = e.nativeEvent.touches[0];\n\t\tthis.dragPosition = [touch.pageX, touch.pageY];\n\t\tthis.$dragItem.css({\n\t\t\tleft: touch.pageX - (this.$dragItem.width() * 0.5),\n\t\t\ttop: touch.pageY - (this.$dragItem.height() * 0.5)\n\t\t});\n\t}\n\t_touchEndItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$dragItem.remove();\n\t\tthis.$dragItem = null;\n\n\t\tif (this.dragPosition.length > 0)\n\t\t{\n\t\t\tthis.dragTarget = this.getGridsterItem();\n\n\t\t\t// check drag target\n\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t// play redux\n\t\t\tprops.dispatch(actions.body.attachImage(\n\t\t\t\tthis.dragTarget,\n\t\t\t\t$(e.currentTarget).data('image')\n\t\t\t));\n\t\t\tthis.dragPosition = [];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._selectItem($(e.currentTarget).data('id'));\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<aside className=\"ple-side\">\n\t\t\t\t<div className={classNames(\n\t\t\t\t\t'wrap',\n\t\t\t\t\t{ 'show': props.tree.side.visible }\n\t\t\t\t)}>\n\t\t\t\t\t<span\n\t\t\t\t\t\tonClick={() => props.dispatch(actions.side.changeActiveFile(null, null, 'none'))}\n\t\t\t\t\t\tclassName=\"background\"/>\n\t\t\t\t\t<ToggleSideButton\n\t\t\t\t\t\tshow={props.tree.side.visible}\n\t\t\t\t\t\tonClick={() => props.api.layout.toggleSide(undefined)}/>\n\t\t\t\t\t<Navigation\n\t\t\t\t\t\tonAttach={this._attach.bind(this)}\n\t\t\t\t\t\tonToggleSelect={this._toggleSelect.bind(this)}\n\t\t\t\t\t\tonUpload={this._upload.bind(this)}\n\t\t\t\t\t\tonRemove={this._removeItems.bind(this)}/>\n\t\t\t\t\t<Items\n\t\t\t\t\t\tfiles={props.tree.side.files}\n\t\t\t\t\t\tonSelect={this._selectItem.bind(this)}\n\t\t\t\t\t\tonDragStart={this._dragStartItem.bind(this)}\n\t\t\t\t\t\tonDragEnd={this._dragEndItem.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._touchStartItem.bind(this)}\n\t\t\t\t\t\tonTouchMove={this._touchMoveItem.bind(this)}\n\t\t\t\t\t\tonTouchEnd={this._touchEndItem.bind(this)}\n\t\t\t\t\t\tprogress={props.tree.side.progressPercent}/>\n\t\t\t\t</div>\n\t\t\t</aside>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Side);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/index.js","import * as types from './types';\n\n\nexport function addBlock(value)\n{\n\treturn {\n\t\ttype: types.GRID_ADD_BLOCK,\n\t\tvalue: value,\n\t};\n}\n\nexport function removeBlock(index) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_BLOCK,\n\t\tindex,\n\t};\n}\n\nexport function shuffleBlocks(options)\n{\n\treturn {\n\t\ttype: types.GRID_SHUFFLE_BLOCKS,\n\t\tvalue: options,\n\t}\n}\n\nexport function duplicateBlock(index)\n{\n\treturn {\n\t\ttype: types.GRID_DUPLICATE_BLOCK,\n\t\tindex,\n\t};\n}\n\nexport function updateBlocks(blocks)\n{\n\treturn {\n\t\ttype: types.GRID_UPDATE_BLOCKS,\n\t\tvalue: blocks,\n\t}\n}\n\nexport function activeBlock(index, isImage=false)\n{\n\treturn {\n\t\ttype: types.GRID_ACTIVE_BLOCK,\n\t\tvalue: index,\n\t\tisImage: isImage,\n\t};\n}\n\nexport function changeColorBlock(item, color)\n{\n\treturn {\n\t\ttype: types.GRID_CHANGE_COLOR,\n\t\titem,\n\t\tcolor,\n\t}\n}\n\nexport function updateSetting(value)\n{\n\treturn {\n\t\ttype: types.GRID_SETTING_UPDATE,\n\t\tvalue: value,\n\t};\n}\n\nexport function attachImages(images, cols, activeBlocks)\n{\n\treturn {\n\t\ttype: types.ATTACH_IMAGES,\n\t\tvalue: images,\n\t\tcolumns: cols,\n\t\tactiveBlocks: activeBlocks,\n\t}\n}\n\nexport function attachImage(index, image)\n{\n\treturn {\n\t\ttype: types.ATTACH_IMAGE,\n\t\tindex,\n\t\timage,\n\t};\n}\n\nexport function removeImages(ids)\n{\n\treturn {\n\t\ttype: types.GRID_REMOVE_IMAGES,\n\t\tvalue: ids,\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/body.js","import * as types from './types';\n\n\nexport function init(api, preference, element)\n{\n\treturn {\n\t\ttype: types.INIT_PLE,\n\t\tapi,\n\t\tpreference,\n\t\telement,\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/core.js","import * as types from './types';\n\n\nexport function open(item)\n{\n\treturn {\n\t\ttype: types.CROPPER_OPEN,\n\t\tvalue: item,\n\t};\n}\n\nexport function close(options)\n{\n\treturn {\n\t\ttype: types.CROPPER_CLOSE,\n\t\tvalue: options,\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/cropper.js","import * as types from './types';\n\n\n// control visible side bar\nexport function visible(sw)\n{\n\treturn {\n\t\ttype: types.SIDE_VISIBLE,\n\t\tvalue: sw,\n\t};\n}\n\n// toggle side bar\nexport function toggle()\n{\n\treturn {\n\t\ttype: types.SIDE_TOGGLE,\n\t};\n}\n\nexport function addFiles(files)\n{\n\treturn {\n\t\ttype: types.SIDE_ADD_FILES,\n\t\tfiles: files,\n\t};\n}\n\nexport function removeFiles(ids)\n{\n\treturn {\n\t\ttype: types.SIDE_REMOVE_FILES,\n\t\tids: ids,\n\t};\n}\n\nexport function changeActiveFile(start, end, selectType)\n{\n\treturn {\n\t\ttype: types.SIDE_CHANGE_ACTIVE_FILE,\n\t\tstart,\n\t\tend,\n\t\tselectType\n\t};\n}\n\nexport function updateProgress(percent)\n{\n\treturn {\n\t\ttype: types.SIDE_UPDATE_PROGRESS,\n\t\tvalue: percent\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/side.js","import React from 'react';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport Container from './Container';\n\nimport reducers from './reducers';\nimport API from './API';\n\n\nclass PhotoLayoutEditor extends React.Component {\n\n\tstatic displayName = 'PhotoLayoutEditor';\n\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\t// set store\n\t\tthis.store = createStore(reducers);\n\n\t\t// set api\n\t\tthis.api = new API(this.store);\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<Provider store={this.store}>\n\t\t\t\t<Container parent={{ preference: props, api: this.api }}/>\n\t\t\t</Provider>\n\t\t);\n\t}\n\n}\n\nexport default PhotoLayoutEditor;\nmodule.exports = PhotoLayoutEditor;\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/index.js","import $ from 'jquery/dist/jquery.slim';\n\nimport * as libs from '../lib';\n\n\nexport default class Keyboard {\n\n\tconstructor()\n\t{\n\t\tthis.eventName = `PLE_${libs.number.getTimeStamp()}`;\n\t\tthis.code = null;\n\t\tthis.keyName = null;\n\t\tthis.names = {\n\t\t\t17: 'CTRL',\n\t\t\t18: 'ALT',\n\t\t\t91: 'CMD',\n\t\t\t93: 'CMD',\n\t\t\t16: 'SHIFT',\n\t\t};\n\n\t\t// init key down event\n\t\t$(window).on(`keydown.${this.eventName}`, this._keyDown.bind(this));\n\t}\n\n\t/**\n\t * apply\n\t *\n\t * @param {Number} code\n\t */\n\tapply(code)\n\t{\n\t\tthis.code = code;\n\t\tthis.keyName = this.names[this.code] || null;\n\t}\n\n\t/**\n\t * key down event\n\t *\n\t * @param {Event} e\n\t */\n\t_keyDown(e)\n\t{\n\t\t// apply keyCode\n\t\tthis.apply(e.keyCode);\n\n\t\t// set events\n\t\t$(window)\n\t\t\t.on(`keyup.${this.eventName}`, this._keyUp.bind(this))\n\t\t\t.on(`contextmenu.${this.eventName}`, this._keyUp.bind(this))\n\t\t\t.on(`blur.${this.eventName}`, this._keyUp.bind(this))\n\t\t\t.off(`keydown.${this.eventName}`);\n\t}\n\n\t/**\n\t * key up event\n\t *\n\t */\n\t_keyUp()\n\t{\n\t\t// apply keyCode\n\t\tthis.apply(null);\n\n\t\t// set events\n\t\t$(window)\n\t\t\t.on(`keydown.${this.eventName}`, this._keyDown.bind(this))\n\t\t\t.off(`contextmenu.${this.eventName} keyup.${this.eventName} blur.${this.eventName}`);\n\t}\n\n\t/**\n\t * destroy event\n\t *\n\t */\n\tdestroy()\n\t{\n\t\t$(window).off(`keydown.${this.eventName} contextmenu.${this.eventName} keyup.${this.eventName} blur.${this.eventName}`);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/Keyboard.js","/**\n * rgba to hex\n *\n * @param {String} color\n * @return {String}\n */\nexport function rgbToHex(color)\n{\n\tcolor = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n\treturn (color && color.length === 4) ? \"#\" +\n\t\t(\"0\" + parseInt(color[1],10).toString(16)).slice(-2) +\n\t\t(\"0\" + parseInt(color[2],10).toString(16)).slice(-2) +\n\t\t(\"0\" + parseInt(color[3],10).toString(16)).slice(-2) : '';\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/color.js","/**\n * Random range\n * min~max 사이의 랜덤 정수를 반환한다.\n *\n * @param {Number} min\n * @param {Number} max\n * @param {Boolean} useDecimal\n * @return {Number}\n */\nexport function randomRange(min, max, useDecimal=false)\n{\n\tif (useDecimal)\n\t{\n\t\treturn Math.random() * (max - min) + min;\n\t}\n\telse\n\t{\n\t\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n\t}\n}\n\n\n/**\n * get ratio for resize\n * max와 min값의 차이의 비율을 가져온다.\n *\n * @param {Number} min\n * @param {Number} max\n * @return {Number}\n */\nexport function getRatioForResize(min, max)\n{\n\treturn (max > min) ? min / max : max / min;\n}\n\n\n/**\n * Get timestamp\n *\n * @return {Number}\n */\nexport function getTimeStamp()\n{\n\treturn Math.round(+new Date()/1000);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/number.js","import $ from 'jquery/dist/jquery.slim';\n\n\n/**\n * local upload\n *\n * @param {File} file\n * @return {Promise}\n */\nfunction local(file)\n{\n\tconst defer = $.Deferred();\n\tconst reader = new FileReader();\n\n\treader.addEventListener('load', function(e) {\n\t\tdefer.resolve({\n\t\t\tname: file.name,\n\t\t\ttype: file.type,\n\t\t\tsize: file.size,\n\t\t\turl: e.target.result,\n\t\t});\n\t});\n\treader.addEventListener('error', function(e) {\n\t\tdefer.reject(e.target);\n\t});\n\n\treader.readAsDataURL(file);\n\n\treturn defer.promise();\n}\n\n/**\n * external upload\n *\n * @param {String} script\n * @param {File} file\n * @return {Promise}\n */\nfunction external(script, file)\n{\n\tconst defer = $.Deferred();\n\tconst xhr = new XMLHttpRequest();\n\n\tif (!(typeof FormData === 'function' || typeof FormData === 'object'))\n\t{\n\t\tdefer.reject('not support browser', file);\n\t\treturn null;\n\t}\n\tconst formData = new FormData();\n\n\tfunction onLoad(e)\n\t{\n\t\ttry {\n\t\t\tconst result = JSON.parse(e.target.responseText);\n\t\t\tif (result.state === 'success')\n\t\t\t{\n\t\t\t\tdefer.resolve(result.data);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow 'server error';\n\t\t\t}\n\t\t} catch(e) {\n\t\t\tdefer.reject(e);\n\t\t}\n\t}\n\n\tfunction onProgress(event)\n\t{\n\t\tconst { loaded, total } = event;\n\t\tdefer.notify('progress', loaded, total);\n\t}\n\n\tformData.append('files[]', file);\n\txhr.open('post', script, true);\n\n\txhr.addEventListener('load', onLoad);\n\txhr.upload.addEventListener('progress', onProgress);\n\n\txhr.send(formData);\n\n\t// start queue\n\tdefer.notify('start');\n\n\treturn defer.promise();\n}\n\n\n/**\n * upload multiple files\n *\n */\nexport default function uploader(files, script)\n{\n\tconst defer = $.Deferred();\n\tconst total = files.length;\n\tlet count = 0;\n\n\tfunction upload()\n\t{\n\t\tif (count >= total)\n\t\t{\n\t\t\tdefer.resolve();\n\t\t\treturn;\n\t\t}\n\n\t\tif (script)\n\t\t{\n\t\t\texternal(script, files[count])\n\t\t\t\t.done((data) => {\n\t\t\t\t\tdefer.notify('done', { count, data });\n\t\t\t\t\tcount++;\n\t\t\t\t\tupload();\n\t\t\t\t})\n\t\t\t\t.progress((state, loaded, total) => {\n\t\t\t\t\tdefer.notify(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\tstate === 'progress' && { loaded, total },\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.fail((error) => {\n\t\t\t\t\tdefer.reject(error);\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlocal(files[count])\n\t\t\t\t.done((data) => {\n\t\t\t\t\tdefer.notify('done', { count, data });\n\t\t\t\t\tcount++;\n\t\t\t\t\tupload();\n\t\t\t\t})\n\t\t\t\t.fail(() => {});\n\t\t}\n\t}\n\n\tupload(0);\n\n\treturn defer.promise();\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/uploader.js","/**\n * is touch device\n *\n * @returns {boolean}\n */\nexport function isTouchDevice()\n{\n\treturn (\n\t\t('ontouchstart' in window) ||\n\t\t(navigator.MaxTouchPoints > 0) ||\n\t\t(navigator.msMaxTouchPoints > 0)\n\t);\n}\n\n\n/**\n * Sleep\n *\n * @param {Number} time\n * @param {String} id\n * @return {Promise}\n */\nexport function sleep(time, id='pleTimer')\n{\n\treturn new Promise((resolve) => {\n\t\twindow[id] = setTimeout(resolve, time);\n\t});\n}\n\n\n/**\n * Get image size\n *\n * @param {String} src\n * @return {Promise}\n */\nexport function getImageSize(src)\n{\n\treturn new Promise((resolve, reject) => {\n\t\tif (!(src && typeof src === 'string')) reject();\n\n\t\tlet img = document.createElement('img');\n\n\t\timg.onload = function()\n\t\t{\n\t\t\tresolve({\n\t\t\t\twidth: img.naturalWidth,\n\t\t\t\theight: img.naturalHeight,\n\t\t\t\tratio: img.naturalHeight / img.naturalWidth,\n\t\t\t});\n\t\t};\n\n\t\timg.onerror = function()\n\t\t{\n\t\t\treject();\n\t\t};\n\n\t\timg.src = src;\n\t});\n}\n\n\n/**\n * Get css prefix\n *\n * @variation {Object}\n */\nexport const cssPrefix = (function()\n{\n\tconst styles = window.getComputedStyle(document.documentElement, '');\n\tconst pre = (Array.prototype.slice\n\t\t.call(styles)\n\t\t.join('')\n\t\t.match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o'])\n\t)[1];\n\tconst dom = ('WebKit|Moz|MS|O').match(new RegExp('(' + pre + ')', 'i'))[1];\n\n\treturn {\n\t\tdom: dom,\n\t\tlowercase: pre,\n\t\tcss: `-${pre}-`,\n\t\tjs: pre[0].toUpperCase() + pre.substr(1)\n\t};\n})();\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/util.js","import * as types from '../actions/types';\nimport * as libs from '../lib';\nimport * as defaults from './defaults';\n\n\nlet lastGridId = null;\nlet shuffleIndex = 0;\n\n\n/**\n * setting\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nexport function setting(state=defaults.setting.body.setting, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...action.preference.body.setting\n\t\t\t\t};\n\t\t\t} catch(e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.GRID_SETTING_UPDATE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.value,\n\t\t\t};\n\t}\n\treturn state;\n}\n\n/**\n * visible toolbar buttons\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nexport function visibleToolbarButtons(state=defaults.body.visibleToolbarButtons, action)\n{\n\tswitch(action.type) {\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\tif (action.value && action.value.length)\n\t\t\t{\n\t\t\t\treturn Object.assign({},\n\t\t\t\t\tstate,\n\t\t\t\t\t{\n\t\t\t\t\t\tremoveImage: true,\n\t\t\t\t\t\tduplicate: true,\n\t\t\t\t\t\tremoveBlock: true,\n\t\t\t\t\t\teditColor: true,\n\t\t\t\t\t},\n\t\t\t\t\taction.isImage && action.value.length === 1 ? {\n\t\t\t\t\t\tedit: true,\n\t\t\t\t\t} : {\n\t\t\t\t\t\tedit: false,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tedit: false,\n\t\t\t\t\tremoveImage: false,\n\t\t\t\t\tduplicate: false,\n\t\t\t\t\tremoveBlock: false,\n\t\t\t\t\teditColor: false,\n\t\t\t\t};\n\t\t\t}\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tedit: false,\n\t\t\t\tremoveImage: false,\n\t\t\t\tduplicate: false,\n\t\t\t\tremoveBlock: false,\n\t\t\t\teditColor: false,\n\t\t\t};\n\n\t\tcase types.GRID_REMOVE_IMAGES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tedit: false,\n\t\t\t};\n\t}\n\treturn state;\n}\n\n/**\n * grid\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nexport function grid(state=defaults.setting.body.grid, action)\n{\n\tlet newState = null;\n\tlet n = null;\n\n\tswitch (action.type)\n\t{\n\t\tcase types.INIT_PLE:\n\t\t\tlet grid = [];\n\t\t\ttry {\n\t\t\t\tgrid = action.preference.body.grid || state;\n\t\t\t} catch(e) {\n\t\t\t\tgrid = state;\n\t\t\t}\n\n\t\t\treturn grid.map((o, k) => {\n\t\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\t\treturn {\n\t\t\t\t\tcolor: null,\n\t\t\t\t\t...o,\n\t\t\t\t\tindex: lastGridId,\n\t\t\t\t\tindexPrefix: shuffleIndex,\n\t\t\t\t};\n\t\t\t});\n\n\t\tcase types.GRID_ADD_BLOCK:\n\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\treturn state.concat({\n\t\t\t\tcolor: null,\n\t\t\t\tlayout: { x: Infinity, y: Infinity, w: 1, h: 1 },\n\t\t\t\t...action.value,\n\t\t\t\tindex: lastGridId,\n\t\t\t\tindexPrefix: shuffleIndex,\n\t\t\t});\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (!action.index || !action.index.length) return state;\n\t\t\tnewState = Object.assign([], state);\n\t\t\tfor (let i=0; i<action.index.length; i++)\n\t\t\t{\n\t\t\t\tconst n = libs.object.findObjectValueInArray(newState, 'index', action.index[i]);\n\t\t\t\tnewState.splice(n, 1);\n\t\t\t}\n\t\t\treturn newState;\n\n\t\tcase types.GRID_SHUFFLE_BLOCKS:\n\t\t\tshuffleIndex++;\n\t\t\tnewState = Object.assign([], state);\n\t\t\treturn newState.map((o, k) => {\n\t\t\t\treturn {\n\t\t\t\t\t...o,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tx: libs.number.randomRange(0, action.value.x - 1),\n\t\t\t\t\t\ty: libs.number.randomRange(0, action.value.y - 1),\n\t\t\t\t\t\tw: libs.number.randomRange(1, action.value.w),\n\t\t\t\t\t\th: libs.number.randomRange(1, action.value.h),\n\t\t\t\t\t},\n\t\t\t\t\tindexPrefix: shuffleIndex,\n\t\t\t\t};\n\t\t\t});\n\n\t\tcase types.GRID_DUPLICATE_BLOCK:\n\t\t\tnewState = Object.assign([], state);\n\t\t\taction.index.forEach((o, k) => {\n\t\t\t\tn = libs.object.findObjectValueInArray(state, 'index', o);\n\t\t\t\tif (!newState[n]) return;\n\t\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\t\tnewState = newState.concat({\n\t\t\t\t\t...newState[n],\n\t\t\t\t\tindex: lastGridId,\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_CHANGE_COLOR:\n\t\t\tnewState = Object.assign([], state);\n\t\t\taction.item.forEach((o, k) => {\n\t\t\t\tn = libs.object.findObjectValueInArray(newState, 'index', o);\n\t\t\t\tif (newState[n]) newState[n].color = action.color;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.ATTACH_IMAGES:\n\t\t\tif (!libs.object.isArray(action.value)) return state;\n\t\t\tnewState = Object.assign([], state);\n\n\t\t\tif (action.activeBlocks && action.activeBlocks.length)\n\t\t\t{\n\t\t\t\tnewState.forEach((o, k) => {\n\t\t\t\t\tif (!action.value.length) return;\n\t\t\t\t\tif (action.activeBlocks.indexOf(o.index) < 0) return;\n\t\t\t\t\to.image = {\n\t\t\t\t\t\tsrc: action.value.splice(0,1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover',\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tnewState.forEach((o) => {\n\t\t\t\t\tif (o.image) return;\n\t\t\t\t\tif (!action.value || !action.value.length) return;\n\t\t\t\t\to.image = {\n\t\t\t\t\t\tsrc: action.value.splice(0,1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover',\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tif (action.value.length)\n\t\t\t\t{\n\t\t\t\t\taction.value.forEach((o, k) => {\n\t\t\t\t\t\tlastGridId = lastGridId === null ? 0 : lastGridId + 1;\n\t\t\t\t\t\tnewState = newState.concat({\n\t\t\t\t\t\t\tcolor: null,\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: (state.length + k) % action.columns,\n\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\timage: {\n\t\t\t\t\t\t\t\tsrc: o,\n\t\t\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\t\t\tsize: 'cover',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tindex: lastGridId,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newState;\n\n\t\tcase types.ATTACH_IMAGE:\n\t\t\tif (!(action.image && typeof action.image === 'string')) return state;\n\t\t\tif (!(action.index !== null && typeof action.index === 'number')) return state;\n\n\t\t\tnewState = Object.assign([], state);\n\t\t\tn = libs.object.findObjectValueInArray(newState, 'index', action.index);\n\t\t\tnewState[n].image = {\n\t\t\t\tsrc: action.image,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover',\n\t\t\t};\n\n\t\t\treturn newState;\n\n\t\tcase types.GRID_REMOVE_IMAGES:\n\t\t\tnewState = Object.assign([], state);\n\t\t\taction.value.forEach((o) => {\n\t\t\t\tn = libs.object.findObjectValueInArray(newState, 'index', o);\n\t\t\t\tif (newState[n] && newState[n].image)\n\t\t\t\t{\n\t\t\t\t\tdelete newState[n].image;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_UPDATE_BLOCKS:\n\t\t\treturn Object.assign([], state, action.value);\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\tnewState = Object.assign([], state);\n\t\t\tn = libs.object.findObjectValueInArray(state, 'index', action.value.index);\n\n\t\t\tnewState[n].image.position = action.value.position;\n\t\t\tnewState[n].image.size = action.value.size;\n\n\t\t\treturn newState;\n\t}\n\n\treturn state;\n}\n\n/**\n * active block\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nexport function activeBlock(state=[], action)\n{\n\tlet newState = null;\n\n\tswitch (action.type)\n\t{\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\treturn action.value;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (action.index && action.index.length)\n\t\t\t{\n\t\t\t\tnewState = Object.assign([], state);\n\t\t\t\taction.index.forEach((o, k) => {\n\t\t\t\t\tif (newState.indexOf(o) < 0) return;\n\t\t\t\t\tnewState.splice(newState.indexOf(o), 1);\n\t\t\t\t});\n\t\t\t\treturn newState;\n\t\t\t}\n\t\t\treturn [];\n\t}\n\n\treturn state;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/body.js","import * as types from '../actions/types';\nimport Keyboard from '../lib/Keyboard';\nimport * as defaults from './defaults';\n\n\nexport function setting(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn Object.assign({}, {\n\t\t\t\tbase: {\n\t\t\t\t\t...defaults.setting.base,\n\t\t\t\t\tuploadScript: action.preference.uploadScript || defaults.setting.base.uploadScript,\n\t\t\t\t\tuploadParamsConvertFunc: action.preference.uploadParamsConvertFunc || defaults.setting.base.uploadParamsConvertFunc\n\t\t\t\t},\n\t\t\t\tside: {\n\t\t\t\t\t...defaults.setting.side,\n\t\t\t\t\t...action.preference.side\n\t\t\t\t},\n\t\t\t\tbody: {\n\t\t\t\t\t...defaults.setting.body,\n\t\t\t\t\t...action.preference.body,\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function api(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.api;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function keyboard(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn new Keyboard();\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function element(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.element;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/core.js","import * as types from '../actions/types';\n\n\nexport function visible(state=false, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn true;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn false;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function item(state=null, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.value;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/cropper.js","import * as types from '../actions/types';\nimport * as defaults from './defaults';\n\n\nlet nextFileId = 0;\n\n\n/**\n * Change active\n *\n * @param {Object} item\n * @param {Number} start\n * @param {Number} end\n * @param {String} type press key name and select type\n * @param {Number} activeCount\n */\nfunction changeActive(item, start, end, type, activeCount)\n{\n\tswitch(type)\n\t{\n\t\tcase 'all':\n\t\t\treturn Object.assign({}, item, { active: true });\n\t\tcase 'none':\n\t\t\treturn Object.assign({}, item, { active: false });\n\t\tcase 'add':\n\t\t\tif (item.id === end)\n\t\t\t{\n\t\t\t\treturn Object.assign({}, item, { active: !item.active });\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn item;\n\t\t\t}\n\t\tcase 'range':\n\t\t\tstart = start || 0;\n\t\t\tif (start < end)\n\t\t\t{\n\t\t\t\tif (item.id >= start && item.id <= end)\n\t\t\t\t{\n\t\t\t\t\treturn Object.assign({}, item, { active: true });\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn Object.assign({}, item, { active: false });\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (item.id <= start && item.id >= end)\n\t\t\t\t{\n\t\t\t\t\treturn Object.assign({}, item, { active: true });\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn Object.assign({}, item, { active: false });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn item;\n\t}\n\n\t// not fount key\n\tif (activeCount >= 2 && item.id === end)\n\t{\n\t\treturn Object.assign({}, item, { active: true });\n\t}\n\telse if (item.id === end)\n\t{\n\t\treturn Object.assign({}, item, { active: !item.active });\n\t}\n\telse\n\t{\n\t\treturn Object.assign({}, item, { active: false });\n\t}\n}\n\n/**\n * Get active items\n *\n * @param {Array} items\n * @return {Array}\n */\nfunction getActiveItems(items)\n{\n\treturn items.map(o => {\n\t\tif (o.active) return o;\n\t});\n}\n\n\n/**\n * Reducers\n */\n\n// base\nexport default function base(state=defaults.side, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...action.preference.side,\n\t\t\t\t\tfiles: [\n\t\t\t\t\t\t...action.preference.side.files.map((o) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: nextFileId++,\n\t\t\t\t\t\t\t\timage: o,\n\t\t\t\t\t\t\t\tactive: false,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t} catch(e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.SIDE_VISIBLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvisible: action.value,\n\t\t\t};\n\n\t\tcase types.SIDE_TOGGLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvisible: !state.visible,\n\t\t\t};\n\n\t\tcase types.SIDE_ADD_FILES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfiles: [\n\t\t\t\t\t...state.files,\n\t\t\t\t\t...action.files.map((o) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tid: nextFileId++,\n\t\t\t\t\t\t\timage: o,\n\t\t\t\t\t\t\tactive: false,\n\t\t\t\t\t\t};\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t};\n\n\t\tcase types.SIDE_REMOVE_FILES:\n\t\t\tif (!action.ids.length) return state;\n\t\t\tlet selectItems = [];\n\t\t\tstate.files.forEach(o => {\n\t\t\t\tif (action.ids.indexOf(o.id) < 0) selectItems.push(o);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfiles: selectItems\n\t\t\t};\n\n\t\tcase types.SIDE_CHANGE_ACTIVE_FILE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfiles: state.files.map(item => {\n\t\t\t\t\treturn changeActive(\n\t\t\t\t\t\titem,\n\t\t\t\t\t\taction.start,\n\t\t\t\t\t\taction.end,\n\t\t\t\t\t\taction.selectType,\n\t\t\t\t\t\tgetActiveItems(state.files).length,\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t};\n\n\t\tcase types.SIDE_UPDATE_PROGRESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprogressPercent: action.value\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/side.js","module.exports = __WEBPACK_EXTERNAL_MODULE_43__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}\n// module id = 43\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_44__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-grid-layout\",\"commonjs2\":\"react-grid-layout\",\"amd\":\"react-grid-layout\",\"root\":\"PropTypes\"}\n// module id = 44\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_45__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-simple-colorpicker\",\"commonjs2\":\"react-simple-colorpicker\",\"amd\":\"react-simple-colorpicker\",\"root\":\"PropTypes\"}\n// module id = 45\n// module chunks = 0"],"sourceRoot":""}