{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///PhotoLayoutEditor.js","webpack:///webpack/bootstrap 74015dc3dfffcacad65c","webpack:///external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack:///./src/PhotoLayoutEditor/lib/index.js","webpack:///external {\"commonjs\":\"classnames\",\"commonjs2\":\"classnames\",\"amd\":\"classnames\",\"root\":\"classNames\"}","webpack:///./src/PhotoLayoutEditor/actions/index.js","webpack:///./src/PhotoLayoutEditor/actions/types.js","webpack:///external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}","webpack:///external {\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/reducers/defaults.js","webpack:///external {\"commonjs\":\"redux\",\"commonjs2\":\"redux\",\"amd\":\"redux\",\"root\":\"PropTypes\"}","webpack:///external {\"commonjs\":\"react-simple-colorpicker\",\"commonjs2\":\"react-simple-colorpicker\",\"amd\":\"react-simple-colorpicker\",\"root\":\"PropTypes\"}","webpack:///./src/PhotoLayoutEditor/API/index.js","webpack:///./src/PhotoLayoutEditor/Container/index.js","webpack:///./src/PhotoLayoutEditor/reducers/index.js","webpack:///./src/PhotoLayoutEditor/API/Cropper.js","webpack:///./src/PhotoLayoutEditor/API/Grid.js","webpack:///./src/PhotoLayoutEditor/API/Side.js","webpack:///./src/PhotoLayoutEditor/API/Util.js","webpack:///./src/PhotoLayoutEditor/Container/Body/GridLayout/index.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/Button.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/EditLayoutSetting.js","webpack:///./src/PhotoLayoutEditor/Container/Body/Toolbar/index.js","webpack:///./src/PhotoLayoutEditor/Container/Body/index.js","webpack:///./src/PhotoLayoutEditor/Container/Cropper/Block.js","webpack:///./src/PhotoLayoutEditor/Container/Cropper/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Items/Item.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Items/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/Navigation/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/ToggleSideButton/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/index.js","webpack:///./src/PhotoLayoutEditor/Container/Side/selectItems.js","webpack:///./src/PhotoLayoutEditor/actions/body.js","webpack:///./src/PhotoLayoutEditor/actions/core.js","webpack:///./src/PhotoLayoutEditor/actions/cropper.js","webpack:///./src/PhotoLayoutEditor/actions/side.js","webpack:///./src/PhotoLayoutEditor/index.js","webpack:///./src/PhotoLayoutEditor/lib/Canvas.js","webpack:///./src/PhotoLayoutEditor/lib/Keyboard.js","webpack:///./src/PhotoLayoutEditor/lib/color.js","webpack:///./src/PhotoLayoutEditor/lib/makingImage.js","webpack:///./src/PhotoLayoutEditor/lib/number.js","webpack:///./src/PhotoLayoutEditor/lib/object.js","webpack:///./src/PhotoLayoutEditor/lib/resamplingImage.js","webpack:///./src/PhotoLayoutEditor/lib/uploader.js","webpack:///./src/PhotoLayoutEditor/lib/util.js","webpack:///./src/PhotoLayoutEditor/reducers/body.js","webpack:///./src/PhotoLayoutEditor/reducers/core.js","webpack:///./src/PhotoLayoutEditor/reducers/cropper.js","webpack:///./src/PhotoLayoutEditor/reducers/side.js","webpack:///external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","webpack:///external {\"commonjs\":\"react-grid-layout\",\"commonjs2\":\"react-grid-layout\",\"amd\":\"react-grid-layout\",\"root\":\"PropTypes\"}"],"names":["root","factory","exports","module","require","define","amd","PhotoLayoutEditor","React","classNames","$","PropTypes","ReactDOM","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_5__","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_8__","__WEBPACK_EXTERNAL_MODULE_9__","__WEBPACK_EXTERNAL_MODULE_48__","__WEBPACK_EXTERNAL_MODULE_49__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","_interopRequireWildcard","newObj","key","resamplingImage","Canvas","makingImage","uploader","color","number","util","_util","_number","_object","_color","_uploader","_uploader2","_makingImage","_makingImage2","_Canvas","_Canvas2","_resamplingImage","_resamplingImage2","types","body","side","cropper","core","_core","_body","_cropper","_side","_types","INIT_PLE","SIDE_VISIBLE","SIDE_ADD_FILES","SIDE_REMOVE_FILES","SIDE_UPDATE_SELECTED","SIDE_TOGGLE","SIDE_UPDATE_PROGRESS","GRID_ATTACH_IMAGES","GRID_ATTACH_IMAGE","GRID_ADD_BLOCK","GRID_REMOVE_BLOCK","GRID_SHUFFLE_BLOCKS","GRID_DUPLICATE_BLOCK","GRID_UPDATE_BLOCKS","GRID_ACTIVE_BLOCK","GRID_SETTING_UPDATE","GRID_CHANGE_COLOR","CROPPER_OPEN","CROPPER_CLOSE","setting","base","uploadScript","uploadParamsConvertFunc","width","height","column","outerMargin","innerMargin","freeMode","bgColor","blockColor","grid","files","visible","progressPercent","API","store","_Side2","_Grid2","_Cropper2","_Util2","_Side","_Grid","_Cropper","_Util","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_class","_temp","_createClass","defineProperties","target","props","length","descriptor","protoProps","staticProps","_react","_react2","_reactRedux","_classnames","_classnames2","_actions","actions","_Body","_Body2","Container","_React$Component","_this","getPrototypeOf","el","dispatch","init","parent","api","preference","_this2","createElement","ref","r","className","ple-side-active","tree","Component","displayName","defaultProps","connect","state","assign","_redux","_side2","combineReducers","keyboard","element","activeBlock","item","Cropper","getState","image","e","alert","open","position","size","close","_lib","Grid","mode","arguments","keys","result","forEach","k","push","map","selected","getKeys","options","defaultOptions","x","y","w","h","shuffleBlocks","images","attachImages","attachImage","newGrid","update","block","layout","src","addBlock","blocks","_store","Infinity","updateBlocks","removeBlock","toString","newActiveBlock","indexOf","splice","isSelect","select","duplicateBlock","newPreference","getPreference","updateSetting","lib","Side","uploading","active","parseInt","Array","Error","addFiles","updateSelected","selection","activeCount","removeFiles","callbacks","start","progress","type","res","updateProgress","percent","loaded","total","data","url","complete","done","completeAll","fail","error","selectedImages","getImages","items","getItems","_jquery","_jquery2","Util","sw","currentSw","targetSw","console","warn","getBlocks","sort","indexPrefix","replace","clear","add","remove","setPreference","format","quality","sampling","output","defer","Deferred","_state$tree$body","querySelector","resolve","current","notify","reject","promise","_extends","source","_reactGridLayout","_reactGridLayout2","libs","timeStamp","GridLayout","keyName","isArray","Date","getTime","newLayout","split","_props$tree$body","data-grid","data-key","onClick","event","stopPropagation","_selectBlock","style","backgroundColor","ple-grid__item-active","backgroundImage","backgroundPosition","backgroundSize","_this3","bodyWidth","autoSize","cols","rowHeight","margin","containerPadding","verticalCompact","onDragStart","_updateBlocks","onDragStop","oldItem","newItem","placeholder","onResizeStart","onResizeStop","renderItem","bind","Button","apply","title","iconClass","children","_defineProperty","_reactSimpleColorpicker","_reactSimpleColorpicker2","EditLayoutSetting","defaultSetting","popup_bgColor","setState","cTarget","currentTarget","document","on","closest","parentNode","activeBgColorPopup","off","preventDefault","submit","persist","onSubmit","_submit","htmlFor","id","min","max","maxLength","onChange","_change","required","ple-edit-bgColor__inputBox-active","_openBgColorPicker","readOnly","checked","_reset","_typeof","Symbol","iterator","_Button","_Button2","_EditLayoutSetting","_EditLayoutSetting2","Toolbar","editBlockColor","shuffle","edit","removeImage","duplicate","editColor","nextProps","newState","updated","isImage","some","userSW","changeActive","Promise","_this4","activeBlockColor","ple-toolbar__block-active","deactivate","then","submitEditSetting","toggleSelectAll","removeImages","changeColorBlock","_GridLayout","_GridLayout2","_Toolbar","_Toolbar2","Body","_reactDom","_reactDom2","controlEvent","isTouchDevice","move","end","Block","isCover","_self","$self","$img","moveStartInfo","resizeStartInfo","findDOMNode","find","containerX","containerY","mouseX","clientX","pageX","nativeEvent","touches","window","scrollLeft","mouseY","clientY","pageY","scrollTop","_moveIng","_moveEnd","evt","originalEvent","mouse","distance","posX","posY","_resizeIng","_resizeEnd","ratio","distanceHeight","distanceX","naturalWidth","naturalHeight","ple-cropperBlock__image-resize","transform","alt","onMouseDown","_moveStart","onTouchStart","ple-cropperBlock__control-active","_resizeStart","_Block","_Block2","imageMeta","_block","$item","filter","pending","top","left","getImageSize","targetSize","getRatioForResize","_onClose","_toggleImageType","ple-cropper__nav-active","Item","attr","onTouchMove","onTouchEnd","onDragEnd","data-id","data-image","draggable","ple-sideItems__item-active","_Item","_Item2","Items","onSelect","SideNavigation","timestamp","now","onUpload","onAttach","onToggleSelect","upload","multiple","onRemove","ToggleSideButton","_Component","ple-ico-arrow-right","show","ple-ico-arrow-left","_ToggleSideButton","_ToggleSideButton2","_Navigation","_Navigation2","_Items","_Items2","_selectItems","_selectItems2","dragTarget","dragPosition","$gridItems","$dragItem","each","$this","pos","offset","confirm","attachToGrid","message","hasClass","addClass","removeClass","clone","removeAttr","append","checkSupportCss","touch","css","getGridsterItem","ple-side__wrap-show","toggleSide","_attach","_upload","_removeItems","_selectItem","_dragStartItem","_dragEndItem","_touchStartItem","_touchMoveItem","_touchEndItem","selectItems","currentItem","firstSelectIdx","activeBlocks","columns","toggle","_Container","_Container2","_reducers","_reducers2","_API","_API2","createStore","Provider","ctx","getContext","fillStyle","fillRect","Keyboard","eventName","getTimeStamp","code","names","17","18","91","93","16","_keyDown","keyCode","_keyUp","rgbToHex","match","slice","cw","ch","iw","ih","Math","round","makeQueue","grids","$items","makeBlock","queue","loadImage","realSize","reSampleCount","cx","cy","dx","dy","dw","dh","drawBlock","canvas","drawImage","canvasToBase64","toDataURL","play","queues","queueTotal","err","offsetWidth","offsetHeight","_","randomRange","random","floor","getRatio","arr","resize","count","parentCanvas","func","pow","canvasForResize","reSampleMax","local","file","reader","FileReader","addEventListener","readAsDataURL","external","script","onLoad","JSON","parse","responseText","onProgress","xhr","XMLHttpRequest","FormData","formData","send","navigator","MaxTouchPoints","msMaxTouchPoints","sleep","time","setTimeout","img","onload","onerror","CSS","supports","Image","onError","setAttribute","cssPrefix","styles","getComputedStyle","documentElement","pre","join","OLink","dom","RegExp","lowercase","js","toUpperCase","substr","defaults","action","lastGridId","shuffleIndex","_defaults","_Keyboard2","_Keyboard","nextFileId"],"mappings":"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","file":"PhotoLayoutEditor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-dom\"), require(\"react-grid-layout\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"classnames\", \"jquery\", \"react-redux\", \"redux\", \"react-simple-colorpicker\", \"react-dom\", \"react-grid-layout\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoLayoutEditor\"] = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-dom\"), require(\"react-grid-layout\"));\n\telse\n\t\troot[\"PhotoLayoutEditor\"] = factory(root[\"React\"], root[\"classNames\"], root[\"$\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"ReactDOM\"], root[\"PropTypes\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_48__, __WEBPACK_EXTERNAL_MODULE_49__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-dom\"), require(\"react-grid-layout\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"classnames\", \"jquery\", \"react-redux\", \"redux\", \"react-simple-colorpicker\", \"react-dom\", \"react-grid-layout\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoLayoutEditor\"] = factory(require(\"react\"), require(\"classnames\"), require(\"jquery\"), require(\"react-redux\"), require(\"redux\"), require(\"react-simple-colorpicker\"), require(\"react-dom\"), require(\"react-grid-layout\"));\n\telse\n\t\troot[\"PhotoLayoutEditor\"] = factory(root[\"React\"], root[\"classNames\"], root[\"$\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"PropTypes\"], root[\"ReactDOM\"], root[\"PropTypes\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_48__, __WEBPACK_EXTERNAL_MODULE_49__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 34);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.resamplingImage = exports.Canvas = exports.makingImage = exports.uploader = exports.object = exports.color = exports.number = exports.util = undefined;\n\nvar _util = __webpack_require__(43);\n\nvar util = _interopRequireWildcard(_util);\n\nvar _number = __webpack_require__(39);\n\nvar number = _interopRequireWildcard(_number);\n\nvar _object = __webpack_require__(40);\n\nvar object = _interopRequireWildcard(_object);\n\nvar _color = __webpack_require__(37);\n\nvar color = _interopRequireWildcard(_color);\n\nvar _uploader = __webpack_require__(42);\n\nvar _uploader2 = _interopRequireDefault(_uploader);\n\nvar _makingImage = __webpack_require__(38);\n\nvar _makingImage2 = _interopRequireDefault(_makingImage);\n\nvar _Canvas = __webpack_require__(35);\n\nvar _Canvas2 = _interopRequireDefault(_Canvas);\n\nvar _resamplingImage = __webpack_require__(41);\n\nvar _resamplingImage2 = _interopRequireDefault(_resamplingImage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.util = util;\nexports.number = number;\nexports.color = color;\nexports.object = object;\nexports.uploader = _uploader2.default;\nexports.makingImage = _makingImage2.default;\nexports.Canvas = _Canvas2.default;\nexports.resamplingImage = _resamplingImage2.default;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.types = exports.body = exports.side = exports.cropper = exports.core = undefined;\n\nvar _core = __webpack_require__(31);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _body = __webpack_require__(30);\n\nvar body = _interopRequireWildcard(_body);\n\nvar _cropper = __webpack_require__(32);\n\nvar cropper = _interopRequireWildcard(_cropper);\n\nvar _side = __webpack_require__(33);\n\nvar side = _interopRequireWildcard(_side);\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.core = core;\nexports.cropper = cropper;\nexports.side = side;\nexports.body = body;\nexports.types = types;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar INIT_PLE = exports.INIT_PLE = 'INIT_PLE';\n\nvar SIDE_VISIBLE = exports.SIDE_VISIBLE = 'SIDE_VISIBLE';\nvar SIDE_ADD_FILES = exports.SIDE_ADD_FILES = 'SIDE_ADD_FILES';\nvar SIDE_REMOVE_FILES = exports.SIDE_REMOVE_FILES = 'SIDE_REMOVE_FILES';\nvar SIDE_UPDATE_SELECTED = exports.SIDE_UPDATE_SELECTED = 'SIDE_UPDATE_SELECTED';\nvar SIDE_TOGGLE = exports.SIDE_TOGGLE = 'SIDE_TOGGLE';\nvar SIDE_UPDATE_PROGRESS = exports.SIDE_UPDATE_PROGRESS = 'SIDE_UPDATE_PROGRESS';\n\nvar GRID_ATTACH_IMAGES = exports.GRID_ATTACH_IMAGES = 'GRID_ATTACH_IMAGES';\nvar GRID_ATTACH_IMAGE = exports.GRID_ATTACH_IMAGE = 'GRID_ATTACH_IMAGE';\n\nvar GRID_ADD_BLOCK = exports.GRID_ADD_BLOCK = 'GRID_ADD_BLOCK';\nvar GRID_REMOVE_BLOCK = exports.GRID_REMOVE_BLOCK = 'GRID_REMOVE_BLOCK';\nvar GRID_SHUFFLE_BLOCKS = exports.GRID_SHUFFLE_BLOCKS = 'GRID_SHUFFLE_BLOCKS';\nvar GRID_DUPLICATE_BLOCK = exports.GRID_DUPLICATE_BLOCK = 'GRID_DUPLICATE_BLOCK';\nvar GRID_UPDATE_BLOCKS = exports.GRID_UPDATE_BLOCKS = 'GRID_UPDATE_BLOCKS';\nvar GRID_ACTIVE_BLOCK = exports.GRID_ACTIVE_BLOCK = 'GRID_ACTIVE_BLOCK';\nvar GRID_SETTING_UPDATE = exports.GRID_SETTING_UPDATE = 'GRID_SETTING_UPDATE';\nvar GRID_CHANGE_COLOR = exports.GRID_CHANGE_COLOR = 'GRID_CHANGE_COLOR';\n\nvar CROPPER_OPEN = exports.CROPPER_OPEN = 'CROPPER_OPEN';\nvar CROPPER_CLOSE = exports.CROPPER_CLOSE = 'CROPPER_CLOSE';\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar setting = exports.setting = {\n\tbase: {\n\t\tuploadScript: null,\n\t\tuploadParamsConvertFunc: null\n\t},\n\tbody: {\n\t\tsetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t\tbgColor: 'rgba(255,255,255,1)'\n\t\t},\n\t\tblockColor: 'rgba(211,211,211,1)',\n\t\tgrid: []\n\t},\n\tside: {\n\t\tfiles: [],\n\t\tvisible: true\n\t\t//progressPercent: null,\n\t}\n};\n\nvar side = exports.side = {\n\tfiles: {},\n\tvisible: true,\n\tprogressPercent: null\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = API;\n\nvar _Side = __webpack_require__(15);\n\nvar _Side2 = _interopRequireDefault(_Side);\n\nvar _Grid = __webpack_require__(14);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _Cropper = __webpack_require__(13);\n\nvar _Cropper2 = _interopRequireDefault(_Cropper);\n\nvar _Util = __webpack_require__(16);\n\nvar _Util2 = _interopRequireDefault(_Util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction API(store) {\n\n\tthis.side = new _Side2.default(store);\n\tthis.grid = new _Grid2.default(store);\n\tthis.cropper = new _Cropper2.default(store);\n\tthis.util = new _Util2.default(store);\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _Body = __webpack_require__(21);\n\nvar _Body2 = _interopRequireDefault(_Body);\n\nvar _Side = __webpack_require__(28);\n\nvar _Side2 = _interopRequireDefault(_Side);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = (_temp = _class = function (_React$Component) {\n\t_inherits(Container, _React$Component);\n\n\tfunction Container() {\n\t\t_classCallCheck(this, Container);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).call(this));\n\n\t\t_this.el = null;\n\t\treturn _this;\n\t}\n\n\t_createClass(Container, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tprops.dispatch(actions.core.init(props.parent.api, props.parent.preference || { side: {}, body: {} }, this.el));\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t_this2.el = r;\n\t\t\t\t\t},\n\t\t\t\t\tclassName: (0, _classnames2.default)('ple-editor', { 'ple-side-active': props.tree.side.visible }) },\n\t\t\t\tprops.setting && _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-wrap' },\n\t\t\t\t\t_react2.default.createElement(_Body2.default, null),\n\t\t\t\t\t_react2.default.createElement(_Side2.default, null)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Container;\n}(_react2.default.Component), _class.displayName = 'Container', _class.defaultProps = {\n\tparent: {},\n\tdispatch: null,\n\ttree: {},\n\tsetting: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Container);\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _redux = __webpack_require__(8);\n\nvar _core = __webpack_require__(45);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _body = __webpack_require__(44);\n\nvar body = _interopRequireWildcard(_body);\n\nvar _side = __webpack_require__(47);\n\nvar _side2 = _interopRequireDefault(_side);\n\nvar _cropper = __webpack_require__(46);\n\nvar cropper = _interopRequireWildcard(_cropper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.default = (0, _redux.combineReducers)({\n\n\t// settings\n\tsetting: core.setting,\n\n\t// api\n\tapi: core.api,\n\n\t// keyboard event\n\tkeyboard: core.keyboard,\n\n\t// element\n\telement: core.element,\n\n\t// data tree\n\ttree: (0, _redux.combineReducers)({\n\t\tside: _side2.default,\n\t\tbody: (0, _redux.combineReducers)({\n\t\t\tsetting: body.setting,\n\t\t\tgrid: body.grid,\n\t\t\tactiveBlock: body.activeBlock\n\t\t}),\n\t\tcropper: (0, _redux.combineReducers)({\n\t\t\tvisible: cropper.visible,\n\t\t\titem: cropper.item,\n\t\t\tkey: cropper.key\n\t\t})\n\t})\n\n});\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cropper = function () {\n\tfunction Cropper(store) {\n\t\t_classCallCheck(this, Cropper);\n\n\t\tthis.store = store;\n\t}\n\n\t_createClass(Cropper, [{\n\t\tkey: 'open',\n\t\tvalue: function open(key) {\n\t\t\tvar state = this.store.getState();\n\t\t\tvar item = null;\n\n\t\t\ttry {\n\t\t\t\titem = state.tree.body.grid[key];\n\t\t\t\tif (!item.image) throw 'Not found image in item';\n\t\t\t} catch (e) {\n\t\t\t\talert(e);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.store.dispatch(actions.cropper.open(key, item));\n\t\t}\n\t}, {\n\t\tkey: 'close',\n\t\tvalue: function close(key, position, size) {\n\t\t\tthis.store.dispatch(actions.cropper.close(key, position, size));\n\t\t}\n\t}]);\n\n\treturn Cropper;\n}();\n\nexports.default = Cropper;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Grid = function () {\n\tfunction Grid(store) {\n\t\t_classCallCheck(this, Grid);\n\n\t\tthis.store = store;\n\t}\n\n\t/**\n  * get keys in block\n  *\n  * @param {String} mode\n  * @param {Array} keys\n  * @return {Array}\n  */\n\n\n\t_createClass(Grid, [{\n\t\tkey: 'getKeys',\n\t\tvalue: function getKeys() {\n\t\t\tvar mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\tvar result = [];\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase 'selected':\n\t\t\t\t\treturn body.activeBlock;\n\t\t\t\tcase 'value':\n\t\t\t\t\tresult = [];\n\t\t\t\t\tkeys.forEach(function (k) {\n\t\t\t\t\t\tif (body.grid[k]) {\n\t\t\t\t\t\t\tresult.push(k);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn result;\n\t\t\t\tcase 'all':\n\t\t\t\tdefault:\n\t\t\t\t\treturn Object.keys(body.grid).map(function (k) {\n\t\t\t\t\t\treturn k;\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * get blocks\n   *\n   * @param {String} mode\n   * @param {Array} keys\n   * @return {Object}\n   */\n\n\t}, {\n\t\tkey: 'getBlocks',\n\t\tvalue: function getBlocks() {\n\t\t\tvar mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\tvar selected = [];\n\t\t\tvar result = {};\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase 'selected':\n\t\t\t\t\tselected = this.getKeys('selected');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'value':\n\t\t\t\t\tselected = this.getKeys('value', keys);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'all':\n\t\t\t\tdefault:\n\t\t\t\t\treturn body.grid;\n\t\t\t}\n\n\t\t\tselected.forEach(function (k) {\n\t\t\t\tif (!body.grid[k]) return;\n\t\t\t\tresult[k] = body.grid[k];\n\t\t\t});\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n   * shuffle items\n   *\n   * @param {Object} options\n   */\n\n\t}, {\n\t\tkey: 'shuffle',\n\t\tvalue: function shuffle() {\n\t\t\tvar options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\tvar defaultOptions = { x: body.setting.column, y: 2, w: 2, h: 2 };\n\n\t\t\t// assign options\n\t\t\toptions = Object.assign({}, defaultOptions, options);\n\n\t\t\tthis.store.dispatch(actions.body.shuffleBlocks(options));\n\t\t}\n\n\t\t/**\n   * assign image\n   *\n   * @param {Array} images\n   */\n\n\t}, {\n\t\tkey: 'assignImages',\n\t\tvalue: function assignImages() {\n\t\t\tvar images = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\n\t\t\tthis.store.dispatch(actions.body.attachImages(images, body.setting.column, body.activeBlock));\n\t\t}\n\n\t\t/**\n   * assign image\n   *\n   * @param {Number} key\n   * @param {String} image\n   */\n\n\t}, {\n\t\tkey: 'assignImage',\n\t\tvalue: function assignImage() {\n\t\t\tvar key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar image = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\t\t\tif (!(key !== null && image !== null)) return;\n\t\t\tthis.store.dispatch(actions.body.attachImage(key, image));\n\t\t}\n\n\t\t/**\n   * remove images\n   *\n   * @param {Array} keys\n   */\n\n\t}, {\n\t\tkey: 'removeImages',\n\t\tvalue: function removeImages() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar newGrid = Object.assign({}, state.tree.body.grid);\n\t\t\tkeys.forEach(function (k) {\n\t\t\t\tnewGrid[k].image = null;\n\t\t\t});\n\t\t\tthis.update(newGrid);\n\t\t}\n\n\t\t/**\n   * add blocks\n   *\n   * @param {Array} blocks\n   */\n\n\t}, {\n\t\tkey: 'add',\n\t\tvalue: function add() {\n\t\t\tvar blocks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar _store = this.store,\n\t\t\t    getState = _store.getState,\n\t\t\t    dispatch = _store.dispatch;\n\n\t\t\tvar state = getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\tvar defaultOptions = {\n\t\t\t\tlayout: {\n\t\t\t\t\tx: Object.keys(body.grid).length % body.setting.column,\n\t\t\t\t\ty: Infinity,\n\t\t\t\t\tw: 1,\n\t\t\t\t\th: 1\n\t\t\t\t},\n\t\t\t\tcolor: null,\n\t\t\t\timage: null\n\t\t\t};\n\n\t\t\t/**\n    * add block\n    *\n    * @param {Object} options\n    */\n\t\t\tfunction block() {\n\t\t\t\tvar options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\t\t// assign option\n\t\t\t\toptions = Object.assign({}, defaultOptions, options);\n\t\t\t\toptions.layout = Object.assign({}, defaultOptions.layout, options.layout);\n\t\t\t\toptions.image = options.image ? {\n\t\t\t\t\tsrc: options.image,\n\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\tsize: 'cover'\n\t\t\t\t} : null;\n\n\t\t\t\tdispatch(actions.body.addBlock(options));\n\t\t\t}\n\n\t\t\t// checking blocks\n\t\t\tblocks = blocks && blocks.length ? blocks : [null];\n\n\t\t\t// play add blocks\n\t\t\tblocks.forEach(function (o) {\n\t\t\t\treturn block(o);\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * update blocks\n   *\n   * @param {Object} blocks\n   */\n\n\t}, {\n\t\tkey: 'update',\n\t\tvalue: function update() {\n\t\t\tvar blocks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tthis.store.dispatch(actions.body.updateBlocks(blocks));\n\t\t}\n\n\t\t/**\n   * remove blocks\n   *\n   * @param {Array} keys\n   */\n\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tthis.store.dispatch(actions.body.removeBlock(keys));\n\t\t}\n\n\t\t/**\n   * select blocks\n   *\n   * @param {Array} keys\n   */\n\n\t}, {\n\t\tkey: 'select',\n\t\tvalue: function select() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tkeys = keys.map(function (k) {\n\t\t\t\treturn k.toString();\n\t\t\t});\n\t\t\tthis.store.dispatch(actions.body.activeBlock(keys));\n\t\t}\n\n\t\t/**\n   * un select blocks\n   *\n   * @param {Array} keys\n   */\n\n\t}, {\n\t\tkey: 'unselect',\n\t\tvalue: function unselect() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar newActiveBlock = Object.assign([], state.tree.body.activeBlock);\n\n\t\t\tkeys.forEach(function (k) {\n\t\t\t\tk = k.toString();\n\t\t\t\tif (newActiveBlock.indexOf(k) !== -1) {\n\t\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(k), 1);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.store.dispatch(actions.body.activeBlock(newActiveBlock));\n\t\t}\n\n\t\t/**\n   * toggle select all blocks\n   *\n   * @param {Boolean} isSelect\n   */\n\n\t}, {\n\t\tkey: 'toggleSelectAll',\n\t\tvalue: function toggleSelectAll() {\n\t\t\tvar isSelect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\tvar state = this.store.getState();\n\n\t\t\tif (typeof isSelect !== 'boolean') {\n\t\t\t\tisSelect = !state.tree.body.activeBlock.length;\n\t\t\t}\n\t\t\tif (isSelect) {\n\t\t\t\tthis.select(this.getKeys('all'));\n\t\t\t} else {\n\t\t\t\tthis.select([]);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * duplicate blocks\n   *\n   * @param {Array} keys\n   */\n\n\t}, {\n\t\tkey: 'duplicate',\n\t\tvalue: function duplicate() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tthis.store.dispatch(actions.body.duplicateBlock(keys));\n\t\t}\n\n\t\t/**\n   * get preference\n   *\n   * @return {Object}\n   */\n\n\t}, {\n\t\tkey: 'getPreference',\n\t\tvalue: function getPreference() {\n\t\t\tvar state = this.store.getState();\n\t\t\treturn state.tree.body.setting;\n\t\t}\n\n\t\t/**\n   * set preference\n   *\n   * @param {Object} value\n   */\n\n\t}, {\n\t\tkey: 'setPreference',\n\t\tvalue: function setPreference() {\n\t\t\tvar value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar newPreference = Object.assign({}, this.getPreference(), value);\n\t\t\tthis.store.dispatch(actions.body.updateSetting(newPreference));\n\t\t}\n\t}]);\n\n\treturn Grid;\n}();\n\nexports.default = Grid;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Side = function () {\n\tfunction Side(store) {\n\t\t_classCallCheck(this, Side);\n\n\t\tthis.store = store;\n\t\tthis.uploading = false;\n\t}\n\n\t/**\n  * get id in item\n  *\n  * @param {String} mode\n  * @param {Array} keys\n  */\n\n\n\t_createClass(Side, [{\n\t\tkey: 'getKeys',\n\t\tvalue: function getKeys() {\n\t\t\tvar mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar files = state.tree.side.files;\n\n\t\t\tvar result = [];\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase 'selected':\n\t\t\t\t\tObject.keys(files).forEach(function (o) {\n\t\t\t\t\t\tif (files[o].active) {\n\t\t\t\t\t\t\tresult.push(parseInt(o));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'value':\n\t\t\t\t\tkeys.forEach(function (o) {\n\t\t\t\t\t\tif (files[o]) {\n\t\t\t\t\t\t\tresult.push(parseInt(o));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'all':\n\t\t\t\tdefault:\n\t\t\t\t\tresult = Object.keys(files).map(function (o) {\n\t\t\t\t\t\treturn parseInt(o);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n   * Add files\n   *\n   * @param {Array} files\n   * @return {Error}\n   */\n\n\t}, {\n\t\tkey: 'add',\n\t\tvalue: function add(files) {\n\t\t\ttry {\n\t\t\t\tif (!(files instanceof Array)) {\n\t\t\t\t\tthrow new Error('not found files');\n\t\t\t\t}\n\t\t\t\tthis.store.dispatch(actions.side.addFiles(files));\n\t\t\t} catch (e) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'selection',\n\n\n\t\t/**\n   * selection items\n   *\n   * @param {Array} keys\n   * @param {Boolean} active\n   * @return {Error}\n   */\n\t\tvalue: function selection() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t\t\tvar active = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n\t\t\ttry {\n\t\t\t\tvar selected = this.getKeys('value', keys);\n\t\t\t\tif (selected.length <= 0) {\n\t\t\t\t\tthrow new Error('not found select item');\n\t\t\t\t}\n\t\t\t\tselected = selected.map(function (o) {\n\t\t\t\t\treturn { key: o, active: active };\n\t\t\t\t});\n\t\t\t\tthis.store.dispatch(actions.side.updateSelected(selected));\n\t\t\t} catch (e) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * select items\n   *\n   * @param {Array} value\n   */\n\n\t}, {\n\t\tkey: 'select',\n\t\tvalue: function select() {\n\t\t\tvar value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tthis.store.dispatch(actions.side.updateSelected(value));\n\t\t}\n\n\t\t/**\n   * toggle select all\n   *\n   * @param {Boolean} active\n   */\n\n\t}, {\n\t\tkey: 'toggleSelectAll',\n\t\tvalue: function toggleSelectAll() {\n\t\t\tvar active = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\tif (typeof active === 'boolean') {\n\t\t\t\tvar selected = this.getKeys('all');\n\t\t\t\tthis.selection(selected, active);\n\t\t\t} else {\n\t\t\t\tvar activeCount = this.getKeys('selected').length;\n\t\t\t\tvar keys = this.getKeys('all');\n\t\t\t\tthis.selection(keys, !(activeCount > 0));\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * remove items\n   *\n   * @param {Array} keys\n   * @return {Error}\n   */\n\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\ttry {\n\t\t\t\tif (!keys.length) {\n\t\t\t\t\tthrow new Error('Not found items.');\n\t\t\t\t}\n\t\t\t\tthis.store.dispatch(actions.side.removeFiles(keys));\n\t\t\t} catch (e) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Clear items\n   */\n\n\t}, {\n\t\tkey: 'clear',\n\t\tvalue: function clear() {\n\t\t\tvar keys = this.getKeys('all');\n\t\t\tthis.store.dispatch(actions.side.removeFiles(keys));\n\t\t}\n\n\t\t/**\n   * Upload files\n   *\n   * @param {FileList} files\n   * @param {Object} callbacks\n   */\n\n\t}, {\n\t\tkey: 'upload',\n\t\tvalue: function upload(files) {\n\t\t\tvar _this = this;\n\n\t\t\tvar callbacks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\t/**\n    * @param {Function} callbacks.start\n    * @param {Function} callbacks.progress\n    * @param {Function} callbacks.complete\n    * @param {Function} callbacks.completeAll\n    * @param {Function} callbacks.fail\n    */\n\t\t\tif (this.uploading) return;\n\n\t\t\tvar state = this.store.getState();\n\t\t\tthis.uploading = true;\n\n\t\t\tif (callbacks.start) callbacks.start();\n\n\t\t\tlib.uploader(files, state.setting.base.uploadScript).progress(function (type, res) {\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'start':\n\t\t\t\t\t\t_this.store.dispatch(actions.side.updateProgress(0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'progress':\n\t\t\t\t\t\tvar percent = parseInt(res.loaded / res.total * 100);\n\t\t\t\t\t\t_this.store.dispatch(actions.side.updateProgress(percent));\n\t\t\t\t\t\tif (callbacks.progress) callbacks.progress(res.loaded, res.total, percent);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'done':\n\t\t\t\t\t\t_this.store.dispatch(actions.side.updateProgress(null));\n\t\t\t\t\t\tif (!res.data) return;\n\t\t\t\t\t\tif (state.setting.base.uploadParamsConvertFunc) {\n\t\t\t\t\t\t\tvar result = state.setting.base.uploadParamsConvertFunc(res.data);\n\t\t\t\t\t\t\t_this.store.dispatch(actions.side.addFiles([result]));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.store.dispatch(actions.side.addFiles([res.data.url]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (callbacks.complete) callbacks.complete(res.data);\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}).done(function () {\n\t\t\t\t_this.uploading = false;\n\t\t\t\tif (callbacks.completeAll) callbacks.completeAll();\n\t\t\t}).fail(function (error) {\n\t\t\t\t_this.uploading = false;\n\t\t\t\tif (callbacks.fail) callbacks.fail(error);\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * attach items to grid\n   *\n   * @param {Array} keys\n   * @return {Error}\n   */\n\n\t}, {\n\t\tkey: 'attachToGrid',\n\t\tvalue: function attachToGrid() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar body = state.tree.body;\n\n\t\t\ttry {\n\t\t\t\tvar selectedImages = this.getImages(keys);\n\t\t\t\tif (!selectedImages.length) {\n\t\t\t\t\tthrow new Error('not found item.');\n\t\t\t\t}\n\t\t\t\tthis.store.dispatch(actions.body.attachImages(selectedImages, body.setting.column, body.activeBlock));\n\t\t\t} catch (e) {\n\t\t\t\treturn e;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * get items\n   *\n   * @param {Array} keys\n   * @return {Object}\n   */\n\n\t}, {\n\t\tkey: 'getItems',\n\t\tvalue: function getItems() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar state = this.store.getState();\n\t\t\tvar side = state.tree.side;\n\n\t\t\tkeys = this.getKeys('value', keys);\n\t\t\tvar result = {};\n\t\t\tkeys.forEach(function (o) {\n\t\t\t\tif (side.files[o]) {\n\t\t\t\t\tresult[o] = side.files[o];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n   * get images\n   *\n   * @param {Array} keys\n   * @return {Array}\n   */\n\n\t}, {\n\t\tkey: 'getImages',\n\t\tvalue: function getImages() {\n\t\t\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tvar items = this.getItems(keys);\n\t\t\treturn Object.keys(items).map(function (o) {\n\t\t\t\treturn items[o].image;\n\t\t\t});\n\t\t}\n\t}]);\n\n\treturn Side;\n}();\n\nexports.default = Side;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Util = function () {\n\tfunction Util(store) {\n\t\t_classCallCheck(this, Util);\n\n\t\tthis.store = store;\n\t}\n\n\t/**\n  * Toggle side\n  *\n  * @param {Boolean|undefined} sw\n  */\n\n\n\t_createClass(Util, [{\n\t\tkey: 'toggleSide',\n\t\tvalue: function toggleSide() {\n\t\t\tvar sw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\t\ttry {\n\t\t\t\tvar currentSw = this.store.getState().tree.side.visible;\n\t\t\t\tvar targetSw = typeof sw === 'undefined' ? !currentSw : sw;\n\n\t\t\t\tthis.store.dispatch(actions.side.visible(targetSw));\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn('Error action', e);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'export',\n\n\n\t\t/**\n   * export\n   *\n   * @param {String} type\n   * @return {Array|Object}\n   */\n\t\tvalue: function _export() {\n\t\t\tvar type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\tif (!type) return null;\n\n\t\t\tvar state = this.store.getState();\n\n\t\t\tfunction side() {\n\t\t\t\tvar keys = state.api.side.getKeys('all');\n\t\t\t\treturn state.api.side.getImages(keys);\n\t\t\t}\n\t\t\tfunction grid() {\n\t\t\t\tvar result = state.api.grid.getBlocks('all');\n\t\t\t\treturn Object.keys(result).sort().map(function (o) {\n\t\t\t\t\tdelete result[o].indexPrefix;\n\t\t\t\t\treturn result[o];\n\t\t\t\t});\n\t\t\t}\n\t\t\tfunction preference() {\n\t\t\t\treturn state.api.grid.getPreference();\n\t\t\t}\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'side':\n\t\t\t\t\treturn side();\n\t\t\t\tcase 'grid':\n\t\t\t\t\treturn grid();\n\t\t\t\tcase 'preference':\n\t\t\t\t\treturn state.api.grid.getPreference();\n\t\t\t\tcase 'all':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tside: side(),\n\t\t\t\t\t\tgrid: grid(),\n\t\t\t\t\t\tpreference: preference()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\t/**\n   * import\n   *\n   * @param {String} type\n   * @param {Array|Object} value\n   * @param {Boolean} replace\n   */\n\n\t}, {\n\t\tkey: 'import',\n\t\tvalue: function _import() {\n\t\t\tvar type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\t\t\tvar replace = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n\t\t\tif (!(type && value)) return;\n\n\t\t\tvar state = this.store.getState();\n\n\t\t\tfunction side() {\n\t\t\t\tvar value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\t\tif (replace) state.api.side.clear();\n\t\t\t\tstate.api.side.add(value);\n\t\t\t}\n\t\t\tfunction grid() {\n\t\t\t\tvar value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\t\tif (replace) {\n\t\t\t\t\tvar keys = state.api.grid.getKeys('all');\n\t\t\t\t\tstate.api.grid.remove(keys);\n\t\t\t\t}\n\t\t\t\tstate.api.grid.add(value);\n\t\t\t}\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'side':\n\t\t\t\t\tside(value);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'grid':\n\t\t\t\t\tgrid(value);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'preference':\n\t\t\t\t\tstate.api.grid.setPreference(value);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'all':\n\t\t\t\t\tside(value.side);\n\t\t\t\t\tgrid(value.grid);\n\t\t\t\t\tstate.api.grid.setPreference(value.preference);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * make image\n   *\n   * @param {String} format (jpg|png)\n   * @param {Number} quality\n   * @param {Number} sampling\n   * @param {String} output\n   * @return {Promise}\n   */\n\n\t}, {\n\t\tkey: 'makeImage',\n\t\tvalue: function makeImage() {\n\t\t\tvar format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'jpg';\n\t\t\tvar quality = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : .75;\n\t\t\tvar sampling = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2;\n\t\t\tvar output = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n\t\t\tvar defer = _jquery2.default.Deferred();\n\t\t\tvar state = this.store.getState();\n\t\t\tvar _state$tree$body = state.tree.body,\n\t\t\t    setting = _state$tree$body.setting,\n\t\t\t    grid = _state$tree$body.grid;\n\n\n\t\t\tlib.makingImage(state.element.querySelector('.ple-grid'), { setting: setting, grid: grid }, { format: format, quality: quality, sampling: sampling, output: output }).done(function (image) {\n\t\t\t\tdefer.resolve(image);\n\t\t\t}).progress(function (total, current, image) {\n\t\t\t\tdefer.notify(total, current, image);\n\t\t\t}).fail(function () {\n\t\t\t\tdefer.reject();\n\t\t\t});\n\n\t\t\treturn defer.promise();\n\t\t}\n\t}]);\n\n\treturn Util;\n}();\n\nexports.default = Util;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _reactGridLayout = __webpack_require__(49);\n\nvar _reactGridLayout2 = _interopRequireDefault(_reactGridLayout);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Cropper = __webpack_require__(23);\n\nvar _Cropper2 = _interopRequireDefault(_Cropper);\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar timeStamp = [];\n\nvar GridLayout = (_temp = _class = function (_React$Component) {\n\t_inherits(GridLayout, _React$Component);\n\n\tfunction GridLayout(props) {\n\t\t_classCallCheck(this, GridLayout);\n\n\t\treturn _possibleConstructorReturn(this, (GridLayout.__proto__ || Object.getPrototypeOf(GridLayout)).call(this, props));\n\t}\n\n\t/**\n  * on select block\n  *\n  * @param {String} key\n  */\n\n\n\t_createClass(GridLayout, [{\n\t\tkey: '_selectBlock',\n\t\tvalue: function _selectBlock() {\n\t\t\tvar key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\t\tvar props = this.props;\n\n\n\t\t\tif (key === null) {\n\t\t\t\tprops.api.grid.select([]);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (props.keyboard.keyName) {\n\t\t\t\tcase 'CMD':\n\t\t\t\tcase 'CTRL':\n\t\t\t\tcase 'SHIFT':\n\t\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\t\t\tvar newActiveBlock = Object.assign([], props.tree.body.activeBlock);\n\t\t\t\t\t\tif (newActiveBlock.indexOf(key) > -1) {\n\t\t\t\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(key), 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewActiveBlock.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprops.api.grid.select(newActiveBlock);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tprops.api.grid.select([key]);\n\t\t}\n\n\t\t/**\n   * On update blocks\n   *\n   * @param {String} type\n   * @param {Array} layout\n   * @param {HTMLElement} element\n   */\n\n\t}, {\n\t\tkey: '_updateBlocks',\n\t\tvalue: function _updateBlocks(type) {\n\t\t\tvar layout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\t\t\tvar element = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\t\t\tvar props = this.props;\n\n\t\t\t/**\n    * convert layout\n    *\n    * @return {Object}\n    */\n\n\t\t\tfunction convertLayout() {\n\t\t\t\tvar result = {};\n\t\t\t\tfor (var i = 0; i < layout.length; i++) {\n\t\t\t\t\tresult[layout[i].i.split('__')[1]] = layout[i];\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'start':\n\t\t\t\t\ttimeStamp[0] = new Date().getTime();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'end':\n\t\t\t\t\ttimeStamp[1] = new Date().getTime();\n\t\t\t\t\tif (timeStamp[1] - timeStamp[0] > 400) {\n\t\t\t\t\t\tvar newLayout = convertLayout();\n\t\t\t\t\t\tvar newGrid = {};\n\t\t\t\t\t\tObject.keys(props.tree.body.grid).forEach(function (k) {\n\t\t\t\t\t\t\tnewGrid[k] = _extends({}, props.tree.body.grid[k], {\n\t\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\t\tx: newLayout[k].x,\n\t\t\t\t\t\t\t\t\ty: newLayout[k].y,\n\t\t\t\t\t\t\t\t\tw: newLayout[k].w,\n\t\t\t\t\t\t\t\t\th: newLayout[k].h\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tprops.dispatch(actions.body.updateBlocks(newGrid));\n\t\t\t\t\t}\n\t\t\t\t\ttimeStamp = [];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Render item\n   *\n   * @param {String} k\n   * @return {Component}\n   */\n\n\t}, {\n\t\tkey: 'renderItem',\n\t\tvalue: function renderItem(k) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar _props$tree$body = props.tree.body,\n\t\t\t    activeBlock = _props$tree$body.activeBlock,\n\t\t\t    grid = _props$tree$body.grid;\n\n\t\t\tvar item = grid[k];\n\n\t\t\tvar key = item.indexPrefix + '__' + k;\n\t\t\tvar active = !!(activeBlock && activeBlock.length && activeBlock.indexOf(k) > -1);\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tkey: key,\n\t\t\t\t\t'data-grid': item.layout,\n\t\t\t\t\t'data-key': k,\n\t\t\t\t\tonClick: function onClick(event) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t_this2._selectBlock(k, !!item.image);\n\t\t\t\t\t},\n\t\t\t\t\tstyle: { backgroundColor: item.color || props.setting.body.blockColor },\n\t\t\t\t\tclassName: (0, _classnames2.default)({ 'ple-grid__item-active': active }) },\n\t\t\t\titem.image && _react2.default.createElement('figure', {\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tbackgroundImage: 'url(\\'' + item.image.src + '\\')',\n\t\t\t\t\t\tbackgroundPosition: item.image.position,\n\t\t\t\t\t\tbackgroundSize: item.image.size\n\t\t\t\t\t} })\n\t\t\t);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar setting = props.tree.body.setting;\n\n\t\t\tvar bodyWidth = setting.width * setting.column + setting.innerMargin * (setting.column - 1) + setting.outerMargin * 2;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-grid__wrap', onClick: function onClick() {\n\t\t\t\t\t\treturn _this3._selectBlock();\n\t\t\t\t\t} },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-grid__body', style: { width: bodyWidth + 'px' } },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactGridLayout2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tautoSize: true,\n\t\t\t\t\t\t\tcols: setting.column,\n\t\t\t\t\t\t\trowHeight: setting.height,\n\t\t\t\t\t\t\twidth: bodyWidth,\n\t\t\t\t\t\t\tmargin: [setting.innerMargin, setting.innerMargin],\n\t\t\t\t\t\t\tcontainerPadding: [setting.outerMargin, setting.outerMargin],\n\t\t\t\t\t\t\tverticalCompact: !setting.freeMode,\n\t\t\t\t\t\t\tonDragStart: function onDragStart() {\n\t\t\t\t\t\t\t\treturn _this3._updateBlocks('start');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonDragStop: function onDragStop(layout, oldItem, newItem, placeholder, e, element) {\n\t\t\t\t\t\t\t\treturn _this3._updateBlocks('end', layout, element);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonResizeStart: function onResizeStart() {\n\t\t\t\t\t\t\t\treturn _this3._updateBlocks('start');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonResizeStop: function onResizeStop(layout, oldItem, newItem, placeholder, e, element) {\n\t\t\t\t\t\t\t\treturn _this3._updateBlocks('end', layout, element);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\tbackgroundColor: setting.bgColor\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tclassName: 'ple-grid' },\n\t\t\t\t\t\tObject.keys(props.tree.body.grid).map(this.renderItem.bind(this))\n\t\t\t\t\t),\n\t\t\t\t\tprops.tree.cropper.visible ? _react2.default.createElement(_Cropper2.default, null) : null\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn GridLayout;\n}(_react2.default.Component), _class.displayName = 'GridLayout', _class.defaultProps = {\n\ttree: null,\n\tdispatch: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(GridLayout);\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Button = (_temp = _class = function (_React$Component) {\n\t_inherits(Button, _React$Component);\n\n\tfunction Button() {\n\t\t_classCallCheck(this, Button);\n\n\t\treturn _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n\t}\n\n\t_createClass(Button, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: (0, _classnames2.default)('ple-toolbar__block', props.className) },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ type: 'button', title: props.title, onClick: props.onClick },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: (0, _classnames2.default)('ple-sp-ico', 'ple-abs', props.iconClass) },\n\t\t\t\t\t\tprops.title\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t!!props.children && _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-toolbar__pop' },\n\t\t\t\t\tprops.children\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Button;\n}(_react2.default.Component), _class.displayName = 'Button', _temp);\nexports.default = Button;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactSimpleColorpicker = __webpack_require__(9);\n\nvar _reactSimpleColorpicker2 = _interopRequireDefault(_reactSimpleColorpicker);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EditLayoutSetting = (_temp = _class = function (_React$Component) {\n\t_inherits(EditLayoutSetting, _React$Component);\n\n\tfunction EditLayoutSetting(props) {\n\t\t_classCallCheck(this, EditLayoutSetting);\n\n\t\tvar _this = _possibleConstructorReturn(this, (EditLayoutSetting.__proto__ || Object.getPrototypeOf(EditLayoutSetting)).call(this, props));\n\n\t\t_this.state = _extends({}, props.defaultSetting, props.setting, {\n\t\t\tpopup_bgColor: false\n\t\t});\n\t\treturn _this;\n\t}\n\n\t_createClass(EditLayoutSetting, [{\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.setState(_extends({}, props.defaultSetting, props.setting));\n\t\t}\n\t}, {\n\t\tkey: 'activeBgColorPopup',\n\t\tvalue: function activeBgColorPopup(sw, e) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar state = this.state;\n\n\t\t\tvar cTarget = e ? e.currentTarget : null;\n\n\t\t\tsw = sw || !state.popup_bgColor;\n\n\t\t\tif (sw) {\n\t\t\t\t(0, _jquery2.default)(document).on('click.pleEditBgColor', function (e) {\n\t\t\t\t\tif ((0, _jquery2.default)(e.target).closest('.ple-edit-bgColor__popup').length) return;\n\t\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget)) {\n\t\t\t\t\t\t_this2.activeBgColorPopup(false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t(0, _jquery2.default)(document).off('click.pleEditBgColor');\n\t\t\t}\n\n\t\t\tthis.setState({ popup_bgColor: sw });\n\t\t}\n\t}, {\n\t\tkey: '_submit',\n\t\tvalue: function _submit(e) {\n\t\t\te.preventDefault();\n\t\t\tthis.props.submit(this.state);\n\t\t}\n\t}, {\n\t\tkey: '_reset',\n\t\tvalue: function _reset() {\n\t\t\tthis.setState(_extends({}, this.props.defaultSetting));\n\t\t}\n\t}, {\n\t\tkey: '_change',\n\t\tvalue: function _change(e) {\n\t\t\tswitch (e.target.type) {\n\t\t\t\tcase 'text':\n\t\t\t\t\tthis.setState(_defineProperty({}, e.target.name, e.target.value));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\tthis.setState(_defineProperty({}, e.target.name, parseInt(e.target.value)));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_openBgColorPicker',\n\t\tvalue: function _openBgColorPicker(e) {\n\t\t\te.persist();\n\t\t\tthis.activeBgColorPopup(null, e);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'form',\n\t\t\t\t{ onSubmit: this._submit.bind(this), className: 'ple-edit-setting' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'fieldset',\n\t\t\t\t\t{ className: 'ple-edit-setting__form' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'legend',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Settings form'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h1',\n\t\t\t\t\t\t{ className: 'ple-edit-setting__title' },\n\t\t\t\t\t\t'Settings'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_width' },\n\t\t\t\t\t\t\t\t'Width'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'width', id: 'frm_width',\n\t\t\t\t\t\t\t\tmin: 1, max: 999, maxLength: 3,\n\t\t\t\t\t\t\t\tvalue: state.width,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_height' },\n\t\t\t\t\t\t\t\t'Height'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'height', id: 'frm_height',\n\t\t\t\t\t\t\t\tmin: 1, max: 999,\n\t\t\t\t\t\t\t\tvalue: state.height,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_column' },\n\t\t\t\t\t\t\t\t'Column'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'column', id: 'frm_column',\n\t\t\t\t\t\t\t\tmin: 1, max: 99,\n\t\t\t\t\t\t\t\tvalue: state.column,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'ea'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_outerMargin' },\n\t\t\t\t\t\t\t\t'Outer margin'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'outerMargin', id: 'frm_outerMargin',\n\t\t\t\t\t\t\t\tmin: 0, max: 500,\n\t\t\t\t\t\t\t\tvalue: state.outerMargin,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\t{ className: 'ple-type-input' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_innerMargin' },\n\t\t\t\t\t\t\t\t'Inner margin'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\ttype: 'number', name: 'innerMargin', id: 'frm_innerMargin',\n\t\t\t\t\t\t\t\tmin: 0, max: 500,\n\t\t\t\t\t\t\t\tvalue: state.innerMargin,\n\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t'px'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_bgColor' },\n\t\t\t\t\t\t\t\t'Bg color'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{ className: 'ple-edit-bgColor' },\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ className: (0, _classnames2.default)('ple-edit-bgColor__inputBox', {\n\t\t\t\t\t\t\t\t\t\t\t'ple-edit-bgColor__inputBox-active': state.popup_bgColor\n\t\t\t\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\tname: 'bgColor',\n\t\t\t\t\t\t\t\t\t\tid: 'frm_bgColor',\n\t\t\t\t\t\t\t\t\t\tvalue: state.bgColor,\n\t\t\t\t\t\t\t\t\t\tonChange: this._change.bind(this),\n\t\t\t\t\t\t\t\t\t\tonClick: this._openBgColorPicker.bind(this),\n\t\t\t\t\t\t\t\t\t\treadOnly: true,\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tclassName: 'ple-edit-bgColor__input',\n\t\t\t\t\t\t\t\t\t\tstyle: { backgroundColor: state.bgColor }\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tstate.popup_bgColor && _react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t{ className: 'ple-edit-bgColor__popup' },\n\t\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t{ className: 'ple-edit-bgColor__picker' },\n\t\t\t\t\t\t\t\t\t\t_react2.default.createElement(_reactSimpleColorpicker2.default, {\n\t\t\t\t\t\t\t\t\t\t\tonChange: function onChange(color) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn _this3.setState({ bgColor: color });\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tcolor: state.bgColor })\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'dl',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dt',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t{ htmlFor: 'frm_freeMode' },\n\t\t\t\t\t\t\t\t'Free mode'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'dd',\n\t\t\t\t\t\t\t{ className: 'ple-type-checkbox' },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\ttype: 'radio', name: 'freeMode', id: 'frm_freeMode',\n\t\t\t\t\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\t\t\t\t\treturn _this3.setState({ freeMode: true });\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchecked: state.freeMode }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'true'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\t\t\t\ttype: 'radio', name: 'freeMode',\n\t\t\t\t\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\t\t\t\t\treturn _this3.setState({ freeMode: false });\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchecked: !state.freeMode }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'nav',\n\t\t\t\t\t{ className: 'ple-edit-setting__buttons' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'button', onClick: this._reset.bind(this) },\n\t\t\t\t\t\t\t'Reset'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'submit', className: 'ple-submit' },\n\t\t\t\t\t\t\t'Apply'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn EditLayoutSetting;\n}(_react2.default.Component), _class.displayName = 'EditLayoutSetting', _class.defaultProps = {\n\tsubmit: function submit(e) {},\n\tsetting: null,\n\tdefaultSetting: {\n\t\twidth: 100,\n\t\theight: 100,\n\t\tcolumn: 5,\n\t\touterMargin: 10,\n\t\tinnerMargin: 10,\n\t\tfreeMode: false,\n\t\tbgColor: 'rgba(255,255,255,1)'\n\t}\n}, _temp);\nexports.default = EditLayoutSetting;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactSimpleColorpicker = __webpack_require__(9);\n\nvar _reactSimpleColorpicker2 = _interopRequireDefault(_reactSimpleColorpicker);\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nvar _Button = __webpack_require__(18);\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _EditLayoutSetting = __webpack_require__(19);\n\nvar _EditLayoutSetting2 = _interopRequireDefault(_EditLayoutSetting);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Toolbar = (_temp = _class = function (_React$Component) {\n\t_inherits(Toolbar, _React$Component);\n\n\tfunction Toolbar(props) {\n\t\t_classCallCheck(this, Toolbar);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, props));\n\n\t\t_this.state = {\n\t\t\tactive: {\n\t\t\t\tsetting: false,\n\t\t\t\teditBlockColor: false\n\t\t\t},\n\t\t\tvisible: {\n\t\t\t\tsetting: true,\n\t\t\t\tshuffle: true,\n\t\t\t\tadd: true,\n\t\t\t\tselect: true,\n\t\t\t\tedit: false,\n\t\t\t\tremoveImage: false,\n\t\t\t\tduplicate: false,\n\t\t\t\tremoveBlock: false,\n\t\t\t\teditColor: false\n\t\t\t}\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(Toolbar, [{\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps(nextProps) {\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\tvar newState = Object.assign({}, state);\n\t\t\tvar updated = false;\n\n\t\t\t// select block\n\t\t\tif (props.tree.body.activeBlock.length !== nextProps.tree.body.activeBlock.length) {\n\t\t\t\t//console.log(isImage);\n\t\t\t\tvar active = !!nextProps.tree.body.activeBlock.length;\n\t\t\t\tnewState.visible = Object.assign({}, newState.visible, {\n\t\t\t\t\tedit: false,\n\t\t\t\t\tremoveImage: false,\n\t\t\t\t\tduplicate: active,\n\t\t\t\t\tremoveBlock: active,\n\t\t\t\t\teditColor: active\n\t\t\t\t});\n\t\t\t\tupdated = true;\n\t\t\t}\n\n\t\t\tif (nextProps.tree.body.activeBlock[0]) {\n\t\t\t\t// check image block\n\t\t\t\tvar isImage = false;\n\t\t\t\tnextProps.tree.body.activeBlock.some(function (k) {\n\t\t\t\t\tif (nextProps.tree.body.grid[k].image) {\n\t\t\t\t\t\tisImage = true;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// select image block\n\t\t\t\tvar block = nextProps.tree.body.grid[nextProps.tree.body.activeBlock[0]];\n\t\t\t\tnewState.visible = Object.assign({}, newState.visible, {\n\t\t\t\t\tremoveImage: isImage,\n\t\t\t\t\tedit: !!(block && block.image)\n\t\t\t\t});\n\t\t\t\tupdated = true;\n\t\t\t}\n\n\t\t\tif (updated) {\n\t\t\t\tthis.setState(newState);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'changeActive',\n\t\tvalue: function changeActive(keyName, userSW, event) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar state = this.state;\n\n\t\t\tvar sw = userSW || !state.active[keyName];\n\t\t\tvar cTarget = event ? event.currentTarget : null;\n\n\t\t\tif (sw) {\n\t\t\t\t(0, _jquery2.default)(document).on('click.pleToolbar', function (e) {\n\t\t\t\t\tif ((0, _jquery2.default)(e.target).closest('.ple-toolbar__pop').length) return;\n\t\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget)) {\n\t\t\t\t\t\t_this2.changeActive(keyName, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t(0, _jquery2.default)(document).off('click.pleToolbar');\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tactive: _extends({}, state.active, _defineProperty({\n\t\t\t\t\tsetting: false,\n\t\t\t\t\teditColor: false\n\t\t\t\t}, keyName, sw))\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'deactivate',\n\t\tvalue: function deactivate() {\n\t\t\tvar _this3 = this;\n\n\t\t\t(0, _jquery2.default)(document).off('click.pleToolbar');\n\t\t\treturn new Promise(function (reject) {\n\t\t\t\t_this3.setState({\n\t\t\t\t\tactive: {\n\t\t\t\t\t\tsetting: false,\n\t\t\t\t\t\teditColor: false\n\t\t\t\t\t}\n\t\t\t\t}, reject);\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'submitEditSetting',\n\t\tvalue: function submitEditSetting(state) {\n\t\t\tthis.props.dispatch(actions.body.updateSetting(state));\n\t\t\tthis.changeActive('setting', false);\n\t\t\treturn false;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\t\t\tvar activeBlockColor = '#fff';\n\n\t\t\tif (_typeof(props.tree.body.grid) === 'object' && libs.object.isArray(props.tree.body.activeBlock)) {\n\t\t\t\tvar n = props.tree.body.activeBlock[0];\n\t\t\t\tactiveBlockColor = props.tree.body.grid[n] && props.tree.body.grid[n].color ? props.tree.body.grid[n].color : props.setting.body.blockColor;\n\t\t\t}\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'nav',\n\t\t\t\t{ className: 'ple-toolbar' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-toolbar__wrap' },\n\t\t\t\t\tstate.visible.setting && _react2.default.createElement(\n\t\t\t\t\t\t_Button2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticonClass: 'ple-ico-setting',\n\t\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-edit-setting', {\n\t\t\t\t\t\t\t\t'ple-toolbar__block-active': state.active.setting\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tonClick: function onClick(e) {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.setting) {\n\t\t\t\t\t\t\t\t\t_this4.deactivate().then(function () {\n\t\t\t\t\t\t\t\t\t\t_this4.changeActive('setting', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttitle: 'Edit preference' },\n\t\t\t\t\t\t_react2.default.createElement(_EditLayoutSetting2.default, {\n\t\t\t\t\t\t\tsubmit: this.submitEditSetting.bind(this),\n\t\t\t\t\t\t\tsetting: props.tree.body.setting,\n\t\t\t\t\t\t\tdefaultSetting: props.setting.body.setting })\n\t\t\t\t\t),\n\t\t\t\t\tstate.visible.shuffle && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-arrow-random',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.grid.shuffle();\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Shuffle block' }),\n\t\t\t\t\tstate.visible.add && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-plus',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.grid.add();\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Add block' }),\n\t\t\t\t\tstate.visible.select && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-select',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.grid.toggleSelectAll();\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Toggle select block' }),\n\t\t\t\t\tstate.visible.edit && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-pencil',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.cropper.open(props.tree.body.activeBlock[0]);\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Edit block' }),\n\t\t\t\t\tstate.visible.removeImage && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-empty',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.grid.removeImages(props.tree.body.activeBlock);\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Remove image in block' }),\n\t\t\t\t\tstate.visible.duplicate && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-duplicate',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null) {\n\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprops.dispatch(actions.body.duplicateBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Duplicate block' }),\n\t\t\t\t\tstate.visible.removeBlock && _react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\ticonClass: 'ple-ico-trash',\n\t\t\t\t\t\tclassName: 'ple-toolbar__block-key',\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null) {\n\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprops.api.grid.remove(props.tree.body.activeBlock);\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: 'Remove block' }),\n\t\t\t\t\tstate.visible.editColor && _react2.default.createElement(\n\t\t\t\t\t\t_Button2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticonClass: 'ple-ico-palette',\n\t\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-edit-color', 'ple-toolbar__block-key', { 'ple-toolbar__block-active': state.active.editColor }),\n\t\t\t\t\t\t\tonClick: function onClick(e) {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.editColor) {\n\t\t\t\t\t\t\t\t\t_this4.deactivate().then(function () {\n\t\t\t\t\t\t\t\t\t\treturn _this4.changeActive('editColor', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttitle: 'Change color' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'ple-colorPicker__wrap' },\n\t\t\t\t\t\t\t_react2.default.createElement(_reactSimpleColorpicker2.default, {\n\t\t\t\t\t\t\t\tonChange: function onChange(color) {\n\t\t\t\t\t\t\t\t\tif (!color) return;\n\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.changeColorBlock(props.tree.body.activeBlock, color));\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcolor: activeBlockColor,\n\t\t\t\t\t\t\t\tclassName: 'ple-colorPicker__body' })\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Toolbar;\n}(_react2.default.Component), _class.displayName = 'Toolbar', _class.defaultProps = {\n\tdispatch: null,\n\ttree: null\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Toolbar);\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _GridLayout = __webpack_require__(17);\n\nvar _GridLayout2 = _interopRequireDefault(_GridLayout);\n\nvar _Toolbar = __webpack_require__(20);\n\nvar _Toolbar2 = _interopRequireDefault(_Toolbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Body = (_temp = _class = function (_React$Component) {\n\t_inherits(Body, _React$Component);\n\n\tfunction Body(props) {\n\t\t_classCallCheck(this, Body);\n\n\t\treturn _possibleConstructorReturn(this, (Body.__proto__ || Object.getPrototypeOf(Body)).call(this, props));\n\t}\n\n\t_createClass(Body, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-container' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-body' },\n\t\t\t\t\t_react2.default.createElement(_Toolbar2.default, null),\n\t\t\t\t\t_react2.default.createElement(_GridLayout2.default, null)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Body;\n}(_react2.default.Component), _class.displayName = 'Body', _temp);\nexports.default = Body;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(48);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _lib = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlEvent = {\n\tstart: _lib.util.isTouchDevice() ? 'touchstart' : 'mousedown',\n\tmove: _lib.util.isTouchDevice() ? 'touchmove' : 'mousemove',\n\tend: _lib.util.isTouchDevice() ? 'touchend' : 'mouseup'\n};\n\nvar Block = (_temp = _class = function (_React$Component) {\n\t_inherits(Block, _React$Component);\n\n\tfunction Block(props) {\n\t\t_classCallCheck(this, Block);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, props));\n\n\t\t_this.state = {\n\t\t\tposition: props.position,\n\t\t\tsize: props.size,\n\t\t\tisCover: props.size === 'cover'\n\t\t};\n\n\t\t_this._self = null;\n\t\t_this.$self = null;\n\t\t_this.$img = null;\n\t\t_this.moveStartInfo = {};\n\t\t_this.resizeStartInfo = {};\n\t\treturn _this;\n\t}\n\n\t_createClass(Block, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\t// set dom\n\t\t\tthis.$self = (0, _jquery2.default)(_reactDom2.default.findDOMNode(this._self));\n\t\t}\n\t}, {\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps(nextProps) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tif (props.size !== nextProps.size) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: nextProps.position,\n\t\t\t\t\tsize: nextProps.size,\n\t\t\t\t\tisCover: nextProps.size === 'cover'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_moveStart',\n\t\tvalue: function _moveStart(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar state = this.state;\n\n\t\t\t// set image element\n\n\t\t\tthis.$img = this.$self.find('img');\n\n\t\t\tthis.moveStartInfo = {\n\t\t\t\tcontainerX: parseInt(state.position.split(' ')[0]),\n\t\t\t\tcontainerY: parseInt(state.position.split(' ')[1]),\n\t\t\t\tmouseX: (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + (0, _jquery2.default)(window).scrollLeft(),\n\t\t\t\tmouseY: (e.clientY || e.pageY || e.nativeEvent.touches[0].clientY) + (0, _jquery2.default)(window).scrollTop()\n\t\t\t};\n\n\t\t\t(0, _jquery2.default)(document).on(controlEvent.move + '.move', this._moveIng.bind(this)).on(controlEvent.end + '.move', this._moveEnd.bind(this));\n\t\t}\n\t}, {\n\t\tkey: '_moveIng',\n\t\tvalue: function _moveIng(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar evt = e.type === 'touchmove' ? e.originalEvent.touches[0] : e;\n\t\t\tvar mouse = {};\n\t\t\tvar distance = {};\n\n\t\t\tmouse.x = (evt.clientX || evt.pageX) + (0, _jquery2.default)(window).scrollLeft();\n\t\t\tmouse.y = (evt.clientY || evt.pageY) + (0, _jquery2.default)(window).scrollTop();\n\n\t\t\tdistance.x = this.moveStartInfo.containerX + (mouse.x - this.moveStartInfo.mouseX);\n\t\t\tdistance.y = this.moveStartInfo.containerY + (mouse.y - this.moveStartInfo.mouseY);\n\n\t\t\tthis.setState({\n\t\t\t\tposition: parseInt(distance.x) + 'px ' + parseInt(distance.y) + 'px'\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_moveEnd',\n\t\tvalue: function _moveEnd(e) {\n\t\t\te.preventDefault();\n\n\t\t\tthis.$img = null;\n\t\t\tthis.moveStartInfo = null;\n\n\t\t\t(0, _jquery2.default)(document).off(controlEvent.move + '.move').off(controlEvent.end + '.move');\n\t\t}\n\t}, {\n\t\tkey: '_resizeStart',\n\t\tvalue: function _resizeStart(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar state = this.state;\n\n\n\t\t\tthis.$img = this.$self.find('img');\n\t\t\tthis.resizeStartInfo = {\n\t\t\t\ttitle: e.currentTarget.title,\n\t\t\t\twidth: this.$img.width(),\n\t\t\t\theight: this.$img.height(),\n\t\t\t\tmouseX: (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + (0, _jquery2.default)(window).scrollLeft(),\n\t\t\t\tposX: parseInt(state.position.split(' ')[0]),\n\t\t\t\tposY: parseInt(state.position.split(' ')[1])\n\t\t\t};\n\n\t\t\t(0, _jquery2.default)(document).on(controlEvent.move + '.resize', this._resizeIng.bind(this)).on(controlEvent.end + '.resize', this._resizeEnd.bind(this));\n\t\t}\n\t}, {\n\t\tkey: '_resizeIng',\n\t\tvalue: function _resizeIng(e) {\n\t\t\te.stopPropagation();\n\n\t\t\tvar size = {};\n\t\t\tvar position = {};\n\t\t\tvar ratio = 1;\n\t\t\tvar distanceHeight = 0;\n\t\t\tvar evt = e.type === 'touchmove' ? e.originalEvent.touches[0] : e;\n\n\t\t\t// set mouse position\n\t\t\tvar distanceX = (evt.clientX || evt.pageX) + (0, _jquery2.default)(window).scrollLeft() - this.resizeStartInfo.mouseX;\n\n\t\t\t// set position and size\n\t\t\tswitch (this.resizeStartInfo.title) {\n\t\t\t\tcase 'resize-lt':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-rt':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-lb':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'resize-rb':\n\t\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// set image size\n\n\t\t\tthis.setState({\n\t\t\t\tsize: parseInt(size.width) + 'px ' + parseInt(size.height) + 'px',\n\t\t\t\tposition: parseInt(position.x) + 'px ' + parseInt(position.y) + 'px'\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_resizeEnd',\n\t\tvalue: function _resizeEnd(e) {\n\t\t\tthis.$img = null;\n\t\t\tthis.resizeStartInfo = null;\n\n\t\t\t(0, _jquery2.default)(document).off(controlEvent.move + '.resize').off(controlEvent.end + '.resize');\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\t\t\tvar size = state.size !== 'cover' ? state.size.split(' ') : state.size;\n\t\t\tvar position = state.position.split(' ');\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'figure',\n\t\t\t\t{\n\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t_this2._self = r;\n\t\t\t\t\t},\n\t\t\t\t\tstyle: { backgroundColor: props.bgColor },\n\t\t\t\t\tclassName: 'ple-cropperBlock ple-cropper__block' },\n\t\t\t\tstate.isCover ? _react2.default.createElement('span', {\n\t\t\t\t\tstyle: { backgroundImage: 'url(\\'' + props.src + '\\')' },\n\t\t\t\t\tclassName: 'ple-cropperBlock__image ple-cropperBlock__image-cover' }) : _react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{\n\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-cropperBlock__image', { 'ple-cropperBlock__image-resize': props.size !== 'cover' }) },\n\t\t\t\t\t_react2.default.createElement('img', {\n\t\t\t\t\t\tsrc: props.src,\n\t\t\t\t\t\tstyle: Object.assign({}, state.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\ttransform: 'translate(' + position[0] + ', ' + position[1] + ')'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\talt: 'image' })\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tonMouseDown: this._moveStart.bind(this),\n\t\t\t\t\t\tonTouchStart: this._moveStart.bind(this),\n\t\t\t\t\t\tstyle: Object.assign({}, state.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\theight: size[1],\n\t\t\t\t\t\t\ttransform: 'translate(' + position[0] + ', ' + position[1] + ')'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tclassName: (0, _classnames2.default)('ple-cropperBlock__control', { 'ple-cropperBlock__control-active': props.size !== 'cover' }) },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-lt',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-lt' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-rt',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-rt' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-lb',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-lb' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\ttitle: 'resize-rb',\n\t\t\t\t\t\t\tonMouseDown: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tonTouchStart: this._resizeStart.bind(this),\n\t\t\t\t\t\t\tclassName: 'ple-cropperBlock__resize ple-cropperBlock__resize-rb' },\n\t\t\t\t\t\t_react2.default.createElement('i', { className: 'ple-sp-ico ple-abs ple-ico-clamp' })\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Block;\n}(_react2.default.Component), _class.displayName = 'Block', _class.defaultProps = {\n\tsrc: '',\n\tposition: '',\n\tsize: '',\n\tbgColor: '#fff'\n}, _temp);\nexports.default = Block;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Block = __webpack_require__(22);\n\nvar _Block2 = _interopRequireDefault(_Block);\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cropper = (_temp = _class = function (_React$Component) {\n\t_inherits(Cropper, _React$Component);\n\n\tfunction Cropper(props) {\n\t\t_classCallCheck(this, Cropper);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Cropper.__proto__ || Object.getPrototypeOf(Cropper)).call(this, props));\n\n\t\tvar cropper = props.tree.cropper;\n\n\n\t\t_this.imageMeta = null;\n\t\t_this._block = null;\n\t\t_this.$item = (0, _jquery2.default)(props.element).find('.react-grid-item').filter('[data-key=' + cropper.key + ']');\n\n\t\t_this.state = {\n\t\t\tpending: true,\n\t\t\tposition: cropper.item.image.position,\n\t\t\tsize: cropper.item.image.size || 'cover',\n\t\t\twidth: _this.$item.width(),\n\t\t\theight: _this.$item.height(),\n\t\t\ttop: _this.$item.position().top,\n\t\t\tleft: _this.$item.position().left\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(Cropper, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\t\t\tvar cropper = props.tree.cropper;\n\n\n\t\t\tlib.util.getImageSize(cropper.item.image.src).then(function (res) {\n\t\t\t\t_this2.imageMeta = res;\n\t\t\t\t_this2.setState({ pending: false });\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * close cropper\n   * `cropper`를 닫고, 변경된 이미지를 `grid`로 보낸다.\n   */\n\n\t}, {\n\t\tkey: '_onClose',\n\t\tvalue: function _onClose() {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.api.cropper.close(props.tree.cropper.key, this._block.state.position, this._block.state.size);\n\t\t}\n\n\t\t/**\n   * toggle image type\n   * 직접 리사이즈를 사용하는지 기본(꽉채우는..)타입으로 사용할건지 변경하는 액션\n   *\n   */\n\n\t}, {\n\t\tkey: '_toggleImageType',\n\t\tvalue: function _toggleImageType() {\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\tif (state.size === 'cover') {\n\t\t\t\tvar targetSize = '';\n\t\t\t\tvar ratio = 0;\n\t\t\t\tif (state.height > state.width) {\n\t\t\t\t\tratio = lib.number.getRatioForResize(state.height, this.imageMeta.height);\n\t\t\t\t\ttargetSize = parseInt(this.imageMeta.width * ratio) + 'px ' + state.height + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tratio = lib.number.getRatioForResize(state.width, this.imageMeta.width);\n\t\t\t\t\ttargetSize = state.width + 'px ' + parseInt(this.imageMeta.height * ratio) + 'px';\n\t\t\t\t}\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: '0 0',\n\t\t\t\t\tsize: targetSize\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\tsize: 'cover'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar state = this.state,\n\t\t\t    props = this.props;\n\n\n\t\t\tif (state.pending) return null;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-cropper' },\n\t\t\t\t_react2.default.createElement('span', { className: 'ple-cropper__bg' }),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\twidth: state.width + 'px',\n\t\t\t\t\t\t\theight: state.height + 'px',\n\t\t\t\t\t\t\ttop: state.top + 'px',\n\t\t\t\t\t\t\tleft: state.left + 'px'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'ple-cropper__wrap' },\n\t\t\t\t\t_react2.default.createElement(_Block2.default, {\n\t\t\t\t\t\tref: function ref(r) {\n\t\t\t\t\t\t\t_this3._block = r;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsrc: props.tree.cropper.item.image.src,\n\t\t\t\t\t\tposition: state.position,\n\t\t\t\t\t\tsize: state.size,\n\t\t\t\t\t\tbgColor: props.tree.cropper.item.color || props.setting.body.blockColor }),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'nav',\n\t\t\t\t\t\t{ className: 'ple-cropper__nav' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ type: 'button', onClick: this._onClose.bind(this) },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-close ple-abs' },\n\t\t\t\t\t\t\t\t'Close cropper'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\t\tonClick: this._toggleImageType.bind(this),\n\t\t\t\t\t\t\t\tclassName: (0, _classnames2.default)({\n\t\t\t\t\t\t\t\t\t'ple-cropper__nav-active': state.size !== 'cover'\n\t\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-resize ple-abs' },\n\t\t\t\t\t\t\t\t'Toggle background size type'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Cropper;\n}(_react2.default.Component), _class.displayName = 'Cropper', _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state, {});\n})(Cropper);\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Item = (_temp = _class = function (_React$Component) {\n\t_inherits(Item, _React$Component);\n\n\tfunction Item() {\n\t\t_classCallCheck(this, Item);\n\n\t\treturn _possibleConstructorReturn(this, (Item.__proto__ || Object.getPrototypeOf(Item)).apply(this, arguments));\n\t}\n\n\t_createClass(Item, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\tvar attr = Object.assign({}, lib.util.isTouchDevice() ? {\n\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\tonTouchEnd: props.onTouchEnd\n\t\t\t} : {\n\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\tonDragEnd: props.onDragEnd\n\t\t\t});\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'li',\n\t\t\t\tnull,\n\t\t\t\t_react2.default.createElement('button', _extends({\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\t'data-id': props.id,\n\t\t\t\t\t'data-image': props.image,\n\t\t\t\t\tdraggable: true,\n\t\t\t\t\tonClick: props.onClick\n\t\t\t\t}, attr, {\n\t\t\t\t\tstyle: { backgroundImage: 'url(\\'' + props.image + '\\')' },\n\t\t\t\t\tclassName: (0, _classnames2.default)({ 'ple-sideItems__item-active': props.active }) }))\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Item;\n}(_react2.default.Component), _class.displayName = 'Item', _class.defaultProps = {\n\timage: null, // image\n\tid: null, // id\n\tactive: null, // active item\n\tonClick: null, // on click item\n\tonDragStart: null, // on drag start\n\tonDragEnd: null, // on drag end\n\tonTouchStart: null, // on touch start\n\tonTouchMove: null, // on touch move\n\tonTouchEnd: null // on touch end\n}, _temp);\nexports.default = Item;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Item = __webpack_require__(24);\n\nvar _Item2 = _interopRequireDefault(_Item);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Items = (_temp = _class = function (_React$Component) {\n\t_inherits(Items, _React$Component);\n\n\tfunction Items() {\n\t\t_classCallCheck(this, Items);\n\n\t\treturn _possibleConstructorReturn(this, (Items.__proto__ || Object.getPrototypeOf(Items)).apply(this, arguments));\n\t}\n\n\t_createClass(Items, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ple-sideItems' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-sideItems__wrap' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'ul',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tObject.keys(props.files).map(function (o) {\n\t\t\t\t\t\t\treturn _react2.default.createElement(_Item2.default, {\n\t\t\t\t\t\t\t\tkey: o,\n\t\t\t\t\t\t\t\tid: o,\n\t\t\t\t\t\t\t\timage: props.files[o].image,\n\t\t\t\t\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\t\t\t\t\tonDragEnd: props.onDragEnd,\n\t\t\t\t\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\t\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\t\t\t\t\tonTouchEnd: props.onTouchEnd,\n\t\t\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\t\t\treturn props.onSelect(parseInt(o));\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tactive: props.files[o].active });\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tprops.progress !== null && _react2.default.createElement(\n\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t{ className: 'ple-sideItems__loading' },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{ className: 'ple-sideItems__progress' },\n\t\t\t\t\t\t\t\t_react2.default.createElement('span', {\n\t\t\t\t\t\t\t\t\tclassName: 'ple-sideItems__bar',\n\t\t\t\t\t\t\t\t\tstyle: { height: props.progress + '%' } }),\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ className: 'ple-sideItems__percent' },\n\t\t\t\t\t\t\t\t\tprops.progress + '%'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Items;\n}(_react2.default.Component), _class.displayName = 'Items', _class.defaultProps = {\n\tfiles: [], // files\n\tonSelect: function onSelect(key) {}, // on select event\n\tonDragStart: null, // on drag start\n\tonDragEnd: null, // on drag end\n\tonTouchStart: null, // on touch start\n\tonTouchMove: null, // on touch move\n\tonTouchEnd: null, // on touch end\n\tprogress: null // on progress number\n}, _temp);\nexports.default = Items;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SideNavigation = (_temp = _class = function (_React$Component) {\n\t_inherits(SideNavigation, _React$Component);\n\n\tfunction SideNavigation(props) {\n\t\t_classCallCheck(this, SideNavigation);\n\n\t\tvar _this = _possibleConstructorReturn(this, (SideNavigation.__proto__ || Object.getPrototypeOf(SideNavigation)).call(this, props));\n\n\t\t_this.state = {\n\t\t\ttimestamp: Date.now()\n\t\t};\n\t\treturn _this;\n\t}\n\n\t/**\n  * Upload images\n  *\n  * @param {Event} e\n  */\n\n\n\t_createClass(SideNavigation, [{\n\t\tkey: 'upload',\n\t\tvalue: function upload(e) {\n\t\t\tthis.props.onUpload(e.target.files);\n\n\t\t\tthis.setState({\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props,\n\t\t\t    state = this.state;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'nav',\n\t\t\t\t{ className: 'ple-sideNavigation ple-side__navigation' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ple-sideNavigation__wrap' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'attach images', onClick: props.onAttach },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-reply ple-abs' },\n\t\t\t\t\t\t\t'Moving the image to grid block'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'toggle select', onClick: props.onToggleSelect },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-select ple-abs' },\n\t\t\t\t\t\t\t'Toggle all select'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{ title: 'upload images', key: state.timestamp },\n\t\t\t\t\t\t_react2.default.createElement('input', { type: 'file', ref: 'inputFile', onChange: this.upload.bind(this), multiple: true }),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-upload ple-abs' },\n\t\t\t\t\t\t\t'upload images'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'remove images', onClick: props.onRemove },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'ple-sp-ico ple-ico-trash ple-abs' },\n\t\t\t\t\t\t\t'remove images'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn SideNavigation;\n}(_react2.default.Component), _class.displayName = 'Navigation', _class.defaultProps = {\n\tonRemove: function onRemove() {},\n\tonToggleSelect: function onToggleSelect() {},\n\tonAttach: function onAttach() {},\n\tonUpload: function onUpload() {}\n}, _temp);\nexports.default = SideNavigation;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ToggleSideButton = (_temp = _class = function (_Component) {\n\t_inherits(ToggleSideButton, _Component);\n\n\tfunction ToggleSideButton() {\n\t\t_classCallCheck(this, ToggleSideButton);\n\n\t\treturn _possibleConstructorReturn(this, (ToggleSideButton.__proto__ || Object.getPrototypeOf(ToggleSideButton)).apply(this, arguments));\n\t}\n\n\t_createClass(ToggleSideButton, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'button',\n\t\t\t\t{\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tonClick: props.onClick,\n\t\t\t\t\tclassName: 'ple-side__toggle' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: (0, _classnames2.default)('ple-sp-ico', 'ple-abs', {\n\t\t\t\t\t\t\t\t'ple-ico-arrow-right': props.show,\n\t\t\t\t\t\t\t\t'ple-ico-arrow-left': !props.show\n\t\t\t\t\t\t\t}) },\n\t\t\t\t\t\t'Toggle sidebar'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn ToggleSideButton;\n}(_react.Component), _class.displayName = 'ToggleSideButton', _class.defaultProps = {\n\tshow: false,\n\tonClick: function onClick() {}\n}, _temp);\nexports.default = ToggleSideButton;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _classnames = __webpack_require__(2);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _actions = __webpack_require__(3);\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _ToggleSideButton = __webpack_require__(27);\n\nvar _ToggleSideButton2 = _interopRequireDefault(_ToggleSideButton);\n\nvar _Navigation = __webpack_require__(26);\n\nvar _Navigation2 = _interopRequireDefault(_Navigation);\n\nvar _Items = __webpack_require__(25);\n\nvar _Items2 = _interopRequireDefault(_Items);\n\nvar _lib = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_lib);\n\nvar _selectItems = __webpack_require__(29);\n\nvar _selectItems2 = _interopRequireDefault(_selectItems);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Side = (_temp = _class = function (_React$Component) {\n\t_inherits(Side, _React$Component);\n\n\tfunction Side(props) {\n\t\t_classCallCheck(this, Side);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Side.__proto__ || Object.getPrototypeOf(Side)).call(this, props));\n\n\t\t_this.dragTarget = null;\n\t\t_this.dragPosition = [];\n\t\t_this.$gridItems = null;\n\t\t_this.$dragItem = null;\n\t\t_this.uploading = false;\n\t\treturn _this;\n\t}\n\n\t/**\n  * get gridster item\n  * 포인트 위치에 있는 gridster블럭을 가져온다.\n  *\n  * @return {Object} gridster item\n  */\n\n\n\t_createClass(Side, [{\n\t\tkey: 'getGridsterItem',\n\t\tvalue: function getGridsterItem() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar props = this.props;\n\n\t\t\tvar target = null;\n\t\t\tthis.$gridItems = (0, _jquery2.default)(props.element).find('.ple-grid > div');\n\n\t\t\tthis.$gridItems.each(function (n, el) {\n\t\t\t\tvar $this = (0, _jquery2.default)(el);\n\t\t\t\tvar pos = $this.offset();\n\t\t\t\tif (pos.left < _this2.dragPosition[0] && pos.left + $this.width() > _this2.dragPosition[0] && pos.top < _this2.dragPosition[1] && pos.top + $this.height() > _this2.dragPosition[1]) {\n\t\t\t\t\ttarget = $this.data('key');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn target;\n\t\t}\n\n\t\t/**\n   * On select items\n   *\n   * @param {Number} key\n   */\n\n\t}, {\n\t\tkey: '_selectItem',\n\t\tvalue: function _selectItem(key) {\n\t\t\tvar props = this.props;\n\n\t\t\tvar selected = (0, _selectItems2.default)(props, key);\n\t\t\tprops.api.side.select(selected);\n\t\t}\n\n\t\t/**\n   * Remove items\n   */\n\n\t}, {\n\t\tkey: '_removeItems',\n\t\tvalue: function _removeItems() {\n\t\t\tvar props = this.props;\n\n\t\t\tvar keys = props.api.side.getKeys('selected');\n\n\t\t\tif (keys.length) {\n\t\t\t\tif (confirm('Do you really want to delete it?')) {\n\t\t\t\t\tprops.api.side.remove(keys);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!confirm('Delete all?')) return;\n\t\t\t\tkeys = props.api.side.getKeys('all');\n\t\t\t\tprops.api.side.remove(keys);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * upload\n   *\n   * @param {FileList} files\n   */\n\n\t}, {\n\t\tkey: '_upload',\n\t\tvalue: function _upload(files) {\n\t\t\tvar props = this.props;\n\n\t\t\tprops.api.side.upload(files);\n\t\t}\n\n\t\t/**\n   * Attach images to grid\n   */\n\n\t}, {\n\t\tkey: '_attach',\n\t\tvalue: function _attach() {\n\t\t\ttry {\n\t\t\t\tvar keys = this.props.api.side.getKeys('selected');\n\t\t\t\tvar result = this.props.api.side.attachToGrid(keys);\n\t\t\t\tif (result) throw result;\n\t\t\t} catch (e) {\n\t\t\t\talert(e.message);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_dragStartItem',\n\t\tvalue: function _dragStartItem(e) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$gridItems = (0, _jquery2.default)(props.element).find('.ple-grid > div');\n\t\t\tthis.$gridItems.on('dragover', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif ((0, _jquery2.default)(e.currentTarget).hasClass('ple-grid__item-hover')) return;\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).addClass('ple-grid__item-hover');\n\t\t\t}).on('dragleave', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t\t}).on('drop', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t(0, _jquery2.default)(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t\t\t_this3.dragTarget = (0, _jquery2.default)(e.currentTarget).data('key');\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_dragEndItem',\n\t\tvalue: function _dragEndItem(e) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$gridItems.off();\n\t\t\tthis.$gridItems = null;\n\n\t\t\t// check drag target\n\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t// play redux\n\t\t\tprops.dispatch(actions.body.attachImage(this.dragTarget, (0, _jquery2.default)(e.currentTarget).data('image')));\n\n\t\t\t// empty dragTarget\n\t\t\tthis.dragTarget = null;\n\t\t}\n\t}, {\n\t\tkey: '_touchStartItem',\n\t\tvalue: function _touchStartItem(e) {\n\t\t\tthis.$dragItem = (0, _jquery2.default)(e.currentTarget).clone().removeAttr('draggable').addClass('ple-side__placeholder').width((0, _jquery2.default)(e.currentTarget).width()).height((0, _jquery2.default)(e.currentTarget).height());\n\n\t\t\t(0, _jquery2.default)('body').append(this.$dragItem);\n\t\t}\n\t}, {\n\t\tkey: '_touchMoveItem',\n\t\tvalue: function _touchMoveItem(e) {\n\t\t\tif (!lib.util.checkSupportCss('touch-action', 'pan-y')) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tvar touch = e.nativeEvent.touches[0];\n\t\t\tthis.dragPosition = [touch.pageX, touch.pageY];\n\t\t\tthis.$dragItem.css({\n\t\t\t\tleft: touch.pageX - this.$dragItem.width() * 0.5,\n\t\t\t\ttop: touch.pageY - this.$dragItem.height() * 0.5\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_touchEndItem',\n\t\tvalue: function _touchEndItem(e) {\n\t\t\tvar props = this.props;\n\n\n\t\t\tthis.$dragItem.remove();\n\t\t\tthis.$dragItem = null;\n\n\t\t\tif (this.dragPosition.length > 0) {\n\t\t\t\tthis.dragTarget = this.getGridsterItem();\n\n\t\t\t\t// check drag target\n\t\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t\t// play redux\n\t\t\t\tprops.dispatch(actions.body.attachImage(this.dragTarget, (0, _jquery2.default)(e.currentTarget).data('image')));\n\t\t\t\tthis.dragPosition = [];\n\t\t\t} else {\n\t\t\t\t// TODO : 확인해보고 처리하기\n\t\t\t\t//this._selectItem($(e.currentTarget).data('id'));\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'aside',\n\t\t\t\t{ className: 'ple-side' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: (0, _classnames2.default)('ple-side__wrap', { 'ple-side__wrap-show': props.tree.side.visible }) },\n\t\t\t\t\t_react2.default.createElement('span', {\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.side.toggleSelectAll(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'ple-side__background' }),\n\t\t\t\t\t_react2.default.createElement(_ToggleSideButton2.default, {\n\t\t\t\t\t\tshow: props.tree.side.visible,\n\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\treturn props.api.util.toggleSide(undefined);\n\t\t\t\t\t\t} }),\n\t\t\t\t\t_react2.default.createElement(_Navigation2.default, {\n\t\t\t\t\t\tonAttach: this._attach.bind(this),\n\t\t\t\t\t\tonToggleSelect: function onToggleSelect() {\n\t\t\t\t\t\t\treturn props.api.side.toggleSelectAll();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonUpload: this._upload.bind(this),\n\t\t\t\t\t\tonRemove: this._removeItems.bind(this) }),\n\t\t\t\t\t_react2.default.createElement(_Items2.default, {\n\t\t\t\t\t\tfiles: props.tree.side.files,\n\t\t\t\t\t\tonSelect: this._selectItem.bind(this),\n\t\t\t\t\t\tonDragStart: this._dragStartItem.bind(this),\n\t\t\t\t\t\tonDragEnd: this._dragEndItem.bind(this),\n\t\t\t\t\t\tonTouchStart: this._touchStartItem.bind(this),\n\t\t\t\t\t\tonTouchMove: this._touchMoveItem.bind(this),\n\t\t\t\t\t\tonTouchEnd: this._touchEndItem.bind(this),\n\t\t\t\t\t\tprogress: props.tree.side.progressPercent })\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Side;\n}(_react2.default.Component), _class.displayName = 'Side', _class.defaultProps = {\n\ttree: {}, // data tree in reduce\n\tsetting: {}, // setting in reduce\n\tapi: {}, // api\n\tdispatch: null // redux dispatch\n}, _temp);\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn Object.assign({}, state);\n})(Side);\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = selectItems;\nvar firstSelectIdx = null;\n\n/**\n * Change active\n *\n * @param {Number} key\n * @param {Object} item\n * @param {Number} start\n * @param {Number} end\n * @param {String} type press key name and select type\n * @return {Object}\n */\nfunction changeActive(key, item, start, end, type) {\n\tswitch (type) {\n\t\tcase 'add':\n\t\t\treturn {\n\t\t\t\tkey: key,\n\t\t\t\tactive: key === end ? !item.active : item.active\n\t\t\t};\n\t\tcase 'range':\n\t\t\tstart = start || 0;\n\t\t\tif (start < end) {\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tactive: key >= start && key <= end\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tactive: key <= start && key >= end\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn item;\n\t}\n\n\t// not found type\n\tif (key === end) {\n\t\treturn { key: key, active: !item.active };\n\t} else {\n\t\treturn { key: key, active: false };\n\t}\n}\n\n/**\n * select items\n *\n * @param {Object} props\n * @param {Number} key\n * @return {Array}\n */\nfunction selectItems(props, key) {\n\tvar keyName = props.keyboard.keyName;\n\tvar files = props.tree.side.files;\n\n\tvar type = null;\n\tvar selected = false;\n\n\tif (keyName !== 'SHIFT') {\n\t\tvar currentItem = null;\n\t\tObject.keys(props.tree.side.files).forEach(function (k) {\n\t\t\tvar obj = props.tree.side.files[k];\n\t\t\tif (parseInt(k) === key) {\n\t\t\t\tcurrentItem = obj;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tfirstSelectIdx = currentItem.active === true ? null : key;\n\t\tif (!firstSelectIdx && currentItem.active === true) {\n\t\t\tfirstSelectIdx = currentItem.key;\n\t\t}\n\t}\n\n\tswitch (keyName) {\n\t\tcase 'CTRL':\n\t\tcase 'CMD':\n\t\t\ttype = 'add';\n\t\t\tbreak;\n\t\tcase 'SHIFT':\n\t\t\ttype = 'range';\n\t}\n\n\tvar items = Object.keys(files).map(function (k) {\n\t\tvar obj = changeActive(parseInt(k), files[k], firstSelectIdx, key, type);\n\t\tif (obj.active) {\n\t\t\tselected = true;\n\t\t}\n\t\treturn obj;\n\t});\n\n\tif (!selected) {\n\t\tfirstSelectIdx = null;\n\t}\n\n\treturn items;\n}\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.addBlock = addBlock;\nexports.removeBlock = removeBlock;\nexports.shuffleBlocks = shuffleBlocks;\nexports.duplicateBlock = duplicateBlock;\nexports.updateBlocks = updateBlocks;\nexports.activeBlock = activeBlock;\nexports.changeColorBlock = changeColorBlock;\nexports.updateSetting = updateSetting;\nexports.attachImages = attachImages;\nexports.attachImage = attachImage;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction addBlock(value) {\n\treturn {\n\t\ttype: types.GRID_ADD_BLOCK,\n\t\tvalue: value\n\t};\n}\n\nfunction removeBlock(keys) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_BLOCK,\n\t\tkeys: keys\n\t};\n}\n\nfunction shuffleBlocks(options) {\n\treturn {\n\t\ttype: types.GRID_SHUFFLE_BLOCKS,\n\t\tvalue: options\n\t};\n}\n\nfunction duplicateBlock(keys) {\n\treturn {\n\t\ttype: types.GRID_DUPLICATE_BLOCK,\n\t\tkeys: keys\n\t};\n}\n\nfunction updateBlocks(blocks) {\n\treturn {\n\t\ttype: types.GRID_UPDATE_BLOCKS,\n\t\tvalue: blocks\n\t};\n}\n\nfunction activeBlock(keys) {\n\treturn {\n\t\ttype: types.GRID_ACTIVE_BLOCK,\n\t\tvalue: keys\n\t};\n}\n\nfunction changeColorBlock(keys, color) {\n\treturn {\n\t\ttype: types.GRID_CHANGE_COLOR,\n\t\tkeys: keys,\n\t\tcolor: color\n\t};\n}\n\nfunction updateSetting(value) {\n\treturn {\n\t\ttype: types.GRID_SETTING_UPDATE,\n\t\tvalue: value\n\t};\n}\n\nfunction attachImages(images, cols, activeBlocks) {\n\treturn {\n\t\ttype: types.GRID_ATTACH_IMAGES,\n\t\tvalue: images,\n\t\tcolumns: cols,\n\t\tactiveBlocks: activeBlocks\n\t};\n}\n\nfunction attachImage(keys, image) {\n\treturn {\n\t\ttype: types.GRID_ATTACH_IMAGE,\n\t\tkeys: keys,\n\t\timage: image\n\t};\n}\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.init = init;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction init(api, preference, element) {\n\treturn {\n\t\ttype: types.INIT_PLE,\n\t\tapi: api,\n\t\tpreference: preference,\n\t\telement: element\n\t};\n}\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.open = open;\nexports.close = close;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction open(key, item) {\n\treturn {\n\t\ttype: types.CROPPER_OPEN,\n\t\titem: item,\n\t\tkey: key\n\t};\n}\n\nfunction close(key, position, size) {\n\treturn {\n\t\ttype: types.CROPPER_CLOSE,\n\t\tkey: key,\n\t\tposition: position,\n\t\tsize: size\n\t};\n}\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.visible = visible;\nexports.toggle = toggle;\nexports.addFiles = addFiles;\nexports.removeFiles = removeFiles;\nexports.updateSelected = updateSelected;\nexports.updateProgress = updateProgress;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// control visible side bar\nfunction visible(sw) {\n\treturn {\n\t\ttype: types.SIDE_VISIBLE,\n\t\tvalue: sw\n\t};\n}\n\n// toggle side bar\nfunction toggle() {\n\treturn {\n\t\ttype: types.SIDE_TOGGLE\n\t};\n}\n\nfunction addFiles() {\n\tvar files = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\treturn {\n\t\ttype: types.SIDE_ADD_FILES,\n\t\tfiles: files\n\t};\n}\n\nfunction removeFiles() {\n\tvar keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\treturn {\n\t\ttype: types.SIDE_REMOVE_FILES,\n\t\tkeys: keys\n\t};\n}\n\nfunction updateSelected(value) {\n\treturn {\n\t\ttype: types.SIDE_UPDATE_SELECTED,\n\t\tvalue: value\n\t};\n}\n\nfunction updateProgress(percent) {\n\treturn {\n\t\ttype: types.SIDE_UPDATE_PROGRESS,\n\t\tvalue: percent\n\t};\n}\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _redux = __webpack_require__(8);\n\nvar _reactRedux = __webpack_require__(6);\n\nvar _Container = __webpack_require__(11);\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _reducers = __webpack_require__(12);\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nvar _API = __webpack_require__(10);\n\nvar _API2 = _interopRequireDefault(_API);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PhotoLayoutEditor = (_temp = _class = function (_React$Component) {\n\t_inherits(PhotoLayoutEditor, _React$Component);\n\n\tfunction PhotoLayoutEditor() {\n\t\t_classCallCheck(this, PhotoLayoutEditor);\n\n\t\t// set store\n\t\tvar _this = _possibleConstructorReturn(this, (PhotoLayoutEditor.__proto__ || Object.getPrototypeOf(PhotoLayoutEditor)).call(this));\n\n\t\t_this.store = (0, _redux.createStore)(_reducers2.default);\n\n\t\t// set api\n\t\t_this.api = new _API2.default(_this.store);\n\t\treturn _this;\n\t}\n\n\t_createClass(PhotoLayoutEditor, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = this.props;\n\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_reactRedux.Provider,\n\t\t\t\t{ store: this.store },\n\t\t\t\t_react2.default.createElement(_Container2.default, { parent: { preference: props, api: this.api } })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn PhotoLayoutEditor;\n}(_react2.default.Component), _class.displayName = 'PhotoLayoutEditor', _class.defaultProps = {\n\tbody: {\n\t\tsetting: {},\n\t\tblockColor: null,\n\t\tgrid: []\n\t},\n\tside: {\n\t\tfiles: [],\n\t\tvisible: true\n\t},\n\tuploadScript: null,\n\tuploadParamsConvertFunc: null\n}, _temp);\nexports.default = PhotoLayoutEditor;\n\nmodule.exports = PhotoLayoutEditor;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Canvas\n */\nvar Canvas =\n\n/**\n * constructor\n *\n * @param {Number} width\n * @param {Number} height\n * @param {String} bgColor\n */\nfunction Canvas() {\n\tvar width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 150;\n\tvar height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n\tvar bgColor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '#ffffff';\n\n\t_classCallCheck(this, Canvas);\n\n\tthis.el = document.createElement('canvas');\n\tthis.ctx = this.el.getContext('2d');\n\n\tthis.el.width = width;\n\tthis.el.height = height;\n\n\tthis.ctx.fillStyle = bgColor;\n\tthis.ctx.fillRect(0, 0, width, height);\n};\n\nexports.default = Canvas;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Keyboard = function () {\n\tfunction Keyboard() {\n\t\t_classCallCheck(this, Keyboard);\n\n\t\tthis.eventName = 'PLE_' + libs.number.getTimeStamp();\n\t\tthis.code = null;\n\t\tthis.keyName = null;\n\t\tthis.names = {\n\t\t\t17: 'CTRL',\n\t\t\t18: 'ALT',\n\t\t\t91: 'CMD',\n\t\t\t93: 'CMD',\n\t\t\t16: 'SHIFT'\n\t\t};\n\n\t\t// init key down event\n\t\t(0, _jquery2.default)(window).on('keydown.' + this.eventName, this._keyDown.bind(this));\n\t}\n\n\t/**\n  * apply\n  *\n  * @param {Number} code\n  */\n\n\n\t_createClass(Keyboard, [{\n\t\tkey: 'apply',\n\t\tvalue: function apply(code) {\n\t\t\tthis.code = code;\n\t\t\tthis.keyName = this.names[this.code] || null;\n\t\t}\n\n\t\t/**\n   * key down event\n   *\n   * @param {Event} e\n   */\n\n\t}, {\n\t\tkey: '_keyDown',\n\t\tvalue: function _keyDown(e) {\n\t\t\t// apply keyCode\n\t\t\tthis.apply(e.keyCode);\n\n\t\t\t// set events\n\t\t\t(0, _jquery2.default)(window).on('keyup.' + this.eventName, this._keyUp.bind(this)).on('contextmenu.' + this.eventName, this._keyUp.bind(this)).on('blur.' + this.eventName, this._keyUp.bind(this)).off('keydown.' + this.eventName);\n\t\t}\n\n\t\t/**\n   * key up event\n   *\n   */\n\n\t}, {\n\t\tkey: '_keyUp',\n\t\tvalue: function _keyUp() {\n\t\t\t// apply keyCode\n\t\t\tthis.apply(null);\n\n\t\t\t// set events\n\t\t\t(0, _jquery2.default)(window).on('keydown.' + this.eventName, this._keyDown.bind(this)).off('contextmenu.' + this.eventName + ' keyup.' + this.eventName + ' blur.' + this.eventName);\n\t\t}\n\n\t\t/**\n   * destroy event\n   *\n   */\n\n\t}, {\n\t\tkey: 'destroy',\n\t\tvalue: function destroy() {\n\t\t\t(0, _jquery2.default)(window).off('keydown.' + this.eventName + ' contextmenu.' + this.eventName + ' keyup.' + this.eventName + ' blur.' + this.eventName);\n\t\t}\n\t}]);\n\n\treturn Keyboard;\n}();\n\nexports.default = Keyboard;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rgbToHex = rgbToHex;\n/**\n * rgba to hex\n *\n * @param {String} color\n * @return {String}\n */\nfunction rgbToHex(color) {\n  color = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n  return color && color.length === 4 ? \"#\" + (\"0\" + parseInt(color[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(color[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(color[3], 10).toString(16)).slice(-2) : '';\n}\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = makingImage;\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _ = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Get image size\n *\n * @param {String} type\n * @param {int} cw container width\n * @param {int} ch container height\n * @param {int} iw image width\n * @param {int} ih image height\n * @return {Object}\n */\nfunction getImageSize(type, cw, ch, iw, ih) {\n\tvar size = { width: 0, height: 0 };\n\n\tswitch (type) {\n\t\tcase 'cover':\n\t\t\tif (cw > ch) {\n\t\t\t\tsize.width = cw;\n\t\t\t\tsize.height = ih * (cw / iw);\n\t\t\t\tif (ch > size.height) {\n\t\t\t\t\tsize.width = iw * (ch / ih);\n\t\t\t\t\tsize.height = ch;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsize.width = iw * (ch / ih);\n\t\t\t\tsize.height = ch;\n\t\t\t\tif (cw > size.width) {\n\t\t\t\t\tsize.width = cw;\n\t\t\t\t\tsize.height = ih * (cw / iw);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'width':\n\t\t\tsize.width = cw;\n\t\t\tsize.height = ih * (cw / iw);\n\t\t\tbreak;\n\n\t\tcase 'height':\n\t\t\tsize.width = iw * (ch / ih);\n\t\t\tsize.height = ch;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tsize.width = cw;\n\t\t\tsize.height = ch;\n\t\t\tbreak;\n\t}\n\n\treturn {\n\t\twidth: Math.round(size.width),\n\t\theight: Math.round(size.height)\n\t};\n}\n\n/**\n * export grid\n *\n * @param {HTMLElement} el\n * @param {Array} grids\n * @return {Array}\n */\nfunction makeQueue(el, grids) {\n\tif (!(el && grids)) return null;\n\n\tvar $items = (0, _jquery2.default)(el).children();\n\tvar result = [];\n\n\t$items.each(function (key, item) {\n\t\tvar $item = (0, _jquery2.default)(item);\n\t\tvar grid = grids[$item.data('key')];\n\t\tvar image = grid.image;\n\n\t\tif (image) {\n\t\t\timage = {\n\t\t\t\tsrc: image.src,\n\t\t\t\tposition: image.position.split(' '),\n\t\t\t\tsize: image.size === 'cover' ? null : image.size.split(' ')\n\t\t\t};\n\t\t}\n\n\t\tresult.push({\n\t\t\t//key: $item.data('key'),\n\t\t\tx: $item.position().left,\n\t\t\ty: $item.position().top,\n\t\t\twidth: $item.width(),\n\t\t\theight: $item.height(),\n\t\t\timage: image || null,\n\t\t\tcolor: grid.color || 'rgba(255,255,255,1)'\n\t\t});\n\t});\n\n\treturn result;\n}\n\n/**\n * make block\n *\n * @param {Object} queue\n * @param {Object} options\n * @return {Promise}\n */\nfunction makeBlock() {\n\tvar queue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\treturn new Promise(function (resolve) {\n\t\tlib.util.loadImage(queue.image ? queue.image.src : null).then(function (image) {\n\t\t\tif (image) {\n\t\t\t\tvar realSize = { width: image.naturalWidth, height: image.naturalHeight };\n\t\t\t\tvar size = {};\n\t\t\t\tvar position = {};\n\n\t\t\t\t// get size and position image\n\t\t\t\tif (queue.image.size) {\n\t\t\t\t\tsize = getImageSize('width', parseInt(queue.image.size[0]), 0, realSize.width, realSize.height);\n\t\t\t\t\tposition.x = parseInt(queue.image.position[0]);\n\t\t\t\t\tposition.y = parseInt(queue.image.position[1]);\n\t\t\t\t} else {\n\t\t\t\t\tsize = getImageSize('cover', queue.width, queue.height, realSize.width, realSize.height);\n\t\t\t\t\tposition.x = queue.width * 0.5 - size.width * 0.5;\n\t\t\t\t\tposition.y = queue.height * 0.5 - size.height * 0.5;\n\t\t\t\t}\n\n\t\t\t\t// resize image\n\t\t\t\tlib.resamplingImage({\n\t\t\t\t\timage: image,\n\t\t\t\t\treSampleCount: options.sampling,\n\t\t\t\t\twidth: queue.width,\n\t\t\t\t\theight: queue.height,\n\t\t\t\t\tcx: 0,\n\t\t\t\t\tcy: 0,\n\t\t\t\t\tcw: realSize.width,\n\t\t\t\t\tch: realSize.height,\n\t\t\t\t\tdx: position.x,\n\t\t\t\t\tdy: position.y,\n\t\t\t\t\tdw: size.width,\n\t\t\t\t\tdh: size.height,\n\t\t\t\t\tbgColor: queue.color\n\t\t\t\t}).then(function (res) {\n\t\t\t\t\tresolve({\n\t\t\t\t\t\twidth: queue.width,\n\t\t\t\t\t\theight: queue.height,\n\t\t\t\t\t\tx: queue.x,\n\t\t\t\t\t\ty: queue.y,\n\t\t\t\t\t\timage: res\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tresolve({\n\t\t\t\t\twidth: queue.width,\n\t\t\t\t\theight: queue.height,\n\t\t\t\t\tx: queue.x,\n\t\t\t\t\ty: queue.y,\n\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\timage: new lib.Canvas(queue.width, queue.height, queue.color)\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * draw block\n * 캔버스에다가 블럭을 그려준다.\n *\n * @param {Canvas} canvas\n * @param {Object} block\n */\nfunction drawBlock(canvas, block) {\n\treturn new Promise(function (resolve) {\n\t\tcanvas.ctx.drawImage(block.image.el, block.x, block.y, block.width, block.height);\n\t\tresolve(block.image.el);\n\t});\n}\n\n/**\n * Get image size\n *\n * @param {Object} el\n * @param {String} format\n * @param {int} quality\n * @return {Object}\n */\nfunction canvasToBase64() {\n\tvar el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\tvar quality = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.75;\n\n\tswitch (format) {\n\t\tcase 'png':\n\t\t\tformat = 'image/png';\n\t\t\tbreak;\n\t\tcase 'jpg':\n\t\tdefault:\n\t\t\tformat = 'image/jpeg';\n\t\t\tbreak;\n\t}\n\n\treturn el.toDataURL(format, format === 'image/jpeg' ? quality : undefined);\n}\n\n/**\n * making image\n *\n * @param {HTMLElement} el `.ple-grid` element\n * @param {Object} data\n * @param {Object} options\n * @return {Promise}\n */\nfunction makingImage(el) {\n\tvar data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\tvar options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\tvar defer = _jquery2.default.Deferred(); // resolve, notify, reject\n\tvar queues = makeQueue(el, data.grid);\n\tvar current = 0;\n\tvar queueTotal = queues.length;\n\t// make canvas\n\tvar canvas = new lib.Canvas(el.offsetWidth, el.offsetHeight, data.setting.bgColor);\n\n\t// send progress event\n\tdefer.notify(queueTotal, current++, null);\n\n\t/**\n  * play\n  * 큐 플레이. 이미지를 만들고 캔버스에 그리고나서 결과는 `confirm`에서 받는다.\n  *\n  * @param {Object} queue\n  * @return {Promise}\n  */\n\tfunction play(queue) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tmakeBlock(queue, options).then(function (block) {\n\t\t\t\tdrawBlock(canvas, block).then(resolve, reject);\n\t\t\t}, reject);\n\t\t});\n\t}\n\n\t/**\n  * confirm\n  * 큐를 하나 삭제하고 계속 `play`함수를 실행할지 종료할지 결정한다.\n  *\n  * @param {Canvas} image\n  */\n\tfunction confirm(image) {\n\t\t// 큐 하나빼기\n\t\tqueues.splice(0, 1);\n\n\t\t// send progress event\n\t\tdefer.notify(queueTotal, current++, image);\n\n\t\t// check queues\n\t\tif (queues.length) {\n\t\t\tplay(queues[0]).then(confirm, error);\n\t\t} else {\n\t\t\tend();\n\t\t}\n\t}\n\n\t/**\n  * error\n  *\n  * @param {String} err\n  */\n\tfunction error(err) {\n\t\tdefer.reject(err);\n\t}\n\n\t/**\n  * end\n  * `play`가 모두 끝났을때 호출. `done`으로 내보낸다.\n  */\n\tfunction end() {\n\t\tswitch (options.output) {\n\t\t\tcase 'base64':\n\t\t\t\tdefer.resolve(canvasToBase64(canvas.el, options.format, options.quality));\n\t\t\t\tbreak;\n\t\t\tcase 'canvas':\n\t\t\tdefault:\n\t\t\t\tdefer.resolve(canvas.el);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// check queue\n\tif (queues.length) {\n\t\t// play queue\n\t\tplay(queues[0]).then(confirm, error);\n\t} else {\n\t\t// not found queues\n\t\terror('not found queue');\n\t}\n\n\treturn defer.promise();\n}\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.randomRange = randomRange;\nexports.getRatioForResize = getRatioForResize;\nexports.getTimeStamp = getTimeStamp;\nexports.getRatio = getRatio;\n/**\n * Random range\n * min~max 사이의 랜덤 정수를 반환한다.\n *\n * @param {Number} min\n * @param {Number} max\n * @param {Boolean} useDecimal\n * @return {Number}\n */\nfunction randomRange(min, max) {\n  var useDecimal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (useDecimal) {\n    return Math.random() * (max - min) + min;\n  } else {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n}\n\n/**\n * get ratio for resize\n * max와 min값의 차이의 비율을 가져온다.\n *\n * @param {Number} min\n * @param {Number} max\n * @return {Number}\n */\nfunction getRatioForResize(min, max) {\n  return max > min ? min / max : max / min;\n}\n\n/**\n * Get timestamp\n *\n * @return {Number}\n */\nfunction getTimeStamp() {\n  return Math.round(+new Date() / 1000);\n}\n\n/**\n * get ratio\n *\n * @param {Number} w\n * @param {Number} h\n * @return {Number}\n */\nfunction getRatio(w, h) {\n  var result = parseInt(w) / parseInt(h);\n  result = Math.round(result * 1000) / 1000;\n  return result;\n}\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isArray = isArray;\n/**\n * is array\n *\n * @param {Array} arr\n * @return {Boolean}\n */\nfunction isArray() {\n  var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return !!(arr && arr.length);\n}\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = resamplingImage;\n\nvar _ = __webpack_require__(1);\n\nvar lib = _interopRequireWildcard(_);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// default options\nvar defaultOptions = {\n\timage: null,\n\twidth: 100,\n\theight: 100,\n\treSampleCount: 1,\n\tbgColor: 'rgba(255,255,255,1)',\n\tcw: 0,\n\tch: 0,\n\tcx: 0,\n\tcy: 0,\n\tdw: 0,\n\tdh: 0,\n\tdx: 0,\n\tdy: 0\n};\n\n/**\n * resize\n *\n * @param {Object} options\n * @param {Number} count\n * @param {Canvas} parentCanvas\n * @return {Promise}\n */\nfunction resize(options, count, parentCanvas) {\n\treturn new Promise(function (resolve) {\n\t\tfunction func(count, parentCanvas) {\n\t\t\tvar max = Math.pow(2, count);\n\t\t\tvar canvasForResize = new lib.Canvas(options.width * max, options.height * max, options.bgColor);\n\n\t\t\tcanvasForResize.ctx.drawImage(parentCanvas.el, 0, 0, parentCanvas.el.width * 0.5, parentCanvas.el.height * 0.5);\n\n\t\t\tif (count > 0) {\n\t\t\t\tfunc(count - 1, canvasForResize);\n\t\t\t} else {\n\t\t\t\tresolve(canvasForResize);\n\t\t\t}\n\t\t}\n\n\t\tfunc(count - 1, parentCanvas);\n\t});\n}\n\n/**\n * resampling image\n *\n * @param {Object} options\n * @return {Promise}\n */\nfunction resamplingImage(options) {\n\t// assign options\n\toptions = Object.assign({}, defaultOptions, options);\n\n\t// TODO: 오픈소스할 경우도 대비해야함\n\t// TODO: 다른 용도로 사용된다면 크로핑 하지 않을경우. (타겟 사이즈, 원본사이즈만 필요한 경우)\n\n\treturn new Promise(function (resolve, reject) {\n\t\tif (!options.image) reject('not found image');\n\n\t\t// set reSample count\n\t\toptions.reSampleCount = Math.min(4, options.reSampleCount);\n\t\toptions.reSampleCount = Math.max(0, options.reSampleCount);\n\t\tvar reSampleMax = Math.pow(2, options.reSampleCount);\n\n\t\t// set canvas\n\t\tvar canvas = new lib.Canvas(options.width * reSampleMax, options.height * reSampleMax, options.bgColor);\n\n\t\tcanvas.ctx.drawImage(options.image, options.cx, // cx\n\t\toptions.cy, // cy\n\t\toptions.cw, // cw\n\t\toptions.ch, // ch\n\t\toptions.dx * reSampleMax, // dx\n\t\toptions.dy * reSampleMax, // dy\n\t\toptions.dw * reSampleMax, // dw\n\t\toptions.dh * reSampleMax // dh\n\t\t);\n\n\t\tif (options.reSampleCount > 0) {\n\t\t\tresize(options, options.reSampleCount, canvas).then(resolve);\n\t\t} else {\n\t\t\tresolve(canvas);\n\t\t}\n\t});\n}\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = uploader;\n\nvar _jquery = __webpack_require__(5);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * local upload\n *\n * @param {File} file\n * @return {Promise}\n */\nfunction local(file) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar reader = new FileReader();\n\n\treader.addEventListener('load', function (e) {\n\t\tdefer.resolve({\n\t\t\tname: file.name,\n\t\t\ttype: file.type,\n\t\t\tsize: file.size,\n\t\t\turl: e.target.result\n\t\t});\n\t});\n\treader.addEventListener('error', function (e) {\n\t\tdefer.reject(e.target);\n\t});\n\n\treader.readAsDataURL(file);\n\n\treturn defer.promise();\n}\n\n/**\n * external upload\n *\n * @param {String} script\n * @param {File} file\n * @return {Promise}\n */\nfunction external(script, file) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar xhr = new XMLHttpRequest();\n\n\tif (!(typeof FormData === 'function' || (typeof FormData === 'undefined' ? 'undefined' : _typeof(FormData)) === 'object')) {\n\t\tdefer.reject('not support browser', file);\n\t\treturn null;\n\t}\n\tvar formData = new FormData();\n\n\tfunction onLoad(e) {\n\t\ttry {\n\t\t\tvar result = JSON.parse(e.target.responseText);\n\t\t\tif (result.state === 'success') {\n\t\t\t\tdefer.resolve(result.data);\n\t\t\t} else {\n\t\t\t\tthrow 'server error';\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tdefer.reject(e);\n\t\t}\n\t}\n\n\tfunction onProgress(event) {\n\t\tvar loaded = event.loaded,\n\t\t    total = event.total;\n\n\t\tdefer.notify('progress', loaded, total);\n\t}\n\n\tformData.append('files[]', file);\n\txhr.open('post', script, true);\n\n\txhr.addEventListener('load', onLoad);\n\txhr.upload.addEventListener('progress', onProgress);\n\n\txhr.send(formData);\n\n\t// start queue\n\tdefer.notify('start');\n\n\treturn defer.promise();\n}\n\n/**\n * upload multiple files\n *\n */\nfunction uploader(files, script) {\n\tvar defer = _jquery2.default.Deferred();\n\tvar total = files.length;\n\tvar count = 0;\n\n\tfunction upload() {\n\t\tif (count >= total) {\n\t\t\tdefer.resolve();\n\t\t\treturn;\n\t\t}\n\n\t\tif (script) {\n\t\t\texternal(script, files[count]).done(function (data) {\n\t\t\t\tdefer.notify('done', { count: count, data: data });\n\t\t\t\tcount++;\n\t\t\t\tupload();\n\t\t\t}).progress(function (state, loaded, total) {\n\t\t\t\tdefer.notify(state, state === 'progress' && { loaded: loaded, total: total });\n\t\t\t}).fail(function (error) {\n\t\t\t\tdefer.reject(error);\n\t\t\t});\n\t\t} else {\n\t\t\tlocal(files[count]).done(function (data) {\n\t\t\t\tdefer.notify('done', { count: count, data: data });\n\t\t\t\tcount++;\n\t\t\t\tupload();\n\t\t\t}).fail(function () {});\n\t\t}\n\t}\n\n\tupload(0);\n\n\treturn defer.promise();\n}\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.isTouchDevice = isTouchDevice;\nexports.sleep = sleep;\nexports.getImageSize = getImageSize;\nexports.checkSupportCss = checkSupportCss;\nexports.loadImage = loadImage;\n/**\n * is touch device\n *\n * @returns {boolean}\n */\nfunction isTouchDevice() {\n\treturn 'ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;\n}\n\n/**\n * Sleep\n *\n * @param {Number} time\n * @param {String} id\n * @return {Promise}\n */\nfunction sleep(time) {\n\tvar id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'pleTimer';\n\n\treturn new Promise(function (resolve) {\n\t\twindow[id] = setTimeout(resolve, time);\n\t});\n}\n\n/**\n * Get image size\n *\n * @param {String} src\n * @return {Promise}\n */\nfunction getImageSize(src) {\n\treturn new Promise(function (resolve, reject) {\n\t\tif (!(src && typeof src === 'string')) reject();\n\n\t\tvar img = document.createElement('img');\n\n\t\timg.onload = function () {\n\t\t\tresolve({\n\t\t\t\twidth: img.naturalWidth,\n\t\t\t\theight: img.naturalHeight,\n\t\t\t\tratio: img.naturalHeight / img.naturalWidth\n\t\t\t});\n\t\t};\n\n\t\timg.onerror = function () {\n\t\t\treject();\n\t\t};\n\n\t\timg.src = src;\n\t});\n}\n\n/**\n * get css prefix\n *\n * @variation {Object}\n */\nvar cssPrefix = exports.cssPrefix = function () {\n\tvar styles = window.getComputedStyle(document.documentElement, '');\n\tvar pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\tvar dom = 'WebKit|Moz|MS|O'.match(new RegExp('(' + pre + ')', 'i'))[1];\n\n\treturn {\n\t\tdom: dom,\n\t\tlowercase: pre,\n\t\tcss: '-' + pre + '-',\n\t\tjs: pre[0].toUpperCase() + pre.substr(1)\n\t};\n}();\n\n/**\n * check support css\n *\n * @param {String} key\n * @param {String} value\n * @return {Boolean}\n */\nfunction checkSupportCss(key, value) {\n\tif (CSS && CSS.supports) {\n\t\treturn CSS.supports(key, value);\n\t}\n}\n\n/**\n * load image\n *\n * @param {String} src\n * @return {Promise}\n */\nfunction loadImage(src) {\n\treturn new Promise(function (resolve) {\n\t\tif (src) {\n\t\t\tvar image = new Image();\n\n\t\t\timage.onload = function (e) {\n\t\t\t\tresolve(image);\n\t\t\t};\n\t\t\timage.onError = function (e) {\n\t\t\t\tresolve(null);\n\t\t\t};\n\n\t\t\timage.setAttribute('crossOrigin', 'anonymous');\n\t\t\timage.src = src;\n\t\t} else {\n\t\t\tresolve(null);\n\t\t}\n\t});\n}\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.setting = setting;\nexports.grid = grid;\nexports.activeBlock = activeBlock;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _lib = __webpack_require__(1);\n\nvar libs = _interopRequireWildcard(_lib);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar lastGridId = 0;\nvar shuffleIndex = 0;\n\n/**\n * setting\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nfunction setting() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.setting.body.setting;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn _extends({}, state, action.preference.body.setting);\n\t\t\t} catch (e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.GRID_SETTING_UPDATE:\n\t\t\treturn _extends({}, state, action.value);\n\t}\n\treturn state;\n}\n\n/**\n * grid\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nfunction grid() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\tvar action = arguments[1];\n\n\tvar newState = Object.assign({}, state);\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\tvar _grid = {};\n\t\t\ttry {\n\t\t\t\tif (!(action.preference.body.grid instanceof Array)) throw 'error';\n\t\t\t\taction.preference.body.grid.forEach(function (o, k) {\n\t\t\t\t\t_grid[k] = o;\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\t_grid = action.preference.body.grid;\n\t\t\t}\n\t\t\tObject.keys(_grid).forEach(function (o) {\n\t\t\t\tnewState[lastGridId++] = _extends({\n\t\t\t\t\tcolor: defaults.setting.body.blockColor\n\t\t\t\t}, _grid[o], {\n\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ADD_BLOCK:\n\t\t\tnewState[lastGridId++] = _extends({\n\t\t\t\tcolor: defaults.setting.body.blockColor,\n\t\t\t\tlayout: { x: Infinity, y: Infinity, w: 1, h: 1 }\n\t\t\t}, action.value, {\n\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (!action.keys || !action.keys.length) return state;\n\t\t\taction.keys.forEach(function (o) {\n\t\t\t\tdelete newState[o];\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_SHUFFLE_BLOCKS:\n\t\t\treturn Object.keys(newState).map(function (k) {\n\t\t\t\treturn _extends({}, newState[k], {\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tx: libs.number.randomRange(0, action.value.x - 1),\n\t\t\t\t\t\ty: libs.number.randomRange(0, action.value.y - 1),\n\t\t\t\t\t\tw: libs.number.randomRange(1, action.value.w),\n\t\t\t\t\t\th: libs.number.randomRange(1, action.value.h)\n\t\t\t\t\t},\n\t\t\t\t\tindexPrefix: shuffleIndex++\n\t\t\t\t});\n\t\t\t});\n\n\t\tcase types.GRID_DUPLICATE_BLOCK:\n\t\t\taction.keys.forEach(function (k) {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[lastGridId++] = Object.assign({}, newState[k]);\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_CHANGE_COLOR:\n\t\t\taction.keys.forEach(function (k) {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[k].color = action.color;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ATTACH_IMAGES:\n\t\t\tif (!libs.object.isArray(action.value)) return state;\n\n\t\t\tif (action.activeBlocks && action.activeBlocks.length) {\n\t\t\t\tObject.keys(newState).forEach(function (k) {\n\t\t\t\t\tif (!action.value.length) return;\n\t\t\t\t\tif (action.activeBlocks.indexOf(k) === -1) return;\n\t\t\t\t\tnewState[k].image = {\n\t\t\t\t\t\tsrc: action.value.splice(0, 1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tObject.keys(newState).forEach(function (k) {\n\t\t\t\t\tif (newState[k].image) return;\n\t\t\t\t\tif (!action.value || !action.value.length) return;\n\t\t\t\t\tnewState[k].image = {\n\t\t\t\t\t\tsrc: action.value.splice(0, 1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tif (action.value.length) {\n\t\t\t\t\taction.value.forEach(function (o, k) {\n\t\t\t\t\t\tnewState[lastGridId++] = {\n\t\t\t\t\t\t\tcolor: defaults.setting.body.blockColor,\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: (Object.keys(state).length + k) % action.columns,\n\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\timage: {\n\t\t\t\t\t\t\t\tsrc: o,\n\t\t\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ATTACH_IMAGE:\n\t\t\tif (!(action.image && typeof action.image === 'string')) return state;\n\t\t\tif (!newState[action.keys]) return state;\n\n\t\t\tnewState[action.keys].image = {\n\t\t\t\tsrc: action.image,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover'\n\t\t\t};\n\t\t\treturn newState;\n\n\t\tcase types.GRID_UPDATE_BLOCKS:\n\t\t\treturn Object.assign({}, state, action.value);\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\tif (!newState[action.key]) return state;\n\t\t\tif (action.position) {\n\t\t\t\tnewState[action.key].image.position = action.position;\n\t\t\t}\n\t\t\tif (action.size) {\n\t\t\t\tnewState[action.key].image.size = action.size;\n\t\t\t}\n\t\t\treturn newState;\n\t}\n\n\treturn state;\n}\n\n/**\n * active block\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nfunction activeBlock() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\tvar action = arguments[1];\n\n\tvar newState = Object.assign([], state);\n\n\tswitch (action.type) {\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\treturn action.value;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (action.keys && action.keys.length) {\n\t\t\t\taction.keys.forEach(function (o) {\n\t\t\t\t\tif (newState.indexOf(o) < 0) return;\n\t\t\t\t\tnewState.splice(newState.indexOf(o), 1);\n\t\t\t\t});\n\t\t\t\treturn newState;\n\t\t\t}\n\t\t\treturn [];\n\t}\n\n\treturn state;\n}\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.setting = setting;\nexports.api = api;\nexports.keyboard = keyboard;\nexports.element = element;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _Keyboard = __webpack_require__(36);\n\nvar _Keyboard2 = _interopRequireDefault(_Keyboard);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction setting() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn Object.assign({}, {\n\t\t\t\tbase: _extends({}, defaults.setting.base, {\n\t\t\t\t\tuploadScript: action.preference.uploadScript || defaults.setting.base.uploadScript,\n\t\t\t\t\tuploadParamsConvertFunc: action.preference.uploadParamsConvertFunc || defaults.setting.base.uploadParamsConvertFunc\n\t\t\t\t}),\n\t\t\t\tside: _extends({}, defaults.setting.side, action.preference.side),\n\t\t\t\tbody: _extends({}, defaults.setting.body, action.preference.body)\n\t\t\t});\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction api() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.api;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction keyboard() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn new _Keyboard2.default();\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction element() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.element;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.visible = visible;\nexports.item = item;\nexports.key = key;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction visible() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn true;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn false;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction item() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.item;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction key() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.key;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = base;\n\nvar _types = __webpack_require__(4);\n\nvar types = _interopRequireWildcard(_types);\n\nvar _defaults = __webpack_require__(7);\n\nvar defaults = _interopRequireWildcard(_defaults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar nextFileId = 0;\n\n/**\n * Reducers\n */\n\n// base\nfunction base() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.side;\n\tvar action = arguments[1];\n\n\tvar newState = Object.assign({}, state);\n\tvar files = {};\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\taction.preference.side.files.forEach(function (o) {\n\t\t\t\t\tfiles[nextFileId++] = { image: o, active: false };\n\t\t\t\t});\n\t\t\t\treturn _extends({}, state, action.preference.side, {\n\t\t\t\t\tfiles: _extends({}, state.files, files)\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.SIDE_VISIBLE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tvisible: action.value\n\t\t\t});\n\n\t\tcase types.SIDE_TOGGLE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tvisible: !state.visible\n\t\t\t});\n\n\t\tcase types.SIDE_ADD_FILES:\n\t\t\taction.files.forEach(function (o) {\n\t\t\t\tfiles[nextFileId++] = { image: o, active: false };\n\t\t\t});\n\t\t\treturn _extends({}, state, {\n\t\t\t\tfiles: _extends({}, state.files, files)\n\t\t\t});\n\n\t\tcase types.SIDE_REMOVE_FILES:\n\t\t\tif (!action.keys.length) return state;\n\t\t\taction.keys.forEach(function (o) {\n\t\t\t\tdelete newState.files[o];\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.SIDE_UPDATE_SELECTED:\n\t\t\tif (!(action.value && Object.keys(action.value).length)) return state;\n\t\t\tObject.keys(action.value).forEach(function (k) {\n\t\t\t\tif (!newState.files[k]) return;\n\t\t\t\tnewState.files[k].active = action.value[k].active;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.SIDE_UPDATE_PROGRESS:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tprogressPercent: action.value\n\t\t\t});\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_48__;\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_49__;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// PhotoLayoutEditor.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 34);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 74015dc3dfffcacad65c","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\n// module id = 0\n// module chunks = 0","import * as util from './util';\nimport * as number from './number';\nimport * as object from './object';\nimport * as color from './color';\nimport uploader from './uploader';\nimport makingImage from './makingImage';\nimport Canvas from './Canvas';\nimport resamplingImage from './resamplingImage';\n\n\nexport {\n\tutil,\n\tnumber,\n\tcolor,\n\tobject,\n\tuploader,\n\tmakingImage,\n\tCanvas,\n\tresamplingImage\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"classnames\",\"commonjs2\":\"classnames\",\"amd\":\"classnames\",\"root\":\"classNames\"}\n// module id = 2\n// module chunks = 0","import * as core from './core';\nimport * as body from './body';\nimport * as cropper from './cropper';\nimport * as side from './side';\nimport * as types from './types';\n\n\nexport {\n\tcore,\n\tcropper,\n\tside,\n\tbody,\n\ttypes,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/index.js","export const INIT_PLE = 'INIT_PLE';\n\nexport const SIDE_VISIBLE = 'SIDE_VISIBLE';\nexport const SIDE_ADD_FILES = 'SIDE_ADD_FILES';\nexport const SIDE_REMOVE_FILES = 'SIDE_REMOVE_FILES';\nexport const SIDE_UPDATE_SELECTED = 'SIDE_UPDATE_SELECTED';\nexport const SIDE_TOGGLE = 'SIDE_TOGGLE';\nexport const SIDE_UPDATE_PROGRESS = 'SIDE_UPDATE_PROGRESS';\n\nexport const GRID_ATTACH_IMAGES = 'GRID_ATTACH_IMAGES';\nexport const GRID_ATTACH_IMAGE = 'GRID_ATTACH_IMAGE';\n\nexport const GRID_ADD_BLOCK = 'GRID_ADD_BLOCK';\nexport const GRID_REMOVE_BLOCK = 'GRID_REMOVE_BLOCK';\nexport const GRID_SHUFFLE_BLOCKS = 'GRID_SHUFFLE_BLOCKS';\nexport const GRID_DUPLICATE_BLOCK = 'GRID_DUPLICATE_BLOCK';\nexport const GRID_UPDATE_BLOCKS = 'GRID_UPDATE_BLOCKS';\nexport const GRID_ACTIVE_BLOCK = 'GRID_ACTIVE_BLOCK';\nexport const GRID_SETTING_UPDATE = 'GRID_SETTING_UPDATE';\nexport const GRID_CHANGE_COLOR = 'GRID_CHANGE_COLOR';\n\nexport const CROPPER_OPEN = 'CROPPER_OPEN';\nexport const CROPPER_CLOSE = 'CROPPER_CLOSE';\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/types.js","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}\n// module id = 5\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-redux\",\"commonjs2\":\"react-redux\",\"amd\":\"react-redux\",\"root\":\"PropTypes\"}\n// module id = 6\n// module chunks = 0","export const setting = {\n\tbase: {\n\t\tuploadScript: null,\n\t\tuploadParamsConvertFunc: null,\n\t},\n\tbody: {\n\t\tsetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t\tbgColor: 'rgba(255,255,255,1)',\n\t\t},\n\t\tblockColor: 'rgba(211,211,211,1)',\n\t\tgrid: [],\n\t},\n\tside: {\n\t\tfiles: [],\n\t\tvisible: true,\n\t\t//progressPercent: null,\n\t},\n};\n\n\nexport const side = {\n\tfiles: {},\n\tvisible: true,\n\tprogressPercent: null,\n};\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/defaults.js","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"redux\",\"commonjs2\":\"redux\",\"amd\":\"redux\",\"root\":\"PropTypes\"}\n// module id = 8\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-simple-colorpicker\",\"commonjs2\":\"react-simple-colorpicker\",\"amd\":\"react-simple-colorpicker\",\"root\":\"PropTypes\"}\n// module id = 9\n// module chunks = 0","import Side from './Side';\nimport Grid from './Grid';\nimport Cropper from './Cropper';\nimport Util from './Util';\n\n\nexport default function API(store) {\n\n\tthis.side = new Side(store);\n\tthis.grid = new Grid(store);\n\tthis.cropper = new Cropper(store);\n\tthis.util = new Util(store);\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/index.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\n\nimport * as actions from '../actions';\n\nimport Body from './Body';\nimport Side from './Side';\n\n\nclass Container extends React.Component {\n\n\tstatic displayName = 'Container';\n\n\tstatic defaultProps = {\n\t\tparent: {},\n\t\tdispatch: null,\n\t\ttree: {},\n\t\tsetting: null,\n\t};\n\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\tthis.el = null;\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tconst { props } = this;\n\n\t\tprops.dispatch(actions.core.init(\n\t\t\tprops.parent.api,\n\t\t\tprops.parent.preference || { side: {}, body: {} },\n\t\t\tthis.el\n\t\t));\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={(r) => { this.el = r; }}\n\t\t\t\tclassName={classNames('ple-editor', { 'ple-side-active': props.tree.side.visible })}>\n\t\t\t\t{props.setting && (\n\t\t\t\t\t<div className=\"ple-wrap\">\n\t\t\t\t\t\t<Body/>\n\t\t\t\t\t\t<Side/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Container);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/index.js","import { combineReducers } from 'redux';\n\nimport * as core from './core';\nimport * as body from './body';\nimport side from './side';\nimport * as cropper from './cropper';\n\n\nexport default combineReducers({\n\n\t// settings\n\tsetting: core.setting,\n\n\t// api\n\tapi: core.api,\n\n\t// keyboard event\n\tkeyboard: core.keyboard,\n\n\t// element\n\telement: core.element,\n\n\t// data tree\n\ttree: combineReducers({\n\t\tside,\n\t\tbody: combineReducers({\n\t\t\tsetting: body.setting,\n\t\t\tgrid: body.grid,\n\t\t\tactiveBlock: body.activeBlock\n\t\t}),\n\t\tcropper: combineReducers({\n\t\t\tvisible: cropper.visible,\n\t\t\titem: cropper.item,\n\t\t\tkey: cropper.key\n\t\t})\n\t})\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/index.js","import * as actions from '../actions';\n\n\nexport default class Cropper {\n\n\tconstructor(store)\n\t{\n\t\tthis.store = store;\n\t}\n\n\topen(key)\n\t{\n\t\tconst state = this.store.getState();\n\t\tlet item = null;\n\n\t\ttry {\n\t\t\titem = state.tree.body.grid[key];\n\t\t\tif (!item.image) throw 'Not found image in item';\n\t\t} catch(e) {\n\t\t\talert(e);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.store.dispatch(actions.cropper.open(key, item));\n\t};\n\n\tclose(key, position, size)\n\t{\n\t\tthis.store.dispatch(actions.cropper.close(key, position, size));\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Cropper.js","import * as actions from '../actions';\nimport * as lib from '../lib';\n\n\nexport default class Grid {\n\n\tconstructor(store)\n\t{\n\t\tthis.store = store;\n\t}\n\n\t/**\n\t * get keys in block\n\t *\n\t * @param {String} mode\n\t * @param {Array} keys\n\t * @return {Array}\n\t */\n\tgetKeys(mode=null, keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\tlet result = [];\n\n\t\tswitch(mode)\n\t\t{\n\t\t\tcase 'selected':\n\t\t\t\treturn body.activeBlock;\n\t\t\tcase 'value':\n\t\t\t\tresult = [];\n\t\t\t\tkeys.forEach((k) => {\n\t\t\t\t\tif (body.grid[k])\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(k);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\tcase 'all':\n\t\t\tdefault:\n\t\t\t\treturn Object.keys(body.grid).map(k => k);\n\t\t}\n\t}\n\n\t/**\n\t * get blocks\n\t *\n\t * @param {String} mode\n\t * @param {Array} keys\n\t * @return {Object}\n\t */\n\tgetBlocks(mode=null, keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\tlet selected = [];\n\t\tlet result = {};\n\n\t\tswitch(mode)\n\t\t{\n\t\t\tcase 'selected':\n\t\t\t\tselected = this.getKeys('selected');\n\t\t\t\tbreak;\n\t\t\tcase 'value':\n\t\t\t\tselected = this.getKeys('value', keys);\n\t\t\t\tbreak;\n\t\t\tcase 'all':\n\t\t\tdefault:\n\t\t\t\treturn body.grid;\n\t\t}\n\n\t\tselected.forEach(k => {\n\t\t\tif (!body.grid[k]) return;\n\t\t\tresult[k] = body.grid[k];\n\t\t});\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * shuffle items\n\t *\n\t * @param {Object} options\n\t */\n\tshuffle(options={})\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\tconst defaultOptions = { x: body.setting.column, y: 2, w: 2, h: 2 };\n\n\t\t// assign options\n\t\toptions = Object.assign({}, defaultOptions, options);\n\n\t\tthis.store.dispatch(actions.body.shuffleBlocks(options));\n\t}\n\n\t/**\n\t * assign image\n\t *\n\t * @param {Array} images\n\t */\n\tassignImages(images=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\n\t\tthis.store.dispatch(actions.body.attachImages(\n\t\t\timages,\n\t\t\tbody.setting.column,\n\t\t\tbody.activeBlock\n\t\t));\n\t}\n\n\t/**\n\t * assign image\n\t *\n\t * @param {Number} key\n\t * @param {String} image\n\t */\n\tassignImage(key=null, image=null)\n\t{\n\t\tif (!(key !== null && image !== null)) return;\n\t\tthis.store.dispatch(actions.body.attachImage(key, image));\n\t}\n\n\t/**\n\t * remove images\n\t *\n\t * @param {Array} keys\n\t */\n\tremoveImages(keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tlet newGrid = Object.assign({}, state.tree.body.grid);\n\t\tkeys.forEach(k => {\n\t\t\tnewGrid[k].image = null;\n\t\t});\n\t\tthis.update(newGrid);\n\t}\n\n\t/**\n\t * add blocks\n\t *\n\t * @param {Array} blocks\n\t */\n\tadd(blocks=null)\n\t{\n\t\tconst { getState, dispatch } = this.store;\n\t\tconst state = getState();\n\t\tconst { body } = state.tree;\n\t\tconst defaultOptions = {\n\t\t\tlayout: {\n\t\t\t\tx: Object.keys(body.grid).length % body.setting.column,\n\t\t\t\ty: Infinity,\n\t\t\t\tw: 1,\n\t\t\t\th: 1\n\t\t\t},\n\t\t\tcolor: null,\n\t\t\timage: null\n\t\t};\n\n\t\t/**\n\t\t * add block\n\t\t *\n\t\t * @param {Object} options\n\t\t */\n\t\tfunction block(options={})\n\t\t{\n\t\t\t// assign option\n\t\t\toptions = Object.assign({}, defaultOptions, options);\n\t\t\toptions.layout = Object.assign({}, defaultOptions.layout, options.layout);\n\t\t\toptions.image = options.image ? {\n\t\t\t\tsrc: options.image,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover',\n\t\t\t} : null;\n\n\t\t\tdispatch(actions.body.addBlock(options));\n\t\t}\n\n\t\t// checking blocks\n\t\tblocks = (blocks && blocks.length) ? blocks : [null];\n\n\t\t// play add blocks\n\t\tblocks.forEach(o => block(o));\n\t}\n\n\t/**\n\t * update blocks\n\t *\n\t * @param {Object} blocks\n\t */\n\tupdate(blocks={})\n\t{\n\t\tthis.store.dispatch(actions.body.updateBlocks(blocks));\n\t}\n\n\t/**\n\t * remove blocks\n\t *\n\t * @param {Array} keys\n\t */\n\tremove(keys=[])\n\t{\n\t\tthis.store.dispatch(actions.body.removeBlock(keys));\n\t}\n\n\t/**\n\t * select blocks\n\t *\n\t * @param {Array} keys\n\t */\n\tselect(keys=[])\n\t{\n\t\tkeys = keys.map(k => k.toString());\n\t\tthis.store.dispatch(actions.body.activeBlock(keys));\n\t}\n\n\t/**\n\t * un select blocks\n\t *\n\t * @param {Array} keys\n\t */\n\tunselect(keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tlet newActiveBlock = Object.assign([], state.tree.body.activeBlock);\n\n\t\tkeys.forEach(k => {\n\t\t\tk = k.toString();\n\t\t\tif (newActiveBlock.indexOf(k) !== -1)\n\t\t\t{\n\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(k), 1);\n\t\t\t}\n\t\t});\n\t\tthis.store.dispatch(actions.body.activeBlock(newActiveBlock));\n\t}\n\n\t/**\n\t * toggle select all blocks\n\t *\n\t * @param {Boolean} isSelect\n\t */\n\ttoggleSelectAll(isSelect=null)\n\t{\n\t\tconst state = this.store.getState();\n\n\t\tif (typeof isSelect !== 'boolean')\n\t\t{\n\t\t\tisSelect = !state.tree.body.activeBlock.length;\n\t\t}\n\t\tif (isSelect)\n\t\t{\n\t\t\tthis.select(this.getKeys('all'));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.select([]);\n\t\t}\n\t}\n\n\t/**\n\t * duplicate blocks\n\t *\n\t * @param {Array} keys\n\t */\n\tduplicate(keys=[])\n\t{\n\t\tthis.store.dispatch(actions.body.duplicateBlock(keys));\n\t}\n\n\t/**\n\t * get preference\n\t *\n\t * @return {Object}\n\t */\n\tgetPreference()\n\t{\n\t\tconst state = this.store.getState();\n\t\treturn state.tree.body.setting;\n\t}\n\n\t/**\n\t * set preference\n\t *\n\t * @param {Object} value\n\t */\n\tsetPreference(value={})\n\t{\n\t\tlet newPreference = Object.assign({}, this.getPreference(), value);\n\t\tthis.store.dispatch(actions.body.updateSetting(newPreference));\n\t}\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Grid.js","import * as actions from '../actions';\nimport * as lib from '../lib';\n\n\nexport default class Side {\n\n\tconstructor(store)\n\t{\n\t\tthis.store = store;\n\t\tthis.uploading = false;\n\t}\n\n\t/**\n\t * get id in item\n\t *\n\t * @param {String} mode\n\t * @param {Array} keys\n\t */\n\tgetKeys(mode=null, keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { files } = state.tree.side;\n\t\tlet result = [];\n\n\t\tswitch(mode)\n\t\t{\n\t\t\tcase 'selected':\n\t\t\t\tObject.keys(files).forEach((o) => {\n\t\t\t\t\tif (files[o].active)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(parseInt(o));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'value':\n\t\t\t\tkeys.forEach((o) => {\n\t\t\t\t\tif (files[o])\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(parseInt(o));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'all':\n\t\t\tdefault:\n\t\t\t\tresult = Object.keys(files).map((o) => parseInt(o));\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Add files\n\t *\n\t * @param {Array} files\n\t * @return {Error}\n\t */\n\tadd(files)\n\t{\n\t\ttry\n\t\t{\n\t\t\tif (!(files instanceof Array))\n\t\t\t{\n\t\t\t\tthrow new Error('not found files');\n\t\t\t}\n\t\t\tthis.store.dispatch(actions.side.addFiles(files));\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn e;\n\t\t}\n\t};\n\n\t/**\n\t * selection items\n\t *\n\t * @param {Array} keys\n\t * @param {Boolean} active\n\t * @return {Error}\n\t */\n\tselection(keys=[], active=true)\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet selected = this.getKeys('value', keys);\n\t\t\tif (selected.length <= 0)\n\t\t\t{\n\t\t\t\tthrow new Error('not found select item');\n\t\t\t}\n\t\t\tselected = selected.map((o) => ({ key: o, active }));\n\t\t\tthis.store.dispatch(actions.side.updateSelected(selected));\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn e;\n\t\t}\n\t}\n\n\t/**\n\t * select items\n\t *\n\t * @param {Array} value\n\t */\n\tselect(value=[])\n\t{\n\t\tthis.store.dispatch(actions.side.updateSelected(value));\n\t}\n\n\t/**\n\t * toggle select all\n\t *\n\t * @param {Boolean} active\n\t */\n\ttoggleSelectAll(active=null)\n\t{\n\t\tif (typeof active === 'boolean')\n\t\t{\n\t\t\tlet selected = this.getKeys('all');\n\t\t\tthis.selection(selected, active);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet activeCount = this.getKeys('selected').length;\n\t\t\tlet keys = this.getKeys('all');\n\t\t\tthis.selection(keys, !(activeCount > 0));\n\t\t}\n\t}\n\n\t/**\n\t * remove items\n\t *\n\t * @param {Array} keys\n\t * @return {Error}\n\t */\n\tremove(keys=[])\n\t{\n\t\ttry\n\t\t{\n\t\t\tif (!keys.length)\n\t\t\t{\n\t\t\t\tthrow new Error('Not found items.')\n\t\t\t}\n\t\t\tthis.store.dispatch(actions.side.removeFiles(keys));\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn e;\n\t\t}\n\t}\n\n\t/**\n\t * Clear items\n\t */\n\tclear()\n\t{\n\t\tlet keys = this.getKeys('all');\n\t\tthis.store.dispatch(actions.side.removeFiles(keys))\n\t}\n\n\t/**\n\t * Upload files\n\t *\n\t * @param {FileList} files\n\t * @param {Object} callbacks\n\t */\n\tupload(files, callbacks={})\n\t{\n\t\t/**\n\t\t * @param {Function} callbacks.start\n\t\t * @param {Function} callbacks.progress\n\t\t * @param {Function} callbacks.complete\n\t\t * @param {Function} callbacks.completeAll\n\t\t * @param {Function} callbacks.fail\n\t\t */\n\t\tif (this.uploading) return;\n\n\t\tconst state = this.store.getState();\n\t\tthis.uploading = true;\n\n\t\tif (callbacks.start) callbacks.start();\n\n\t\tlib.uploader(files, state.setting.base.uploadScript)\n\t\t\t.progress((type, res) => {\n\t\t\t\tswitch(type)\n\t\t\t\t{\n\t\t\t\t\tcase 'start':\n\t\t\t\t\t\tthis.store.dispatch(actions.side.updateProgress(0));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'progress':\n\t\t\t\t\t\tconst percent = parseInt((res.loaded / res.total * 100));\n\t\t\t\t\t\tthis.store.dispatch(actions.side.updateProgress(percent));\n\t\t\t\t\t\tif (callbacks.progress) callbacks.progress(res.loaded, res.total, percent);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'done':\n\t\t\t\t\t\tthis.store.dispatch(actions.side.updateProgress(null));\n\t\t\t\t\t\tif (!res.data) return;\n\t\t\t\t\t\tif (state.setting.base.uploadParamsConvertFunc)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet result = state.setting.base.uploadParamsConvertFunc(res.data);\n\t\t\t\t\t\t\tthis.store.dispatch(actions.side.addFiles([result]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.store.dispatch(actions.side.addFiles([res.data.url]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (callbacks.complete) callbacks.complete(res.data);\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.done(() => {\n\t\t\t\tthis.uploading = false;\n\t\t\t\tif (callbacks.completeAll) callbacks.completeAll();\n\t\t\t})\n\t\t\t.fail((error) => {\n\t\t\t\tthis.uploading = false;\n\t\t\t\tif (callbacks.fail) callbacks.fail(error);\n\t\t\t});\n\t}\n\n\t/**\n\t * attach items to grid\n\t *\n\t * @param {Array} keys\n\t * @return {Error}\n\t */\n\tattachToGrid(keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { body } = state.tree;\n\t\ttry\n\t\t{\n\t\t\tlet selectedImages = this.getImages(keys);\n\t\t\tif (!selectedImages.length)\n\t\t\t{\n\t\t\t\tthrow new Error('not found item.');\n\t\t\t}\n\t\t\tthis.store.dispatch(actions.body.attachImages(\n\t\t\t\tselectedImages,\n\t\t\t\tbody.setting.column,\n\t\t\t\tbody.activeBlock\n\t\t\t));\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\treturn e;\n\t\t}\n\t}\n\n\t/**\n\t * get items\n\t *\n\t * @param {Array} keys\n\t * @return {Object}\n\t */\n\tgetItems(keys=[])\n\t{\n\t\tconst state = this.store.getState();\n\t\tconst { side } = state.tree;\n\t\tkeys = this.getKeys('value', keys);\n\t\tlet result = {};\n\t\tkeys.forEach((o) => {\n\t\t\tif (side.files[o])\n\t\t\t{\n\t\t\t\tresult[o] = side.files[o];\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * get images\n\t *\n\t * @param {Array} keys\n\t * @return {Array}\n\t */\n\tgetImages(keys=[])\n\t{\n\t\tlet items = this.getItems(keys);\n\t\treturn Object.keys(items).map((o) => {\n\t\t\treturn items[o].image;\n\t\t});\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Side.js","import $ from 'jquery/dist/jquery.slim';\n\nimport * as actions from '../actions';\nimport * as lib from '../lib';\n\n\nexport default class Util {\n\n\tconstructor(store)\n\t{\n\t\tthis.store = store;\n\t}\n\n\t/**\n\t * Toggle side\n\t *\n\t * @param {Boolean|undefined} sw\n\t */\n\ttoggleSide(sw=undefined)\n\t{\n\t\ttry {\n\t\t\tconst currentSw = this.store.getState().tree.side.visible;\n\t\t\tconst targetSw = (typeof sw === 'undefined') ? !currentSw : sw;\n\n\t\t\tthis.store.dispatch(actions.side.visible(targetSw));\n\t\t} catch(e) {\n\t\t\tconsole.warn('Error action', e)\n\t\t}\n\t};\n\n\t/**\n\t * export\n\t *\n\t * @param {String} type\n\t * @return {Array|Object}\n\t */\n\texport(type=null)\n\t{\n\t\tif (!type) return null;\n\n\t\tconst state = this.store.getState();\n\n\t\tfunction side()\n\t\t{\n\t\t\tlet keys = state.api.side.getKeys('all');\n\t\t\treturn state.api.side.getImages(keys);\n\t\t}\n\t\tfunction grid()\n\t\t{\n\t\t\tlet result = state.api.grid.getBlocks('all');\n\t\t\treturn Object.keys(result).sort().map(o => {\n\t\t\t\tdelete result[o].indexPrefix;\n\t\t\t\treturn result[o];\n\t\t\t});\n\t\t}\n\t\tfunction preference()\n\t\t{\n\t\t\treturn state.api.grid.getPreference();\n\t\t}\n\n\t\tswitch(type)\n\t\t{\n\t\t\tcase 'side':\n\t\t\t\treturn side();\n\t\t\tcase 'grid':\n\t\t\t\treturn grid();\n\t\t\tcase 'preference':\n\t\t\t\treturn state.api.grid.getPreference();\n\t\t\tcase 'all':\n\t\t\t\treturn {\n\t\t\t\t\tside: side(),\n\t\t\t\t\tgrid: grid(),\n\t\t\t\t\tpreference: preference(),\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * import\n\t *\n\t * @param {String} type\n\t * @param {Array|Object} value\n\t * @param {Boolean} replace\n\t */\n\timport(type=null, value=null, replace=false)\n\t{\n\t\tif (!(type && value)) return;\n\n\t\tconst state = this.store.getState();\n\n\t\tfunction side(value=null)\n\t\t{\n\t\t\tif (replace) state.api.side.clear();\n\t\t\tstate.api.side.add(value);\n\t\t}\n\t\tfunction grid(value=null)\n\t\t{\n\t\t\tif (replace)\n\t\t\t{\n\t\t\t\tlet keys = state.api.grid.getKeys('all');\n\t\t\t\tstate.api.grid.remove(keys);\n\t\t\t}\n\t\t\tstate.api.grid.add(value);\n\t\t}\n\n\t\tswitch(type)\n\t\t{\n\t\t\tcase 'side':\n\t\t\t\tside(value);\n\t\t\t\tbreak;\n\t\t\tcase 'grid':\n\t\t\t\tgrid(value);\n\t\t\t\tbreak;\n\t\t\tcase 'preference':\n\t\t\t\tstate.api.grid.setPreference(value);\n\t\t\t\tbreak;\n\t\t\tcase 'all':\n\t\t\t\tside(value.side);\n\t\t\t\tgrid(value.grid);\n\t\t\t\tstate.api.grid.setPreference(value.preference);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * make image\n\t *\n\t * @param {String} format (jpg|png)\n\t * @param {Number} quality\n\t * @param {Number} sampling\n\t * @param {String} output\n\t * @return {Promise}\n\t */\n\tmakeImage(format='jpg', quality=.75, sampling=2, output=null)\n\t{\n\t\tconst defer = $.Deferred();\n\t\tconst state = this.store.getState();\n\t\tconst { setting, grid } = state.tree.body;\n\n\t\tlib.makingImage(\n\t\t\tstate.element.querySelector('.ple-grid'),\n\t\t\t{ setting, grid },\n\t\t\t{ format, quality, sampling, output }\n\t\t).done((image) => {\n\t\t\tdefer.resolve(image);\n\t\t}).progress((total, current, image) => {\n\t\t\tdefer.notify(total, current, image);\n\t\t}).fail(() => {\n\t\t\tdefer.reject();\n\t\t});\n\n\t\treturn defer.promise();\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/API/Util.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactGridLayout from 'react-grid-layout';\nimport classNames from 'classnames';\n\nimport Cropper from '../../Cropper';\n\nimport * as actions from '../../../actions';\nimport * as libs from '../../../lib';\n\n\nlet timeStamp = [];\n\n\nclass GridLayout extends React.Component {\n\n\tstatic displayName = 'GridLayout';\n\n\tstatic defaultProps = {\n\t\ttree: null,\n\t\tdispatch: null,\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t}\n\n\t/**\n\t * on select block\n\t *\n\t * @param {String} key\n\t */\n\t_selectBlock(key=null)\n\t{\n\t\tconst { props } = this;\n\n\t\tif (key === null)\n\t\t{\n\t\t\tprops.api.grid.select([]);\n\t\t\treturn;\n\t\t}\n\n\t\tswitch(props.keyboard.keyName)\n\t\t{\n\t\t\tcase 'CMD':\n\t\t\tcase 'CTRL':\n\t\t\tcase 'SHIFT':\n\t\t\t\tif (libs.object.isArray(props.tree.body.activeBlock))\n\t\t\t\t{\n\t\t\t\t\tlet newActiveBlock = Object.assign([], props.tree.body.activeBlock);\n\t\t\t\t\tif (newActiveBlock.indexOf(key) > -1)\n\t\t\t\t\t{\n\t\t\t\t\t\tnewActiveBlock.splice(newActiveBlock.indexOf(key), 1);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tnewActiveBlock.push(key);\n\t\t\t\t\t}\n\t\t\t\t\tprops.api.grid.select(newActiveBlock);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\tprops.api.grid.select([key]);\n\t}\n\n\t/**\n\t * On update blocks\n\t *\n\t * @param {String} type\n\t * @param {Array} layout\n\t * @param {HTMLElement} element\n\t */\n\t_updateBlocks(type, layout=null, element=null)\n\t{\n\t\tconst { props } = this;\n\n\t\t/**\n\t\t * convert layout\n\t\t *\n\t\t * @return {Object}\n\t\t */\n\t\tfunction convertLayout()\n\t\t{\n\t\t\tlet result = {};\n\t\t\tfor (let i=0; i<layout.length; i++)\n\t\t\t{\n\t\t\t\tresult[layout[i].i.split('__')[1]] = layout[i];\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tswitch(type)\n\t\t{\n\t\t\tcase 'start':\n\t\t\t\ttimeStamp[0] = new Date().getTime();\n\t\t\t\tbreak;\n\n\t\t\tcase 'end':\n\t\t\t\ttimeStamp[1] = new Date().getTime();\n\t\t\t\tif (timeStamp[1] - timeStamp[0] > 400)\n\t\t\t\t{\n\t\t\t\t\tlet newLayout = convertLayout();\n\t\t\t\t\tlet newGrid = {};\n\t\t\t\t\tObject.keys(props.tree.body.grid).forEach(k => {\n\t\t\t\t\t\tnewGrid[k] = {\n\t\t\t\t\t\t\t...props.tree.body.grid[k],\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: newLayout[k].x,\n\t\t\t\t\t\t\t\ty: newLayout[k].y,\n\t\t\t\t\t\t\t\tw: newLayout[k].w,\n\t\t\t\t\t\t\t\th: newLayout[k].h,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tprops.dispatch(actions.body.updateBlocks(newGrid));\n\t\t\t\t}\n\t\t\t\ttimeStamp = [];\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * Render item\n\t *\n\t * @param {String} k\n\t * @return {Component}\n\t */\n\trenderItem(k)\n\t{\n\t\tconst { props } = this;\n\t\tconst { activeBlock, grid } = props.tree.body;\n\t\tconst item = grid[k];\n\n\t\tlet key = `${item.indexPrefix}__${k}`;\n\t\tlet active = !!(activeBlock && activeBlock.length && activeBlock.indexOf(k) > -1);\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={key}\n\t\t\t\tdata-grid={item.layout}\n\t\t\t\tdata-key={k}\n\t\t\t\tonClick={(event) => {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tthis._selectBlock(k, !!item.image);\n\t\t\t\t}}\n\t\t\t\tstyle={{ backgroundColor: item.color || props.setting.body.blockColor }}\n\t\t\t\tclassName={classNames({ 'ple-grid__item-active': active })}>\n\t\t\t\t{item.image && (\n\t\t\t\t\t<figure\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundImage: `url('${item.image.src}')`,\n\t\t\t\t\t\t\tbackgroundPosition: item.image.position,\n\t\t\t\t\t\t\tbackgroundSize: item.image.size,\n\t\t\t\t\t\t}}/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\t\tconst { setting } = props.tree.body;\n\t\tconst bodyWidth = (setting.width * setting.column) +\n\t\t\t(setting.innerMargin * (setting.column-1)) +\n\t\t\t(setting.outerMargin * 2);\n\n\t\treturn (\n\t\t\t<div className=\"ple-grid__wrap\" onClick={() => this._selectBlock()}>\n\t\t\t\t<div className=\"ple-grid__body\" style={{ width: `${bodyWidth}px` }}>\n\t\t\t\t\t<ReactGridLayout\n\t\t\t\t\t\tautoSize={true}\n\t\t\t\t\t\tcols={setting.column}\n\t\t\t\t\t\trowHeight={setting.height}\n\t\t\t\t\t\twidth={bodyWidth}\n\t\t\t\t\t\tmargin={[setting.innerMargin, setting.innerMargin]}\n\t\t\t\t\t\tcontainerPadding={[setting.outerMargin, setting.outerMargin]}\n\t\t\t\t\t\tverticalCompact={!setting.freeMode}\n\t\t\t\t\t\tonDragStart={() => this._updateBlocks('start')}\n\t\t\t\t\t\tonDragStop={(layout, oldItem, newItem, placeholder, e, element) => this._updateBlocks('end', layout, element)}\n\t\t\t\t\t\tonResizeStart={() => this._updateBlocks('start')}\n\t\t\t\t\t\tonResizeStop={(layout, oldItem, newItem, placeholder, e, element) => this._updateBlocks('end', layout, element)}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: `100%`,\n\t\t\t\t\t\t\tbackgroundColor: setting.bgColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"ple-grid\">\n\t\t\t\t\t\t{Object.keys(props.tree.body.grid).map(this.renderItem.bind(this))}\n\t\t\t\t\t</ReactGridLayout>\n\t\t\t\t\t{props.tree.cropper.visible ? ( <Cropper/> ) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(GridLayout);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/GridLayout/index.js","import React from 'react';\nimport classNames from 'classnames';\n\n\nexport default class Button extends React.Component {\n\n\tstatic displayName = 'Button';\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div className={classNames('ple-toolbar__block', props.className)}>\n\t\t\t\t<button type=\"button\" title={props.title} onClick={props.onClick}>\n\t\t\t\t\t<i className={classNames('ple-sp-ico', 'ple-abs', props.iconClass)}>{props.title}</i>\n\t\t\t\t</button>\n\t\t\t\t{!!props.children && (\n\t\t\t\t\t<div className=\"ple-toolbar__pop\">{props.children}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/Button.js","import React from 'react';\nimport $ from 'jquery/dist/jquery.slim';\nimport ColorPicker from 'react-simple-colorpicker';\nimport className from 'classnames';\n\n\nexport default class EditLayoutSetting extends React.Component {\n\n\tstatic displayName = 'EditLayoutSetting';\n\n\tstatic defaultProps = {\n\t\tsubmit: (e) => {},\n\t\tsetting: null,\n\t\tdefaultSetting: {\n\t\t\twidth: 100,\n\t\t\theight: 100,\n\t\t\tcolumn: 5,\n\t\t\touterMargin: 10,\n\t\t\tinnerMargin: 10,\n\t\t\tfreeMode: false,\n\t\t\tbgColor: 'rgba(255,255,255,1)',\n\t\t},\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t...props.defaultSetting,\n\t\t\t...props.setting,\n\t\t\tpopup_bgColor: false,\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps()\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.setState({\n\t\t\t...props.defaultSetting,\n\t\t\t...props.setting,\n\t\t});\n\t}\n\n\tactiveBgColorPopup(sw, e)\n\t{\n\t\tconst { state } = this;\n\t\tconst cTarget = e ? e.currentTarget : null;\n\n\t\tsw = sw || !state.popup_bgColor;\n\n\t\tif (sw)\n\t\t{\n\t\t\t$(document).on('click.pleEditBgColor', (e) => {\n\t\t\t\tif ($(e.target).closest('.ple-edit-bgColor__popup').length) return;\n\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget))\n\t\t\t\t{\n\t\t\t\t\tthis.activeBgColorPopup(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(document).off('click.pleEditBgColor');\n\t\t}\n\n\t\tthis.setState({ popup_bgColor: sw });\n\t}\n\n\t_submit(e)\n\t{\n\t\te.preventDefault();\n\t\tthis.props.submit(this.state);\n\t}\n\n\t_reset()\n\t{\n\t\tthis.setState({\n\t\t\t...this.props.defaultSetting\n\t\t});\n\t}\n\n\t_change(e)\n\t{\n\t\tswitch(e.target.type) {\n\t\t\tcase 'text':\n\t\t\t\tthis.setState({ [e.target.name]: e.target.value });\n\t\t\t\tbreak;\n\t\t\tcase 'number':\n\t\t\t\tthis.setState({ [e.target.name]: parseInt(e.target.value) });\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t_openBgColorPicker(e)\n\t{\n\t\te.persist();\n\t\tthis.activeBgColorPopup(null, e);\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\n\t\treturn (\n\t\t\t<form onSubmit={this._submit.bind(this)} className=\"ple-edit-setting\">\n\t\t\t\t<fieldset className=\"ple-edit-setting__form\">\n\t\t\t\t\t<legend>Settings form</legend>\n\t\t\t\t\t<h1 className=\"ple-edit-setting__title\">Settings</h1>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_width\">Width</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"width\" id=\"frm_width\"\n\t\t\t\t\t\t\t\tmin={1} max={999} maxLength={3}\n\t\t\t\t\t\t\t\tvalue={state.width}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired/>\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_height\">Height</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"height\" id=\"frm_height\"\n\t\t\t\t\t\t\t\tmin={1} max={999}\n\t\t\t\t\t\t\t\tvalue={state.height}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired/>\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_column\">Column</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"column\" id=\"frm_column\"\n\t\t\t\t\t\t\t\tmin={1} max={99}\n\t\t\t\t\t\t\t\tvalue={state.column}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>ea</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl className=\"ple-type-input\">\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_outerMargin\">Outer margin</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"outerMargin\" id=\"frm_outerMargin\"\n\t\t\t\t\t\t\t\tmin={0} max={500}\n\t\t\t\t\t\t\t\tvalue={state.outerMargin}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl className=\"ple-type-input\">\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_innerMargin\">Inner margin</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\" name=\"innerMargin\" id=\"frm_innerMargin\"\n\t\t\t\t\t\t\t\tmin={0} max={500}\n\t\t\t\t\t\t\t\tvalue={state.innerMargin}\n\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_bgColor\">Bg color</label></dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<div className=\"ple-edit-bgColor\">\n\t\t\t\t\t\t\t\t<span className={className('ple-edit-bgColor__inputBox', {\n\t\t\t\t\t\t\t\t\t'ple-edit-bgColor__inputBox-active': state.popup_bgColor\n\t\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"bgColor\"\n\t\t\t\t\t\t\t\t\t\tid=\"frm_bgColor\"\n\t\t\t\t\t\t\t\t\t\tvalue={state.bgColor}\n\t\t\t\t\t\t\t\t\t\tonChange={this._change.bind(this)}\n\t\t\t\t\t\t\t\t\t\tonClick={this._openBgColorPicker.bind(this)}\n\t\t\t\t\t\t\t\t\t\treadOnly={true}\n\t\t\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\t\t\tclassName=\"ple-edit-bgColor__input\"\n\t\t\t\t\t\t\t\t\t    style={{ backgroundColor: state.bgColor }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{state.popup_bgColor && (\n\t\t\t\t\t\t\t\t\t<div className=\"ple-edit-bgColor__popup\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"ple-edit-bgColor__picker\">\n\t\t\t\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(color) => this.setState({ bgColor: color })}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor={state.bgColor}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t\t<dl>\n\t\t\t\t\t\t<dt><label htmlFor=\"frm_freeMode\">Free mode</label></dt>\n\t\t\t\t\t\t<dd className=\"ple-type-checkbox\">\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\" name=\"freeMode\" id=\"frm_freeMode\"\n\t\t\t\t\t\t\t\t\tonChange={() => this.setState({ freeMode: true })}\n\t\t\t\t\t\t\t\t\tchecked={state.freeMode}/>\n\t\t\t\t\t\t\t\t<span>true</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\" name=\"freeMode\"\n\t\t\t\t\t\t\t\t\tonChange={() => this.setState({ freeMode: false })}\n\t\t\t\t\t\t\t\t\tchecked={!state.freeMode}/>\n\t\t\t\t\t\t\t\t<span>false</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t</fieldset>\n\n\t\t\t\t<nav className=\"ple-edit-setting__buttons\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<button type=\"button\" onClick={this._reset.bind(this)}>Reset</button>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<button type=\"submit\" className=\"ple-submit\">Apply</button>\n\t\t\t\t\t</span>\n\t\t\t\t</nav>\n\t\t\t</form>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/EditLayoutSetting.js","import React from 'react';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport $ from 'jquery/dist/jquery.slim';\nimport ColorPicker from 'react-simple-colorpicker';\n\nimport * as actions from '../../../actions';\nimport * as libs from '../../../lib';\n\nimport Button from './Button';\nimport EditLayoutSetting from './EditLayoutSetting';\n\n\nclass Toolbar extends React.Component {\n\n\tstatic displayName = 'Toolbar';\n\n\tstatic defaultProps = {\n\t\tdispatch: null,\n\t\ttree: null,\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactive: {\n\t\t\t\tsetting: false,\n\t\t\t\teditBlockColor: false,\n\t\t\t},\n\t\t\tvisible: {\n\t\t\t\tsetting: true,\n\t\t\t\tshuffle: true,\n\t\t\t\tadd: true,\n\t\t\t\tselect: true,\n\t\t\t\tedit: false,\n\t\t\t\tremoveImage: false,\n\t\t\t\tduplicate: false,\n\t\t\t\tremoveBlock: false,\n\t\t\t\teditColor: false\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps)\n\t{\n\t\tconst { state, props } = this;\n\n\t\tlet newState = Object.assign({}, state);\n\t\tlet updated = false;\n\n\t\t// select block\n\t\tif (props.tree.body.activeBlock.length !== nextProps.tree.body.activeBlock.length)\n\t\t{\n\t\t\t//console.log(isImage);\n\t\t\tlet active = !!(nextProps.tree.body.activeBlock.length);\n\t\t\tnewState.visible = Object.assign({}, newState.visible, {\n\t\t\t\tedit: false,\n\t\t\t\tremoveImage: false,\n\t\t\t\tduplicate: active,\n\t\t\t\tremoveBlock: active,\n\t\t\t\teditColor: active\n\t\t\t});\n\t\t\tupdated = true;\n\t\t}\n\n\t\tif (nextProps.tree.body.activeBlock[0])\n\t\t{\n\t\t\t// check image block\n\t\t\tlet isImage = false;\n\t\t\tnextProps.tree.body.activeBlock.some(k => {\n\t\t\t\tif (nextProps.tree.body.grid[k].image)\n\t\t\t\t{\n\t\t\t\t\tisImage = true;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// select image block\n\t\t\tlet block = nextProps.tree.body.grid[nextProps.tree.body.activeBlock[0]];\n\t\t\tnewState.visible = Object.assign({}, newState.visible, {\n\t\t\t\tremoveImage: isImage,\n\t\t\t\tedit: !!(block && block.image)\n\t\t\t});\n\t\t\tupdated = true;\n\t\t}\n\n\t\tif (updated)\n\t\t{\n\t\t\tthis.setState(newState);\n\t\t}\n\t}\n\n\tchangeActive(keyName, userSW, event)\n\t{\n\t\tconst { state } = this;\n\t\tconst sw = userSW || !state.active[keyName];\n\t\tconst cTarget = event ? event.currentTarget : null;\n\n\t\tif (sw)\n\t\t{\n\t\t\t$(document).on('click.pleToolbar', (e) => {\n\t\t\t\tif ($(e.target).closest('.ple-toolbar__pop').length) return;\n\t\t\t\tif (!(e.target === cTarget) && !(e.target.parentNode === cTarget))\n\t\t\t\t{\n\t\t\t\t\tthis.changeActive(keyName, false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(document).off('click.pleToolbar');\n\t\t}\n\n\t\tthis.setState({\n\t\t\tactive: {\n\t\t\t\t...state.active,\n\t\t\t\tsetting: false,\n\t\t\t\teditColor: false,\n\t\t\t\t[keyName] : sw,\n\t\t\t}\n\t\t});\n\t}\n\n\tdeactivate()\n\t{\n\t\t$(document).off('click.pleToolbar');\n\t\treturn new Promise((reject) => {\n\t\t\tthis.setState({\n\t\t\t\tactive: {\n\t\t\t\t\tsetting: false,\n\t\t\t\t\teditColor: false,\n\t\t\t\t}\n\t\t\t}, reject);\n\t\t});\n\t}\n\n\tsubmitEditSetting(state)\n\t{\n\t\tthis.props.dispatch(actions.body.updateSetting(state));\n\t\tthis.changeActive('setting', false);\n\t\treturn false;\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\t\tlet activeBlockColor = '#fff';\n\n\t\tif (typeof props.tree.body.grid === 'object' && libs.object.isArray(props.tree.body.activeBlock))\n\t\t{\n\t\t\tconst n = props.tree.body.activeBlock[0];\n\t\t\tactiveBlockColor = (props.tree.body.grid[n] && props.tree.body.grid[n].color) ?\n\t\t\t\tprops.tree.body.grid[n].color :\n\t\t\t\tprops.setting.body.blockColor;\n\t\t}\n\n\t\treturn (\n\t\t\t<nav className=\"ple-toolbar\">\n\t\t\t\t<div className=\"ple-toolbar__wrap\">\n\t\t\t\t\t{state.visible.setting && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-setting\"\n\t\t\t\t\t\t\tclassName={classNames('ple-edit-setting', {\n\t\t\t\t\t\t\t\t'ple-toolbar__block-active': state.active.setting\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.setting)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.deactivate().then(() => {\n\t\t\t\t\t\t\t\t\t\tthis.changeActive('setting', null, e);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Edit preference\">\n\t\t\t\t\t\t\t<EditLayoutSetting\n\t\t\t\t\t\t\t\tsubmit={this.submitEditSetting.bind(this)}\n\t\t\t\t\t\t\t\tsetting={props.tree.body.setting}\n\t\t\t\t\t\t\t\tdefaultSetting={props.setting.body.setting}/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.shuffle && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-arrow-random\"\n\t\t\t\t\t\t\tonClick={() => props.api.grid.shuffle()}\n\t\t\t\t\t\t\ttitle=\"Shuffle block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.add && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-plus\"\n\t\t\t\t\t\t\tonClick={() => props.api.grid.add()}\n\t\t\t\t\t\t\ttitle=\"Add block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.select && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-select\"\n\t\t\t\t\t\t\tonClick={() => props.api.grid.toggleSelectAll()}\n\t\t\t\t\t\t\ttitle=\"Toggle select block\"/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{state.visible.edit && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-pencil\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => props.api.cropper.open(props.tree.body.activeBlock[0])}\n\t\t\t\t\t\t\ttitle=\"Edit block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.removeImage && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-empty\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => props.api.grid.removeImages(props.tree.body.activeBlock)}\n\t\t\t\t\t\t\ttitle=\"Remove image in block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.duplicate && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-duplicate\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprops.dispatch(actions.body.duplicateBlock(props.tree.body.activeBlock));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Duplicate block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.removeBlock && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-trash\"\n\t\t\t\t\t\t\tclassName=\"ple-toolbar__block-key\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (props.tree.body.activeBlock === null)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\talert('Not found select block');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprops.api.grid.remove(props.tree.body.activeBlock);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Remove block\"/>\n\t\t\t\t\t)}\n\t\t\t\t\t{state.visible.editColor && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonClass=\"ple-ico-palette\"\n\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\t'ple-edit-color',\n\t\t\t\t\t\t\t\t'ple-toolbar__block-key',\n\t\t\t\t\t\t\t\t{ 'ple-toolbar__block-active': state.active.editColor }\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\tif (!state.active.editColor)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.deactivate().then(() => this.changeActive('editColor', null, e));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle=\"Change color\">\n\t\t\t\t\t\t\t<div className=\"ple-colorPicker__wrap\">\n\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\tonChange={(color) => {\n\t\t\t\t\t\t\t\t\t\tif (!color) return;\n\t\t\t\t\t\t\t\t\t\tprops.dispatch(actions.body.changeColorBlock(props.tree.body.activeBlock, color));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcolor={activeBlockColor}\n\t\t\t\t\t\t\t\t\tclassName=\"ple-colorPicker__body\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Toolbar);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/Toolbar/index.js","import React from 'react';\n\nimport GridLayout from \"./GridLayout\";\nimport Toolbar from './Toolbar';\n\n\nexport default class Body extends React.Component {\n\n\tstatic displayName = 'Body';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ple-container\">\n\t\t\t\t<div className=\"ple-body\">\n\t\t\t\t\t<Toolbar/>\n\t\t\t\t\t<GridLayout/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Body/index.js","import React from 'react';\nimport ReactDom from 'react-dom';\nimport $ from 'jquery/dist/jquery.slim';\nimport classNames from 'classnames';\n\nimport { util } from '../../lib';\n\n\nconst controlEvent = {\n\tstart: (util.isTouchDevice()) ? 'touchstart' : 'mousedown',\n\tmove: (util.isTouchDevice()) ? 'touchmove' : 'mousemove',\n\tend: (util.isTouchDevice()) ? 'touchend' : 'mouseup',\n};\n\n\nexport default class Block extends React.Component {\n\n\tstatic displayName = 'Block';\n\n\tstatic defaultProps = {\n\t\tsrc: '',\n\t\tposition: '',\n\t\tsize: '',\n\t\tbgColor: '#fff',\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tposition: props.position,\n\t\t\tsize: props.size,\n\t\t\tisCover: props.size === 'cover',\n\t\t};\n\n\t\tthis._self = null;\n\t\tthis.$self = null;\n\t\tthis.$img = null;\n\t\tthis.moveStartInfo = {};\n\t\tthis.resizeStartInfo = {};\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\t// set dom\n\t\tthis.$self = $(ReactDom.findDOMNode(this._self));\n\t}\n\n\tcomponentWillReceiveProps(nextProps)\n\t{\n\t\tconst { props } = this;\n\n\t\tif (props.size !== nextProps.size)\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tposition: nextProps.position,\n\t\t\t\tsize: nextProps.size,\n\t\t\t\tisCover: nextProps.size === 'cover',\n\t\t\t});\n\t\t}\n\t}\n\n\t_moveStart(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst { state } = this;\n\n\t\t// set image element\n\t\tthis.$img = this.$self.find('img');\n\n\t\tthis.moveStartInfo = {\n\t\t\tcontainerX: parseInt(state.position.split(' ')[0]),\n\t\t\tcontainerY: parseInt(state.position.split(' ')[1]),\n\t\t\tmouseX : (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + $(window).scrollLeft(),\n\t\t\tmouseY : (e.clientY || e.pageY || e.nativeEvent.touches[0].clientY) + $(window).scrollTop(),\n\t\t};\n\n\t\t$(document)\n\t\t\t.on(`${controlEvent.move}.move`, this._moveIng.bind(this))\n\t\t\t.on(`${controlEvent.end}.move`, this._moveEnd.bind(this));\n\t}\n\t_moveIng(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst evt = (e.type === 'touchmove') ? e.originalEvent.touches[0] : e;\n\t\tlet mouse = {};\n\t\tlet distance = {};\n\n\t\tmouse.x = (evt.clientX || evt.pageX) + $(window).scrollLeft();\n\t\tmouse.y = (evt.clientY || evt.pageY) + $(window).scrollTop();\n\n\t\tdistance.x = this.moveStartInfo.containerX + (mouse.x - this.moveStartInfo.mouseX);\n\t\tdistance.y = this.moveStartInfo.containerY + (mouse.y - this.moveStartInfo.mouseY);\n\n\t\tthis.setState({\n\t\t\tposition: `${parseInt(distance.x)}px ${parseInt(distance.y)}px`\n\t\t});\n\t}\n\t_moveEnd(e)\n\t{\n\t\te.preventDefault();\n\n\t\tthis.$img = null;\n\t\tthis.moveStartInfo = null;\n\n\t\t$(document)\n\t\t\t.off(`${controlEvent.move}.move`)\n\t\t\t.off(`${controlEvent.end}.move`);\n\t}\n\n\t_resizeStart(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tconst { state } = this;\n\n\t\tthis.$img = this.$self.find('img');\n\t\tthis.resizeStartInfo = {\n\t\t\ttitle: e.currentTarget.title,\n\t\t\twidth: this.$img.width(),\n\t\t\theight: this.$img.height(),\n\t\t\tmouseX : (e.clientX || e.pageX || e.nativeEvent.touches[0].clientX) + $(window).scrollLeft(),\n\t\t\tposX: parseInt(state.position.split(' ')[0]),\n\t\t\tposY: parseInt(state.position.split(' ')[1]),\n\t\t};\n\n\t\t$(document)\n\t\t\t.on(`${controlEvent.move}.resize`, this._resizeIng.bind(this))\n\t\t\t.on(`${controlEvent.end}.resize`, this._resizeEnd.bind(this));\n\t}\n\t_resizeIng(e)\n\t{\n\t\te.stopPropagation();\n\n\t\tlet size = {};\n\t\tlet position = {};\n\t\tlet ratio = 1;\n\t\tlet distanceHeight = 0;\n\t\tlet evt = (e.type === 'touchmove') ? e.originalEvent.touches[0] : e;\n\n\t\t// set mouse position\n\t\tlet distanceX = (evt.clientX || evt.pageX) + $(window).scrollLeft() - this.resizeStartInfo.mouseX;\n\n\t\t// set position and size\n\t\tswitch(this.resizeStartInfo.title) {\n\t\t\tcase 'resize-lt':\n\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\tbreak;\n\t\t\tcase 'resize-rt':\n\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tdistanceHeight = this.resizeStartInfo.height - size.height;\n\t\t\t\tposition.y = this.resizeStartInfo.posY + distanceHeight;\n\t\t\t\tbreak;\n\t\t\tcase 'resize-lb':\n\t\t\t\tposition.x = this.resizeStartInfo.posX + distanceX;\n\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\tsize.width = this.resizeStartInfo.width - distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tbreak;\n\t\t\tcase 'resize-rb':\n\t\t\t\tposition.x = this.resizeStartInfo.posX;\n\t\t\t\tposition.y = this.resizeStartInfo.posY;\n\t\t\t\tsize.width = this.resizeStartInfo.width + distanceX;\n\t\t\t\tratio = size.width / this.$img.get(0).naturalWidth;\n\t\t\t\tsize.height = parseInt(this.$img.get(0).naturalHeight * ratio);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\t// set image size\n\n\t\tthis.setState({\n\t\t\tsize: `${parseInt(size.width)}px ${parseInt(size.height)}px`,\n\t\t\tposition: `${parseInt(position.x)}px ${parseInt(position.y)}px`\n\t\t});\n\t}\n\t_resizeEnd(e)\n\t{\n\t\tthis.$img = null;\n\t\tthis.resizeStartInfo = null;\n\n\t\t$(document)\n\t\t\t.off(`${controlEvent.move}.resize`)\n\t\t\t.off(`${controlEvent.end}.resize`);\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\t\tconst size = (state.size !== 'cover') ? state.size.split(' ') : state.size;\n\t\tconst position = state.position.split(' ');\n\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tref={r => { this._self = r; }}\n\t\t\t\tstyle={{ backgroundColor: props.bgColor }}\n\t\t\t\tclassName=\"ple-cropperBlock ple-cropper__block\">\n\t\t\t\t{state.isCover ? (\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{ backgroundImage: `url('${props.src}')` }}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__image ple-cropperBlock__image-cover\"/>\n\t\t\t\t) : (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'ple-cropperBlock__image',\n\t\t\t\t\t\t\t{ 'ple-cropperBlock__image-resize': (props.size !== 'cover') }\n\t\t\t\t\t\t)}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={props.src}\n\t\t\t\t\t\t\tstyle={Object.assign({},\n\t\t\t\t\t\t\t\tstate.size !== 'cover' && {\n\t\t\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\t\t\ttransform: `translate(${position[0]}, ${position[1]})`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\talt=\"image\"/>\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t\t<div\n\t\t\t\t\tonMouseDown={this._moveStart.bind(this)}\n\t\t\t\t\tonTouchStart={this._moveStart.bind(this)}\n\t\t\t\t\tstyle={Object.assign({},\n\t\t\t\t\t\tstate.size !== 'cover' && {\n\t\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\t\theight: size[1],\n\t\t\t\t\t\t\ttransform: `translate(${position[0]}, ${position[1]})`\n\t\t\t\t\t\t}\n\t\t\t\t\t)}\n\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t'ple-cropperBlock__control',\n\t\t\t\t\t\t{ 'ple-cropperBlock__control-active': (props.size !== 'cover') }\n\t\t\t\t\t)}>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-lt\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-lt\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-rt\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-rt\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-lb\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-lb\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ttitle=\"resize-rb\"\n\t\t\t\t\t\tonMouseDown={this._resizeStart.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._resizeStart.bind(this)}\n\t\t\t\t\t\tclassName=\"ple-cropperBlock__resize ple-cropperBlock__resize-rb\">\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-abs ple-ico-clamp\"/>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</figure>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Cropper/Block.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport $ from 'jquery/dist/jquery.slim';\nimport classNames from 'classnames';\n\nimport Block from './Block';\nimport * as actions from '../../actions';\nimport * as lib from '../../lib';\n\n\nclass Cropper extends React.Component {\n\n\tstatic displayName = 'Cropper';\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tconst { cropper } = props.tree;\n\n\t\tthis.imageMeta = null;\n\t\tthis._block = null;\n\t\tthis.$item = $(props.element)\n\t\t\t.find('.react-grid-item')\n\t\t\t.filter(`[data-key=${cropper.key}]`);\n\n\t\tthis.state = {\n\t\t\tpending: true,\n\t\t\tposition: cropper.item.image.position,\n\t\t\tsize: cropper.item.image.size || 'cover',\n\t\t\twidth: this.$item.width(),\n\t\t\theight: this.$item.height(),\n\t\t\ttop: this.$item.position().top,\n\t\t\tleft: this.$item.position().left\n\t\t};\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tconst { props } = this;\n\t\tconst { cropper } = props.tree;\n\n\t\tlib.util.getImageSize(cropper.item.image.src).then((res) => {\n\t\t\tthis.imageMeta = res;\n\t\t\tthis.setState({ pending: false });\n\t\t});\n\t}\n\n\t/**\n\t * close cropper\n\t * `cropper`를 닫고, 변경된 이미지를 `grid`로 보낸다.\n\t */\n\t_onClose()\n\t{\n\t\tconst { props } = this;\n\t\tprops.api.cropper.close(\n\t\t\tprops.tree.cropper.key,\n\t\t\tthis._block.state.position,\n\t\t\tthis._block.state.size\n\t\t);\n\t}\n\n\t/**\n\t * toggle image type\n\t * 직접 리사이즈를 사용하는지 기본(꽉채우는..)타입으로 사용할건지 변경하는 액션\n\t *\n\t */\n\t_toggleImageType()\n\t{\n\t\tconst { state, props } = this;\n\n\t\tif (state.size === 'cover')\n\t\t{\n\t\t\tlet targetSize = '';\n\t\t\tlet ratio = 0;\n\t\t\tif (state.height > state.width)\n\t\t\t{\n\t\t\t\tratio = lib.number.getRatioForResize(state.height, this.imageMeta.height);\n\t\t\t\ttargetSize = `${parseInt(this.imageMeta.width * ratio)}px ${state.height}px`;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tratio = lib.number.getRatioForResize(state.width, this.imageMeta.width);\n\t\t\t\ttargetSize = `${state.width}px ${parseInt(this.imageMeta.height * ratio)}px`;\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tposition: '0 0',\n\t\t\t\tsize: targetSize,\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tposition: `50% 50%`,\n\t\t\t\tsize: 'cover',\n\t\t\t});\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tconst { state, props } = this;\n\n\t\tif (state.pending) return null;\n\n\t\treturn (\n\t\t\t<div className=\"ple-cropper\">\n\t\t\t\t<span className=\"ple-cropper__bg\"/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: `${state.width}px`,\n\t\t\t\t\t\theight: `${state.height}px`,\n\t\t\t\t\t\ttop: `${state.top}px`,\n\t\t\t\t\t\tleft: `${state.left}px`,\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"ple-cropper__wrap\">\n\t\t\t\t\t<Block\n\t\t\t\t\t\tref={(r) => { this._block = r; }}\n\t\t\t\t\t\tsrc={props.tree.cropper.item.image.src}\n\t\t\t\t\t\tposition={state.position}\n\t\t\t\t\t\tsize={state.size}\n\t\t\t\t\t\tbgColor={props.tree.cropper.item.color || props.setting.body.blockColor}/>\n\t\t\t\t\t<nav className=\"ple-cropper__nav\">\n\t\t\t\t\t\t<button type=\"button\" onClick={this._onClose.bind(this)}>\n\t\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-close ple-abs\">Close cropper</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={this._toggleImageType.bind(this)}\n\t\t\t\t\t\t\tclassName={classNames({\n\t\t\t\t\t\t\t\t'ple-cropper__nav-active': state.size !== 'cover'\n\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-resize ple-abs\">Toggle background size type</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</nav>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state, {}))(Cropper);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Cropper/index.js","import React from 'react';\nimport classNames from 'classnames';\n\nimport * as lib from '../../../lib';\n\n\nexport default class Item extends React.Component {\n\n\tstatic displayName = 'Item';\n\n\tstatic defaultProps = {\n\t\timage: null, // image\n\t\tid: null, // id\n\t\tactive: null, // active item\n\t\tonClick: null, // on click item\n\t\tonDragStart: null, // on drag start\n\t\tonDragEnd: null, // on drag end\n\t\tonTouchStart: null, // on touch start\n\t\tonTouchMove: null, // on touch move\n\t\tonTouchEnd: null, // on touch end\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\tlet attr = Object.assign({},\n\t\t\tlib.util.isTouchDevice() ? {\n\t\t\t\tonTouchStart: props.onTouchStart,\n\t\t\t\tonTouchMove: props.onTouchMove,\n\t\t\t\tonTouchEnd: props.onTouchEnd\n\t\t\t} : {\n\t\t\t\tonDragStart: props.onDragStart,\n\t\t\t\tonDragEnd: props.onDragEnd\n\t\t\t});\n\n\t\treturn (\n\t\t\t<li>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdata-id={props.id}\n\t\t\t\t\tdata-image={props.image}\n\t\t\t\t\tdraggable={true}\n\t\t\t\t\tonClick={props.onClick}\n\t\t\t\t\t{...attr}\n\t\t\t\t\tstyle={{ backgroundImage: `url('${props.image}')` }}\n\t\t\t\t\tclassName={classNames({ 'ple-sideItems__item-active': props.active })}/>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Items/Item.js","import React from 'react';\n\nimport Item from './Item';\n\n\nexport default class Items extends React.Component {\n\n\tstatic displayName = 'Items';\n\n\tstatic defaultProps = {\n\t\tfiles: [], // files\n\t\tonSelect: (key) => {}, // on select event\n\t\tonDragStart: null, // on drag start\n\t\tonDragEnd: null, // on drag end\n\t\tonTouchStart: null, // on touch start\n\t\tonTouchMove: null, // on touch move\n\t\tonTouchEnd: null, // on touch end\n\t\tprogress: null, // on progress number\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<div className=\"ple-sideItems\">\n\t\t\t\t<div className=\"ple-sideItems__wrap\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{Object.keys(props.files).map((o) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\tkey={o}\n\t\t\t\t\t\t\t\t\tid={o}\n\t\t\t\t\t\t\t\t\timage={props.files[o].image}\n\t\t\t\t\t\t\t\t\tonDragStart={props.onDragStart}\n\t\t\t\t\t\t\t\t\tonDragEnd={props.onDragEnd}\n\t\t\t\t\t\t\t\t\tonTouchStart={props.onTouchStart}\n\t\t\t\t\t\t\t\t\tonTouchMove={props.onTouchMove}\n\t\t\t\t\t\t\t\t\tonTouchEnd={props.onTouchEnd}\n\t\t\t\t\t\t\t\t\tonClick={() => props.onSelect(parseInt(o))}\n\t\t\t\t\t\t\t\t\tactive={props.files[o].active}/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{props.progress !== null && (\n\t\t\t\t\t\t\t<li className=\"ple-sideItems__loading\">\n\t\t\t\t\t\t\t\t<div className=\"ple-sideItems__progress\">\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName=\"ple-sideItems__bar\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ height: `${props.progress}%` }}/>\n\t\t\t\t\t\t\t\t\t<span className=\"ple-sideItems__percent\">{`${props.progress}%`}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Items/index.js","import React from 'react';\n\n\nexport default class SideNavigation extends React.Component {\n\n\tstatic displayName = 'Navigation';\n\n\tstatic defaultProps = {\n\t\tonRemove: () => {},\n\t\tonToggleSelect: () => {},\n\t\tonAttach: () => {},\n\t\tonUpload: () => {},\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttimestamp : Date.now(),\n\t\t};\n\t}\n\n\t/**\n\t * Upload images\n\t *\n\t * @param {Event} e\n\t */\n\tupload(e) {\n\t\tthis.props.onUpload(e.target.files);\n\n\t\tthis.setState({\n\t\t\ttimestamp : Date.now()\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { props, state } = this;\n\n\t\treturn (\n\t\t\t<nav className=\"ple-sideNavigation ple-side__navigation\">\n\t\t\t\t<div className=\"ple-sideNavigation__wrap\">\n\t\t\t\t\t<button type=\"button\" title=\"attach images\" onClick={props.onAttach}>\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-reply ple-abs\">Moving the image to grid block</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" title=\"toggle select\" onClick={props.onToggleSelect}>\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-select ple-abs\">Toggle all select</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span title=\"upload images\" key={state.timestamp}>\n\t\t\t\t\t\t<input type=\"file\" ref=\"inputFile\" onChange={this.upload.bind(this)} multiple />\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-upload ple-abs\">upload images</i>\n\t\t\t\t\t</span>\n\t\t\t\t\t<button type=\"button\" title=\"remove images\" onClick={props.onRemove}>\n\t\t\t\t\t\t<i className=\"ple-sp-ico ple-ico-trash ple-abs\">remove images</i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/Navigation/index.js","import React, { Component } from 'react';\nimport classNames from 'classnames';\n\n\nexport default class ToggleSideButton extends Component {\n\n\tstatic displayName = 'ToggleSideButton';\n\n\tstatic defaultProps = {\n\t\tshow: false,\n\t\tonClick: () => {}\n\t};\n\n\trender() {\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={props.onClick}\n\t\t\t\tclassName=\"ple-side__toggle\">\n\t\t\t\t<span>\n\t\t\t\t\t<i className={classNames(\n\t\t\t\t\t\t'ple-sp-ico',\n\t\t\t\t\t\t'ple-abs',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'ple-ico-arrow-right': props.show,\n\t\t\t\t\t\t\t'ple-ico-arrow-left': !props.show\n\t\t\t\t\t\t}\n\t\t\t\t\t)}>\n\t\t\t\t\t\tToggle sidebar\n\t\t\t\t\t</i>\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/ToggleSideButton/index.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport $ from 'jquery/dist/jquery.slim';\n\nimport * as actions from '../../actions';\n\nimport ToggleSideButton from './ToggleSideButton';\nimport Navigation from './Navigation';\nimport Items from './Items';\n\nimport * as lib from '../../lib';\nimport selectItems from './selectItems';\n\n\nclass Side extends React.Component {\n\n\tstatic displayName = 'Side';\n\n\tstatic defaultProps = {\n\t\ttree: {}, // data tree in reduce\n\t\tsetting: {}, // setting in reduce\n\t\tapi: {}, // api\n\t\tdispatch: null, // redux dispatch\n\t};\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.dragTarget = null;\n\t\tthis.dragPosition = [];\n\t\tthis.$gridItems = null;\n\t\tthis.$dragItem = null;\n\t\tthis.uploading = false;\n\t}\n\n\t/**\n\t * get gridster item\n\t * 포인트 위치에 있는 gridster블럭을 가져온다.\n\t *\n\t * @return {Object} gridster item\n\t */\n\tgetGridsterItem()\n\t{\n\t\tconst { props } = this;\n\t\tlet target = null;\n\t\tthis.$gridItems = $(props.element).find('.ple-grid > div');\n\n\t\tthis.$gridItems.each((n, el) => {\n\t\t\tconst $this = $(el);\n\t\t\tconst pos = $this.offset();\n\t\t\tif (pos.left < this.dragPosition[0] &&\n\t\t\t\t(pos.left + $this.width()) > this.dragPosition[0] &&\n\t\t\t\tpos.top < this.dragPosition[1] &&\n\t\t\t\t(pos.top + $this.height()) > this.dragPosition[1])\n\t\t\t{\n\t\t\t\ttarget = $this.data('key');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * On select items\n\t *\n\t * @param {Number} key\n\t */\n\t_selectItem(key)\n\t{\n\t\tconst { props } = this;\n\t\tlet selected = selectItems(props, key);\n\t\tprops.api.side.select(selected);\n\t}\n\n\t/**\n\t * Remove items\n\t */\n\t_removeItems()\n\t{\n\t\tconst { props } = this;\n\t\tlet keys = props.api.side.getKeys('selected');\n\n\t\tif (keys.length)\n\t\t{\n\t\t\tif (confirm('Do you really want to delete it?'))\n\t\t\t{\n\t\t\t\tprops.api.side.remove(keys);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (!confirm('Delete all?')) return;\n\t\t\tkeys = props.api.side.getKeys('all');\n\t\t\tprops.api.side.remove(keys);\n\t\t}\n\t}\n\n\t/**\n\t * upload\n\t *\n\t * @param {FileList} files\n\t */\n\t_upload(files)\n\t{\n\t\tconst { props } = this;\n\t\tprops.api.side.upload(files);\n\t}\n\n\t/**\n\t * Attach images to grid\n\t */\n\t_attach()\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet keys = this.props.api.side.getKeys('selected');\n\t\t\tlet result = this.props.api.side.attachToGrid(keys);\n\t\t\tif (result) throw result;\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\talert(e.message);\n\t\t}\n\t}\n\n\t_dragStartItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$gridItems = $(props.element).find('.ple-grid > div');\n\t\tthis.$gridItems.on('dragover', (e) => {\n\t\t\te.preventDefault();\n\t\t\tif ($(e.currentTarget).hasClass('ple-grid__item-hover')) return;\n\t\t\t$(e.currentTarget).addClass('ple-grid__item-hover');\n\t\t}).on('dragleave', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t}).on('drop', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).removeClass('ple-grid__item-hover');\n\t\t\tthis.dragTarget = $(e.currentTarget).data('key');\n\t\t});\n\t}\n\t_dragEndItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$gridItems.off();\n\t\tthis.$gridItems = null;\n\n\t\t// check drag target\n\t\tif (this.dragTarget === null) return;\n\n\t\t// play redux\n\t\tprops.dispatch(actions.body.attachImage(\n\t\t\tthis.dragTarget,\n\t\t\t$(e.currentTarget).data('image')\n\t\t));\n\n\t\t// empty dragTarget\n\t\tthis.dragTarget = null;\n\t}\n\t_touchStartItem(e)\n\t{\n\t\tthis.$dragItem = $(e.currentTarget)\n\t\t\t.clone()\n\t\t\t.removeAttr('draggable')\n\t\t\t.addClass('ple-side__placeholder')\n\t\t\t.width($(e.currentTarget).width())\n\t\t\t.height($(e.currentTarget).height());\n\n\t\t$('body').append(this.$dragItem);\n\t}\n\t_touchMoveItem(e)\n\t{\n\t\tif (!lib.util.checkSupportCss('touch-action', 'pan-y'))\n\t\t{\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tlet touch = e.nativeEvent.touches[0];\n\t\tthis.dragPosition = [touch.pageX, touch.pageY];\n\t\tthis.$dragItem.css({\n\t\t\tleft: touch.pageX - (this.$dragItem.width() * 0.5),\n\t\t\ttop: touch.pageY - (this.$dragItem.height() * 0.5)\n\t\t});\n\t}\n\t_touchEndItem(e)\n\t{\n\t\tconst { props } = this;\n\n\t\tthis.$dragItem.remove();\n\t\tthis.$dragItem = null;\n\n\t\tif (this.dragPosition.length > 0)\n\t\t{\n\t\t\tthis.dragTarget = this.getGridsterItem();\n\n\t\t\t// check drag target\n\t\t\tif (this.dragTarget === null) return;\n\n\t\t\t// play redux\n\t\t\tprops.dispatch(actions.body.attachImage(\n\t\t\t\tthis.dragTarget,\n\t\t\t\t$(e.currentTarget).data('image')\n\t\t\t));\n\t\t\tthis.dragPosition = [];\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// TODO : 확인해보고 처리하기\n\t\t\t//this._selectItem($(e.currentTarget).data('id'));\n\t\t}\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<aside className=\"ple-side\">\n\t\t\t\t<div className={classNames(\n\t\t\t\t\t'ple-side__wrap',\n\t\t\t\t\t{ 'ple-side__wrap-show': props.tree.side.visible }\n\t\t\t\t)}>\n\t\t\t\t\t<span\n\t\t\t\t\t\tonClick={() => props.api.side.toggleSelectAll(false)}\n\t\t\t\t\t\tclassName=\"ple-side__background\"/>\n\t\t\t\t\t<ToggleSideButton\n\t\t\t\t\t\tshow={props.tree.side.visible}\n\t\t\t\t\t\tonClick={() => props.api.util.toggleSide(undefined)}/>\n\t\t\t\t\t<Navigation\n\t\t\t\t\t\tonAttach={this._attach.bind(this)}\n\t\t\t\t\t\tonToggleSelect={() => props.api.side.toggleSelectAll()}\n\t\t\t\t\t\tonUpload={this._upload.bind(this)}\n\t\t\t\t\t\tonRemove={this._removeItems.bind(this)}/>\n\t\t\t\t\t<Items\n\t\t\t\t\t\tfiles={props.tree.side.files}\n\t\t\t\t\t\tonSelect={this._selectItem.bind(this)}\n\t\t\t\t\t\tonDragStart={this._dragStartItem.bind(this)}\n\t\t\t\t\t\tonDragEnd={this._dragEndItem.bind(this)}\n\t\t\t\t\t\tonTouchStart={this._touchStartItem.bind(this)}\n\t\t\t\t\t\tonTouchMove={this._touchMoveItem.bind(this)}\n\t\t\t\t\t\tonTouchEnd={this._touchEndItem.bind(this)}\n\t\t\t\t\t\tprogress={props.tree.side.progressPercent}/>\n\t\t\t\t</div>\n\t\t\t</aside>\n\t\t);\n\t}\n\n}\n\n\nexport default connect((state) => Object.assign({}, state))(Side);\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/index.js","let firstSelectIdx = null;\n\n\n/**\n * Change active\n *\n * @param {Number} key\n * @param {Object} item\n * @param {Number} start\n * @param {Number} end\n * @param {String} type press key name and select type\n * @return {Object}\n */\nfunction changeActive(key, item, start, end, type)\n{\n\tswitch(type)\n\t{\n\t\tcase 'add':\n\t\t\treturn {\n\t\t\t\tkey: key,\n\t\t\t\tactive: (key === end) ? !item.active : item.active\n\t\t\t};\n\t\tcase 'range':\n\t\t\tstart = start || 0;\n\t\t\tif (start < end)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tactive: key >= start && key <= end\n\t\t\t\t};\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tactive: key <= start && key >= end\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn item;\n\t}\n\n\t// not found type\n\tif (key === end)\n\t{\n\t\treturn { key: key, active: !item.active };\n\t}\n\telse\n\t{\n\t\treturn { key: key, active: false };\n\t}\n}\n\n\n/**\n * select items\n *\n * @param {Object} props\n * @param {Number} key\n * @return {Array}\n */\nexport default function selectItems(props, key)\n{\n\tconst { keyName } = props.keyboard;\n\tconst { files } = props.tree.side;\n\tlet type = null;\n\tlet selected = false;\n\n\tif (keyName !== 'SHIFT')\n\t{\n\t\tlet currentItem = null;\n\t\tObject.keys(props.tree.side.files).forEach(k => {\n\t\t\tlet obj = props.tree.side.files[k];\n\t\t\tif (parseInt(k) === key)\n\t\t\t{\n\t\t\t\tcurrentItem = obj;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tfirstSelectIdx = (currentItem.active === true) ? null : key;\n\t\tif (!firstSelectIdx && currentItem.active === true)\n\t\t{\n\t\t\tfirstSelectIdx = currentItem.key;\n\t\t}\n\t}\n\n\tswitch (keyName) {\n\t\tcase 'CTRL':\n\t\tcase 'CMD':\n\t\t\ttype = 'add';\n\t\t\tbreak;\n\t\tcase 'SHIFT':\n\t\t\ttype = 'range';\n\t}\n\n\tlet items = Object.keys(files).map(k => {\n\t\tlet obj = changeActive(parseInt(k), files[k], firstSelectIdx, key, type);\n\t\tif (obj.active)\n\t\t{\n\t\t\tselected = true;\n\t\t}\n\t\treturn obj;\n\t});\n\n\tif (!selected)\n\t{\n\t\tfirstSelectIdx = null;\n\t}\n\n\treturn items;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/Container/Side/selectItems.js","import * as types from './types';\n\n\nexport function addBlock(value)\n{\n\treturn {\n\t\ttype: types.GRID_ADD_BLOCK,\n\t\tvalue: value,\n\t};\n}\n\nexport function removeBlock(keys) {\n\treturn {\n\t\ttype: types.GRID_REMOVE_BLOCK,\n\t\tkeys,\n\t};\n}\n\nexport function shuffleBlocks(options)\n{\n\treturn {\n\t\ttype: types.GRID_SHUFFLE_BLOCKS,\n\t\tvalue: options,\n\t}\n}\n\nexport function duplicateBlock(keys)\n{\n\treturn {\n\t\ttype: types.GRID_DUPLICATE_BLOCK,\n\t\tkeys\n\t};\n}\n\nexport function updateBlocks(blocks)\n{\n\treturn {\n\t\ttype: types.GRID_UPDATE_BLOCKS,\n\t\tvalue: blocks,\n\t}\n}\n\nexport function activeBlock(keys)\n{\n\treturn {\n\t\ttype: types.GRID_ACTIVE_BLOCK,\n\t\tvalue: keys\n\t};\n}\n\nexport function changeColorBlock(keys, color)\n{\n\treturn {\n\t\ttype: types.GRID_CHANGE_COLOR,\n\t\tkeys,\n\t\tcolor,\n\t}\n}\n\nexport function updateSetting(value)\n{\n\treturn {\n\t\ttype: types.GRID_SETTING_UPDATE,\n\t\tvalue: value,\n\t};\n}\n\nexport function attachImages(images, cols, activeBlocks)\n{\n\treturn {\n\t\ttype: types.GRID_ATTACH_IMAGES,\n\t\tvalue: images,\n\t\tcolumns: cols,\n\t\tactiveBlocks: activeBlocks,\n\t}\n}\n\nexport function attachImage(keys, image)\n{\n\treturn {\n\t\ttype: types.GRID_ATTACH_IMAGE,\n\t\tkeys,\n\t\timage,\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/body.js","import * as types from './types';\n\n\nexport function init(api, preference, element)\n{\n\treturn {\n\t\ttype: types.INIT_PLE,\n\t\tapi,\n\t\tpreference,\n\t\telement,\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/core.js","import * as types from './types';\n\n\nexport function open(key, item)\n{\n\treturn {\n\t\ttype: types.CROPPER_OPEN,\n\t\titem,\n\t\tkey\n\t};\n}\n\nexport function close(key, position, size)\n{\n\treturn {\n\t\ttype: types.CROPPER_CLOSE,\n\t\tkey,\n\t\tposition,\n\t\tsize\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/cropper.js","import * as types from './types';\n\n\n// control visible side bar\nexport function visible(sw)\n{\n\treturn {\n\t\ttype: types.SIDE_VISIBLE,\n\t\tvalue: sw,\n\t};\n}\n\n// toggle side bar\nexport function toggle()\n{\n\treturn {\n\t\ttype: types.SIDE_TOGGLE,\n\t};\n}\n\nexport function addFiles(files=[])\n{\n\treturn {\n\t\ttype: types.SIDE_ADD_FILES,\n\t\tfiles,\n\t};\n}\n\nexport function removeFiles(keys=[])\n{\n\treturn {\n\t\ttype: types.SIDE_REMOVE_FILES,\n\t\tkeys,\n\t};\n}\n\nexport function updateSelected(value)\n{\n\treturn {\n\t\ttype: types.SIDE_UPDATE_SELECTED,\n\t\tvalue\n\t};\n}\n\nexport function updateProgress(percent)\n{\n\treturn {\n\t\ttype: types.SIDE_UPDATE_PROGRESS,\n\t\tvalue: percent\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/actions/side.js","import React from 'react';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport Container from './Container';\n\nimport reducers from './reducers';\nimport API from './API';\n\n\nclass PhotoLayoutEditor extends React.Component {\n\n\tstatic displayName = 'PhotoLayoutEditor';\n\tstatic defaultProps = {\n\t\tbody: {\n\t\t\tsetting: {},\n\t\t\tblockColor: null,\n\t\t\tgrid: []\n\t\t},\n\t\tside: {\n\t\t\tfiles: [],\n\t\t\tvisible: true\n\t\t},\n\t\tuploadScript: null,\n\t\tuploadParamsConvertFunc: null\n\t};\n\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\t// set store\n\t\tthis.store = createStore(reducers);\n\n\t\t// set api\n\t\tthis.api = new API(this.store);\n\t}\n\n\trender()\n\t{\n\t\tconst { props } = this;\n\n\t\treturn (\n\t\t\t<Provider store={this.store}>\n\t\t\t\t<Container parent={{ preference: props, api: this.api }}/>\n\t\t\t</Provider>\n\t\t);\n\t}\n\n}\n\nexport default PhotoLayoutEditor;\nmodule.exports = PhotoLayoutEditor;\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/index.js","/**\n * Canvas\n */\nexport default class Canvas {\n\n\t/**\n\t * constructor\n\t *\n\t * @param {Number} width\n\t * @param {Number} height\n\t * @param {String} bgColor\n\t */\n\tconstructor(width=150, height=100, bgColor='#ffffff')\n\t{\n\t\tthis.el = document.createElement('canvas');\n\t\tthis.ctx = this.el.getContext('2d');\n\n\t\tthis.el.width = width;\n\t\tthis.el.height = height;\n\n\t\tthis.ctx.fillStyle = bgColor;\n\t\tthis.ctx.fillRect(0, 0, width, height);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/Canvas.js","import $ from 'jquery/dist/jquery.slim';\n\nimport * as libs from '../lib';\n\n\nexport default class Keyboard {\n\n\tconstructor()\n\t{\n\t\tthis.eventName = `PLE_${libs.number.getTimeStamp()}`;\n\t\tthis.code = null;\n\t\tthis.keyName = null;\n\t\tthis.names = {\n\t\t\t17: 'CTRL',\n\t\t\t18: 'ALT',\n\t\t\t91: 'CMD',\n\t\t\t93: 'CMD',\n\t\t\t16: 'SHIFT',\n\t\t};\n\n\t\t// init key down event\n\t\t$(window).on(`keydown.${this.eventName}`, this._keyDown.bind(this));\n\t}\n\n\t/**\n\t * apply\n\t *\n\t * @param {Number} code\n\t */\n\tapply(code)\n\t{\n\t\tthis.code = code;\n\t\tthis.keyName = this.names[this.code] || null;\n\t}\n\n\t/**\n\t * key down event\n\t *\n\t * @param {Event} e\n\t */\n\t_keyDown(e)\n\t{\n\t\t// apply keyCode\n\t\tthis.apply(e.keyCode);\n\n\t\t// set events\n\t\t$(window)\n\t\t\t.on(`keyup.${this.eventName}`, this._keyUp.bind(this))\n\t\t\t.on(`contextmenu.${this.eventName}`, this._keyUp.bind(this))\n\t\t\t.on(`blur.${this.eventName}`, this._keyUp.bind(this))\n\t\t\t.off(`keydown.${this.eventName}`);\n\t}\n\n\t/**\n\t * key up event\n\t *\n\t */\n\t_keyUp()\n\t{\n\t\t// apply keyCode\n\t\tthis.apply(null);\n\n\t\t// set events\n\t\t$(window)\n\t\t\t.on(`keydown.${this.eventName}`, this._keyDown.bind(this))\n\t\t\t.off(`contextmenu.${this.eventName} keyup.${this.eventName} blur.${this.eventName}`);\n\t}\n\n\t/**\n\t * destroy event\n\t *\n\t */\n\tdestroy()\n\t{\n\t\t$(window).off(`keydown.${this.eventName} contextmenu.${this.eventName} keyup.${this.eventName} blur.${this.eventName}`);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/Keyboard.js","/**\n * rgba to hex\n *\n * @param {String} color\n * @return {String}\n */\nexport function rgbToHex(color)\n{\n\tcolor = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n\treturn (color && color.length === 4) ? \"#\" +\n\t\t(\"0\" + parseInt(color[1],10).toString(16)).slice(-2) +\n\t\t(\"0\" + parseInt(color[2],10).toString(16)).slice(-2) +\n\t\t(\"0\" + parseInt(color[3],10).toString(16)).slice(-2) : '';\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/color.js","import $ from 'jquery/dist/jquery.slim';\n\nimport * as lib from './';\n\n\n/**\n * Get image size\n *\n * @param {String} type\n * @param {int} cw container width\n * @param {int} ch container height\n * @param {int} iw image width\n * @param {int} ih image height\n * @return {Object}\n */\nfunction getImageSize(type, cw, ch, iw, ih)\n{\n\tlet size  = { width : 0, height : 0 };\n\n\tswitch(type)\n\t{\n\t\tcase 'cover':\n\t\t\tif (cw > ch)\n\t\t\t{\n\t\t\t\tsize.width = cw;\n\t\t\t\tsize.height = ih * (cw / iw);\n\t\t\t\tif (ch > size.height)\n\t\t\t\t{\n\t\t\t\t\tsize.width = iw * (ch / ih);\n\t\t\t\t\tsize.height = ch;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tsize.width = iw * (ch / ih);\n\t\t\t\tsize.height = ch;\n\t\t\t\tif (cw > size.width)\n\t\t\t\t{\n\t\t\t\t\tsize.width = cw;\n\t\t\t\t\tsize.height = ih * (cw / iw);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'width':\n\t\t\tsize.width = cw;\n\t\t\tsize.height = ih * (cw / iw);\n\t\t\tbreak;\n\n\t\tcase 'height':\n\t\t\tsize.width = iw * (ch / ih);\n\t\t\tsize.height = ch;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tsize.width = cw;\n\t\t\tsize.height = ch;\n\t\t\tbreak;\n\t}\n\n\treturn {\n\t\twidth : Math.round(size.width),\n\t\theight : Math.round(size.height)\n\t};\n}\n\n/**\n * export grid\n *\n * @param {HTMLElement} el\n * @param {Array} grids\n * @return {Array}\n */\nfunction makeQueue(el, grids)\n{\n\tif (!(el && grids)) return null;\n\n\tconst $items = $(el).children();\n\tlet result = [];\n\n\t$items.each((key, item) => {\n\t\tconst $item = $(item);\n\t\tconst grid = grids[$item.data('key')];\n\t\tlet image = grid.image;\n\n\t\tif (image)\n\t\t{\n\t\t\timage = {\n\t\t\t\tsrc: image.src,\n\t\t\t\tposition: image.position.split(' '),\n\t\t\t\tsize: image.size === 'cover' ? null : image.size.split(' ')\n\t\t\t};\n\t\t}\n\n\t\tresult.push({\n\t\t\t//key: $item.data('key'),\n\t\t\tx: $item.position().left,\n\t\t\ty: $item.position().top,\n\t\t\twidth: $item.width(),\n\t\t\theight: $item.height(),\n\t\t\timage: image || null,\n\t\t\tcolor: grid.color || 'rgba(255,255,255,1)',\n\t\t});\n\t});\n\n\treturn result;\n}\n\n/**\n * make block\n *\n * @param {Object} queue\n * @param {Object} options\n * @return {Promise}\n */\nfunction makeBlock(queue={}, options={})\n{\n\treturn new Promise((resolve) => {\n\t\tlib.util.loadImage(queue.image ? queue.image.src : null).then((image) => {\n\t\t\tif (image)\n\t\t\t{\n\t\t\t\tconst realSize = { width: image.naturalWidth, height: image.naturalHeight };\n\t\t\t\tlet size = {};\n\t\t\t\tlet position = {};\n\n\t\t\t\t// get size and position image\n\t\t\t\tif (queue.image.size)\n\t\t\t\t{\n\t\t\t\t\tsize = getImageSize('width', parseInt(queue.image.size[0]), 0, realSize.width, realSize.height);\n\t\t\t\t\tposition.x = parseInt(queue.image.position[0]);\n\t\t\t\t\tposition.y = parseInt(queue.image.position[1]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsize = getImageSize('cover', queue.width, queue.height, realSize.width, realSize.height);\n\t\t\t\t\tposition.x = (queue.width * 0.5) - (size.width * 0.5);\n\t\t\t\t\tposition.y = (queue.height * 0.5) - (size.height * 0.5);\n\t\t\t\t}\n\n\t\t\t\t// resize image\n\t\t\t\tlib.resamplingImage({\n\t\t\t\t\timage,\n\t\t\t\t\treSampleCount: options.sampling,\n\t\t\t\t\twidth: queue.width,\n\t\t\t\t\theight: queue.height,\n\t\t\t\t\tcx: 0,\n\t\t\t\t\tcy: 0,\n\t\t\t\t\tcw: realSize.width,\n\t\t\t\t\tch: realSize.height,\n\t\t\t\t\tdx: position.x,\n\t\t\t\t\tdy: position.y,\n\t\t\t\t\tdw: size.width,\n\t\t\t\t\tdh: size.height,\n\t\t\t\t\tbgColor: queue.color\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tresolve({\n\t\t\t\t\t\twidth: queue.width,\n\t\t\t\t\t\theight: queue.height,\n\t\t\t\t\t\tx: queue.x,\n\t\t\t\t\t\ty: queue.y,\n\t\t\t\t\t\timage: res\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve({\n\t\t\t\t\twidth: queue.width,\n\t\t\t\t\theight: queue.height,\n\t\t\t\t\tx: queue.x,\n\t\t\t\t\ty: queue.y,\n\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\timage: new lib.Canvas(queue.width, queue.height, queue.color)\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * draw block\n * 캔버스에다가 블럭을 그려준다.\n *\n * @param {Canvas} canvas\n * @param {Object} block\n */\nfunction drawBlock(canvas, block)\n{\n\treturn new Promise(resolve => {\n\t\tcanvas.ctx.drawImage(\n\t\t\tblock.image.el,\n\t\t\tblock.x,\n\t\t\tblock.y,\n\t\t\tblock.width,\n\t\t\tblock.height\n\t\t);\n\t\tresolve(block.image.el);\n\t});\n}\n\n/**\n * Get image size\n *\n * @param {Object} el\n * @param {String} format\n * @param {int} quality\n * @return {Object}\n */\nfunction canvasToBase64(el=null, format=null, quality=0.75)\n{\n\tswitch(format)\n\t{\n\t\tcase 'png':\n\t\t\tformat = 'image/png';\n\t\t\tbreak;\n\t\tcase 'jpg':\n\t\tdefault:\n\t\t\tformat = 'image/jpeg';\n\t\t\tbreak;\n\t}\n\n\treturn el.toDataURL(format, (format === 'image/jpeg') ? quality : undefined);\n}\n\n\n/**\n * making image\n *\n * @param {HTMLElement} el `.ple-grid` element\n * @param {Object} data\n * @param {Object} options\n * @return {Promise}\n */\nexport default function makingImage(el, data={}, options={})\n{\n\tconst defer = $.Deferred(); // resolve, notify, reject\n\tlet queues = makeQueue(el, data.grid);\n\tlet current = 0;\n\tconst queueTotal = queues.length;\n\t// make canvas\n\tlet canvas = new lib.Canvas(el.offsetWidth, el.offsetHeight, data.setting.bgColor);\n\n\t// send progress event\n\tdefer.notify(queueTotal, current++, null);\n\n\t/**\n\t * play\n\t * 큐 플레이. 이미지를 만들고 캔버스에 그리고나서 결과는 `confirm`에서 받는다.\n\t *\n\t * @param {Object} queue\n\t * @return {Promise}\n\t */\n\tfunction play(queue)\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tmakeBlock(queue, options).then((block) => {\n\t\t\t\tdrawBlock(canvas, block).then(resolve, reject);\n\t\t\t}, reject);\n\t\t});\n\t}\n\n\t/**\n\t * confirm\n\t * 큐를 하나 삭제하고 계속 `play`함수를 실행할지 종료할지 결정한다.\n\t *\n\t * @param {Canvas} image\n\t */\n\tfunction confirm(image)\n\t{\n\t\t// 큐 하나빼기\n\t\tqueues.splice(0, 1);\n\n\t\t// send progress event\n\t\tdefer.notify(queueTotal, current++, image);\n\n\t\t// check queues\n\t\tif (queues.length)\n\t\t{\n\t\t\tplay(queues[0]).then(confirm, error);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tend();\n\t\t}\n\t}\n\n\t/**\n\t * error\n\t *\n\t * @param {String} err\n\t */\n\tfunction error(err)\n\t{\n\t\tdefer.reject(err);\n\t}\n\n\t/**\n\t * end\n\t * `play`가 모두 끝났을때 호출. `done`으로 내보낸다.\n\t */\n\tfunction end()\n\t{\n\t\tswitch(options.output)\n\t\t{\n\t\t\tcase 'base64':\n\t\t\t\tdefer.resolve(canvasToBase64(canvas.el, options.format, options.quality));\n\t\t\t\tbreak;\n\t\t\tcase 'canvas':\n\t\t\tdefault:\n\t\t\t\tdefer.resolve(canvas.el);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// check queue\n\tif (queues.length)\n\t{\n\t\t// play queue\n\t\tplay(queues[0]).then(confirm, error);\n\t}\n\telse\n\t{\n\t\t// not found queues\n\t\terror('not found queue');\n\t}\n\n\treturn defer.promise();\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/makingImage.js","/**\n * Random range\n * min~max 사이의 랜덤 정수를 반환한다.\n *\n * @param {Number} min\n * @param {Number} max\n * @param {Boolean} useDecimal\n * @return {Number}\n */\nexport function randomRange(min, max, useDecimal=false)\n{\n\tif (useDecimal)\n\t{\n\t\treturn Math.random() * (max - min) + min;\n\t}\n\telse\n\t{\n\t\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n\t}\n}\n\n\n/**\n * get ratio for resize\n * max와 min값의 차이의 비율을 가져온다.\n *\n * @param {Number} min\n * @param {Number} max\n * @return {Number}\n */\nexport function getRatioForResize(min, max)\n{\n\treturn (max > min) ? min / max : max / min;\n}\n\n\n/**\n * Get timestamp\n *\n * @return {Number}\n */\nexport function getTimeStamp()\n{\n\treturn Math.round(+new Date()/1000);\n}\n\n\n/**\n * get ratio\n *\n * @param {Number} w\n * @param {Number} h\n * @return {Number}\n */\nexport function getRatio(w, h)\n{\n\tlet result = parseInt(w) / parseInt(h);\n\tresult = Math.round(result * 1000) / 1000;\n\treturn result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/number.js","/**\n * is array\n *\n * @param {Array} arr\n * @return {Boolean}\n */\nexport function isArray(arr=[])\n{\n\treturn !!(arr && arr.length);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/object.js","import * as lib from './';\n\n// default options\nconst defaultOptions = {\n\timage: null,\n\twidth: 100,\n\theight: 100,\n\treSampleCount: 1,\n\tbgColor: 'rgba(255,255,255,1)',\n\tcw: 0,\n\tch: 0,\n\tcx: 0,\n\tcy: 0,\n\tdw: 0,\n\tdh: 0,\n\tdx: 0,\n\tdy: 0,\n};\n\n\n/**\n * resize\n *\n * @param {Object} options\n * @param {Number} count\n * @param {Canvas} parentCanvas\n * @return {Promise}\n */\nfunction resize(options, count, parentCanvas)\n{\n\treturn new Promise(resolve => {\n\t\tfunction func(count, parentCanvas)\n\t\t{\n\t\t\tconst max = Math.pow(2, count);\n\t\t\tlet canvasForResize = new lib.Canvas(\n\t\t\t\toptions.width * max,\n\t\t\t\toptions.height * max,\n\t\t\t\toptions.bgColor\n\t\t\t);\n\n\t\t\tcanvasForResize.ctx.drawImage(\n\t\t\t\tparentCanvas.el,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tparentCanvas.el.width * 0.5,\n\t\t\t\tparentCanvas.el.height * 0.5\n\t\t\t);\n\n\t\t\tif (count > 0)\n\t\t\t{\n\t\t\t\tfunc(count - 1, canvasForResize);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve(canvasForResize);\n\t\t\t}\n\t\t}\n\n\t\tfunc(count - 1, parentCanvas);\n\t});\n}\n\n\n/**\n * resampling image\n *\n * @param {Object} options\n * @return {Promise}\n */\nexport default function resamplingImage(options)\n{\n\t// assign options\n\toptions = Object.assign({}, defaultOptions, options);\n\n\t// TODO: 오픈소스할 경우도 대비해야함\n\t// TODO: 다른 용도로 사용된다면 크로핑 하지 않을경우. (타겟 사이즈, 원본사이즈만 필요한 경우)\n\n\treturn new Promise((resolve, reject) => {\n\t\tif (!options.image) reject('not found image');\n\n\t\t// set reSample count\n\t\toptions.reSampleCount = Math.min(4, options.reSampleCount);\n\t\toptions.reSampleCount = Math.max(0, options.reSampleCount);\n\t\tconst reSampleMax = Math.pow(2, options.reSampleCount);\n\n\t\t// set canvas\n\t\tconst canvas = new lib.Canvas(\n\t\t\toptions.width * reSampleMax,\n\t\t\toptions.height * reSampleMax,\n\t\t\toptions.bgColor\n\t\t);\n\n\t\tcanvas.ctx.drawImage(\n\t\t\toptions.image,\n\t\t\toptions.cx, // cx\n\t\t\toptions.cy, // cy\n\t\t\toptions.cw, // cw\n\t\t\toptions.ch, // ch\n\t\t\toptions.dx * reSampleMax, // dx\n\t\t\toptions.dy * reSampleMax, // dy\n\t\t\toptions.dw * reSampleMax, // dw\n\t\t\toptions.dh * reSampleMax, // dh\n\t\t);\n\n\t\tif (options.reSampleCount > 0)\n\t\t{\n\t\t\tresize(options, options.reSampleCount, canvas).then(resolve);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresolve(canvas);\n\t\t}\n\t});\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/resamplingImage.js","import $ from 'jquery/dist/jquery.slim';\n\n\n/**\n * local upload\n *\n * @param {File} file\n * @return {Promise}\n */\nfunction local(file)\n{\n\tconst defer = $.Deferred();\n\tconst reader = new FileReader();\n\n\treader.addEventListener('load', function(e) {\n\t\tdefer.resolve({\n\t\t\tname: file.name,\n\t\t\ttype: file.type,\n\t\t\tsize: file.size,\n\t\t\turl: e.target.result,\n\t\t});\n\t});\n\treader.addEventListener('error', function(e) {\n\t\tdefer.reject(e.target);\n\t});\n\n\treader.readAsDataURL(file);\n\n\treturn defer.promise();\n}\n\n/**\n * external upload\n *\n * @param {String} script\n * @param {File} file\n * @return {Promise}\n */\nfunction external(script, file)\n{\n\tconst defer = $.Deferred();\n\tconst xhr = new XMLHttpRequest();\n\n\tif (!(typeof FormData === 'function' || typeof FormData === 'object'))\n\t{\n\t\tdefer.reject('not support browser', file);\n\t\treturn null;\n\t}\n\tconst formData = new FormData();\n\n\tfunction onLoad(e)\n\t{\n\t\ttry {\n\t\t\tconst result = JSON.parse(e.target.responseText);\n\t\t\tif (result.state === 'success')\n\t\t\t{\n\t\t\t\tdefer.resolve(result.data);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow 'server error';\n\t\t\t}\n\t\t} catch(e) {\n\t\t\tdefer.reject(e);\n\t\t}\n\t}\n\n\tfunction onProgress(event)\n\t{\n\t\tconst { loaded, total } = event;\n\t\tdefer.notify('progress', loaded, total);\n\t}\n\n\tformData.append('files[]', file);\n\txhr.open('post', script, true);\n\n\txhr.addEventListener('load', onLoad);\n\txhr.upload.addEventListener('progress', onProgress);\n\n\txhr.send(formData);\n\n\t// start queue\n\tdefer.notify('start');\n\n\treturn defer.promise();\n}\n\n\n/**\n * upload multiple files\n *\n */\nexport default function uploader(files, script)\n{\n\tconst defer = $.Deferred();\n\tconst total = files.length;\n\tlet count = 0;\n\n\tfunction upload()\n\t{\n\t\tif (count >= total)\n\t\t{\n\t\t\tdefer.resolve();\n\t\t\treturn;\n\t\t}\n\n\t\tif (script)\n\t\t{\n\t\t\texternal(script, files[count])\n\t\t\t\t.done((data) => {\n\t\t\t\t\tdefer.notify('done', { count, data });\n\t\t\t\t\tcount++;\n\t\t\t\t\tupload();\n\t\t\t\t})\n\t\t\t\t.progress((state, loaded, total) => {\n\t\t\t\t\tdefer.notify(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\tstate === 'progress' && { loaded, total },\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.fail((error) => {\n\t\t\t\t\tdefer.reject(error);\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlocal(files[count])\n\t\t\t\t.done((data) => {\n\t\t\t\t\tdefer.notify('done', { count, data });\n\t\t\t\t\tcount++;\n\t\t\t\t\tupload();\n\t\t\t\t})\n\t\t\t\t.fail(() => {});\n\t\t}\n\t}\n\n\tupload(0);\n\n\treturn defer.promise();\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/uploader.js","/**\n * is touch device\n *\n * @returns {boolean}\n */\nexport function isTouchDevice()\n{\n\treturn (\n\t\t('ontouchstart' in window) ||\n\t\t(navigator.MaxTouchPoints > 0) ||\n\t\t(navigator.msMaxTouchPoints > 0)\n\t);\n}\n\n\n/**\n * Sleep\n *\n * @param {Number} time\n * @param {String} id\n * @return {Promise}\n */\nexport function sleep(time, id='pleTimer')\n{\n\treturn new Promise((resolve) => {\n\t\twindow[id] = setTimeout(resolve, time);\n\t});\n}\n\n\n/**\n * Get image size\n *\n * @param {String} src\n * @return {Promise}\n */\nexport function getImageSize(src)\n{\n\treturn new Promise((resolve, reject) => {\n\t\tif (!(src && typeof src === 'string')) reject();\n\n\t\tlet img = document.createElement('img');\n\n\t\timg.onload = function()\n\t\t{\n\t\t\tresolve({\n\t\t\t\twidth: img.naturalWidth,\n\t\t\t\theight: img.naturalHeight,\n\t\t\t\tratio: img.naturalHeight / img.naturalWidth,\n\t\t\t});\n\t\t};\n\n\t\timg.onerror = function()\n\t\t{\n\t\t\treject();\n\t\t};\n\n\t\timg.src = src;\n\t});\n}\n\n\n/**\n * get css prefix\n *\n * @variation {Object}\n */\nexport const cssPrefix = (function()\n{\n\tconst styles = window.getComputedStyle(document.documentElement, '');\n\tconst pre = (Array.prototype.slice\n\t\t.call(styles)\n\t\t.join('')\n\t\t.match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o'])\n\t)[1];\n\tconst dom = ('WebKit|Moz|MS|O').match(new RegExp('(' + pre + ')', 'i'))[1];\n\n\treturn {\n\t\tdom: dom,\n\t\tlowercase: pre,\n\t\tcss: `-${pre}-`,\n\t\tjs: pre[0].toUpperCase() + pre.substr(1)\n\t};\n})();\n\n\n/**\n * check support css\n *\n * @param {String} key\n * @param {String} value\n * @return {Boolean}\n */\nexport function checkSupportCss(key, value)\n{\n\tif (CSS && CSS.supports)\n\t{\n\t\treturn CSS.supports(key, value);\n\t}\n}\n\n/**\n * load image\n *\n * @param {String} src\n * @return {Promise}\n */\nexport function loadImage(src)\n{\n\treturn new Promise((resolve) => {\n\t\tif (src)\n\t\t{\n\t\t\tlet image = new Image();\n\n\t\t\timage.onload = function(e)\n\t\t\t{\n\t\t\t\tresolve(image);\n\t\t\t};\n\t\t\timage.onError = function(e)\n\t\t\t{\n\t\t\t\tresolve(null);\n\t\t\t};\n\n\t\t\timage.setAttribute('crossOrigin', 'anonymous');\n\t\t\timage.src = src;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresolve(null);\n\t\t}\n\t});\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/lib/util.js","import * as types from '../actions/types';\nimport * as libs from '../lib';\nimport * as defaults from './defaults';\n\n\nlet lastGridId = 0;\nlet shuffleIndex = 0;\n\n\n/**\n * setting\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nexport function setting(state=defaults.setting.body.setting, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...action.preference.body.setting\n\t\t\t\t};\n\t\t\t} catch(e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.GRID_SETTING_UPDATE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.value,\n\t\t\t};\n\t}\n\treturn state;\n}\n\n/**\n * grid\n *\n * @param {Object} state\n * @param {*} action\n * @return {Object}\n */\nexport function grid(state={}, action)\n{\n\tlet newState = Object.assign({}, state);\n\n\tswitch (action.type)\n\t{\n\t\tcase types.INIT_PLE:\n\t\t\tlet grid = {};\n\t\t\ttry {\n\t\t\t\tif (!(action.preference.body.grid instanceof Array)) throw 'error';\n\t\t\t\taction.preference.body.grid.forEach((o, k) => {\n\t\t\t\t\tgrid[k] = o;\n\t\t\t\t});\n\t\t\t} catch(e) {\n\t\t\t\tgrid = action.preference.body.grid;\n\t\t\t}\n\t\t\tObject.keys(grid).forEach((o) => {\n\t\t\t\tnewState[lastGridId++] = {\n\t\t\t\t\tcolor: defaults.setting.body.blockColor,\n\t\t\t\t\t...grid[o],\n\t\t\t\t\tindexPrefix: shuffleIndex,\n\t\t\t\t};\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ADD_BLOCK:\n\t\t\tnewState[lastGridId++] = {\n\t\t\t\tcolor: defaults.setting.body.blockColor,\n\t\t\t\tlayout: { x: Infinity, y: Infinity, w: 1, h: 1 },\n\t\t\t\t...action.value,\n\t\t\t\tindexPrefix: shuffleIndex,\n\t\t\t};\n\t\t\treturn newState;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (!action.keys || !action.keys.length) return state;\n\t\t\taction.keys.forEach(o => {\n\t\t\t\tdelete newState[o];\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_SHUFFLE_BLOCKS:\n\t\t\treturn Object.keys(newState).map((k) => {\n\t\t\t\treturn {\n\t\t\t\t\t...newState[k],\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tx: libs.number.randomRange(0, action.value.x - 1),\n\t\t\t\t\t\ty: libs.number.randomRange(0, action.value.y - 1),\n\t\t\t\t\t\tw: libs.number.randomRange(1, action.value.w),\n\t\t\t\t\t\th: libs.number.randomRange(1, action.value.h),\n\t\t\t\t\t},\n\t\t\t\t\tindexPrefix: shuffleIndex++,\n\t\t\t\t};\n\t\t\t});\n\n\t\tcase types.GRID_DUPLICATE_BLOCK:\n\t\t\taction.keys.forEach(k => {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[lastGridId++] = Object.assign({}, newState[k]);\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_CHANGE_COLOR:\n\t\t\taction.keys.forEach(k => {\n\t\t\t\tif (!newState[k]) return;\n\t\t\t\tnewState[k].color = action.color;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ATTACH_IMAGES:\n\t\t\tif (!libs.object.isArray(action.value)) return state;\n\n\t\t\tif (action.activeBlocks && action.activeBlocks.length)\n\t\t\t{\n\t\t\t\tObject.keys(newState).forEach((k) => {\n\t\t\t\t\tif (!action.value.length) return;\n\t\t\t\t\tif (action.activeBlocks.indexOf(k) === -1) return;\n\t\t\t\t\tnewState[k].image = {\n\t\t\t\t\t\tsrc: action.value.splice(0,1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tObject.keys(newState).forEach((k) => {\n\t\t\t\t\tif (newState[k].image) return;\n\t\t\t\t\tif (!action.value || !action.value.length) return;\n\t\t\t\t\tnewState[k].image = {\n\t\t\t\t\t\tsrc: action.value.splice(0,1)[0],\n\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\tsize: 'cover'\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tif (action.value.length)\n\t\t\t\t{\n\t\t\t\t\taction.value.forEach((o, k) => {\n\t\t\t\t\t\tnewState[lastGridId++] = {\n\t\t\t\t\t\t\tcolor: defaults.setting.body.blockColor,\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\tx: (Object.keys(state).length + k) % action.columns,\n\t\t\t\t\t\t\t\ty: Infinity,\n\t\t\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\t\t\th: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\timage: {\n\t\t\t\t\t\t\t\tsrc: o,\n\t\t\t\t\t\t\t\tposition: '50% 50%',\n\t\t\t\t\t\t\t\tsize: 'cover',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tindexPrefix: shuffleIndex\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newState;\n\n\t\tcase types.GRID_ATTACH_IMAGE:\n\t\t\tif (!(action.image && typeof action.image === 'string')) return state;\n\t\t\tif (!newState[action.keys]) return state;\n\n\t\t\tnewState[action.keys].image = {\n\t\t\t\tsrc: action.image,\n\t\t\t\tposition: '50% 50%',\n\t\t\t\tsize: 'cover',\n\t\t\t};\n\t\t\treturn newState;\n\n\t\tcase types.GRID_UPDATE_BLOCKS:\n\t\t\treturn Object.assign({}, state, action.value);\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\tif (!newState[action.key]) return state;\n\t\t\tif (action.position)\n\t\t\t{\n\t\t\t\tnewState[action.key].image.position = action.position;\n\t\t\t}\n\t\t\tif (action.size)\n\t\t\t{\n\t\t\t\tnewState[action.key].image.size = action.size;\n\t\t\t}\n\t\t\treturn newState;\n\t}\n\n\treturn state;\n}\n\n/**\n * active block\n *\n * @param {Array} state\n * @param {*} action\n * @return {Array}\n */\nexport function activeBlock(state=[], action)\n{\n\tlet newState = Object.assign([], state);\n\n\tswitch (action.type)\n\t{\n\t\tcase types.GRID_ACTIVE_BLOCK:\n\t\t\treturn action.value;\n\n\t\tcase types.GRID_REMOVE_BLOCK:\n\t\t\tif (action.keys && action.keys.length)\n\t\t\t{\n\t\t\t\taction.keys.forEach(o => {\n\t\t\t\t\tif (newState.indexOf(o) < 0) return;\n\t\t\t\t\tnewState.splice(newState.indexOf(o), 1);\n\t\t\t\t});\n\t\t\t\treturn newState;\n\t\t\t}\n\t\t\treturn [];\n\t}\n\n\treturn state;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/body.js","import * as types from '../actions/types';\nimport Keyboard from '../lib/Keyboard';\nimport * as defaults from './defaults';\n\n\nexport function setting(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn Object.assign({}, {\n\t\t\t\tbase: {\n\t\t\t\t\t...defaults.setting.base,\n\t\t\t\t\tuploadScript: action.preference.uploadScript || defaults.setting.base.uploadScript,\n\t\t\t\t\tuploadParamsConvertFunc: action.preference.uploadParamsConvertFunc || defaults.setting.base.uploadParamsConvertFunc\n\t\t\t\t},\n\t\t\t\tside: {\n\t\t\t\t\t...defaults.setting.side,\n\t\t\t\t\t...action.preference.side\n\t\t\t\t},\n\t\t\t\tbody: {\n\t\t\t\t\t...defaults.setting.body,\n\t\t\t\t\t...action.preference.body,\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function api(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.api;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function keyboard(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn new Keyboard();\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function element(state=null, action)\n{\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\treturn action.element;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/core.js","import * as types from '../actions/types';\n\n\nexport function visible(state=false, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn true;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn false;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function item(state=null, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.item;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function key(state=null, action)\n{\n\tswitch(action.type)\n\t{\n\t\tcase types.CROPPER_OPEN:\n\t\t\treturn action.key;\n\n\t\tcase types.CROPPER_CLOSE:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/cropper.js","import * as types from '../actions/types';\nimport * as defaults from './defaults';\n\n\nlet nextFileId = 0;\n\n\n/**\n * Reducers\n */\n\n// base\nexport default function base(state=defaults.side, action)\n{\n\tlet newState = Object.assign({}, state);\n\tlet files = {};\n\n\tswitch (action.type) {\n\t\tcase types.INIT_PLE:\n\t\t\ttry {\n\t\t\t\taction.preference.side.files.forEach(o => {\n\t\t\t\t\tfiles[nextFileId++] = { image: o, active: false }\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...action.preference.side,\n\t\t\t\t\tfiles: {\n\t\t\t\t\t\t...state.files,\n\t\t\t\t\t\t...files,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t} catch(e) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\tcase types.SIDE_VISIBLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvisible: action.value,\n\t\t\t};\n\n\t\tcase types.SIDE_TOGGLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvisible: !state.visible,\n\t\t\t};\n\n\t\tcase types.SIDE_ADD_FILES:\n\t\t\taction.files.forEach((o) => {\n\t\t\t\tfiles[nextFileId++] = { image: o, active: false }\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\t...files,\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase types.SIDE_REMOVE_FILES:\n\t\t\tif (!action.keys.length) return state;\n\t\t\taction.keys.forEach(o => {\n\t\t\t\tdelete newState.files[o];\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.SIDE_UPDATE_SELECTED:\n\t\t\tif (!(action.value && Object.keys(action.value).length)) return state;\n\t\t\tObject.keys(action.value).forEach(k => {\n\t\t\t\tif (!newState.files[k]) return;\n\t\t\t\tnewState.files[k].active = action.value[k].active;\n\t\t\t});\n\t\t\treturn newState;\n\n\t\tcase types.SIDE_UPDATE_PROGRESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprogressPercent: action.value\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/PhotoLayoutEditor/reducers/side.js","module.exports = __WEBPACK_EXTERNAL_MODULE_48__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}\n// module id = 48\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_49__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-grid-layout\",\"commonjs2\":\"react-grid-layout\",\"amd\":\"react-grid-layout\",\"root\":\"PropTypes\"}\n// module id = 49\n// module chunks = 0"],"sourceRoot":""}