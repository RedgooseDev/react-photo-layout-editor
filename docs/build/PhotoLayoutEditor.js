/*! For license information please see PhotoLayoutEditor.js.LICENSE */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("jQuery"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","jQuery","ReactDOM"],t):"object"==typeof exports?exports.PhotoLayoutEditor=t(require("React"),require("jQuery"),require("ReactDOM")):e.PhotoLayoutEditor=t(e.React,e.jQuery,e.ReactDOM)}(window,(function(e,t,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=50)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){e.exports=n(22)()},function(e,t){e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,u){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,i,a,u],l=0;(c=new Error(t.replace(/%s/g,(function(){return s[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=l,t.cloneLayout=function(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=f(e[n]);return t},t.cloneLayoutItem=f,t.childrenEqual=function(e,t){return(0,r.default)(o.default.Children.map(e,(function(e){return e.key})),o.default.Children.map(t,(function(e){return e.key})))},t.collides=p,t.compact=d,t.compactItem=g,t.correctBounds=m,t.getLayoutItem=b,t.getFirstCollision=v,t.getAllCollisions=w,t.getStatics=O,t.moveElement=S,t.moveElementAwayFromCollision=_,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,o=e.height,i="translate(".concat(n,"px,").concat(t,"px)");return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:"".concat(r,"px"),height:"".concat(o,"px"),position:"absolute"}},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,o=e.height;return{top:"".concat(t,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(o,"px"),position:"absolute"}},t.sortLayoutItems=k,t.sortLayoutItemsByRowCol=P,t.sortLayoutItemsByColRow=j,t.synchronizeLayoutWithChildren=function(e,t,n,r){e=e||[];var i=[];return o.default.Children.forEach(t,(function(t,n){var r=b(e,String(t.key));if(r)i[n]=f(r);else{!c&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var o=t.props["data-grid"]||t.props._grid;o?(c||E([o],"ReactGridLayout.children"),i[n]=f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{i:t.key}))):i[n]=f({w:1,h:1,x:0,y:l(i),i:String(t.key)})}})),i=d(i=m(i,{cols:n}),r,n)},t.validateLayout=E,t.autoBindHandlers=function(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))},t.noop=void 0;var r=i(n(8)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!0,s=!1;function l(e){for(var t,n=0,r=0,o=e.length;r<o;r++)(t=e[r].y+e[r].h)>n&&(n=t);return n}function f(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable}}function p(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function d(e,t,n){for(var r=O(e),o=k(e,t),i=Array(e.length),a=0,u=o.length;a<u;a++){var c=f(o[a]);c.static||(c=g(r,c,t,n,o),r.push(c)),i[e.indexOf(o[a])]=c,c.moved=!1}return i}var h={x:"w",y:"h"};function y(e,t,n,r){var o=h[r];t[r]+=1;for(var i=e.map((function(e){return e.i})).indexOf(t.i)+1;i<e.length;i++){var a=e[i];if(!a.static){if(a.y>t.y+t.h)break;p(t,a)&&y(e,a,n+t[o],r)}}t[r]=n}function g(e,t,n,r,o){var i,a="horizontal"===n;if("vertical"===n)for(t.y=Math.min(l(e),t.y);t.y>0&&!v(e,t);)t.y--;else if(a)for(t.y=Math.min(l(e),t.y);t.x>0&&!v(e,t);)t.x--;for(;i=v(e,t);)a?y(o,t,i.x+i.w,"x"):y(o,t,i.y+i.h,"y"),a&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function m(e,t){for(var n=O(e),r=0,o=e.length;r<o;r++){var i=e[r];if(i.x+i.w>t.cols&&(i.x=t.cols-i.w),i.x<0&&(i.x=0,i.w=t.cols),i.static)for(;v(n,i);)i.y++;else n.push(i)}return e}function b(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function v(e,t){for(var n=0,r=e.length;n<r;n++)if(p(e[n],t))return e[n]}function w(e,t){return e.filter((function(e){return p(e,t)}))}function O(e){return e.filter((function(e){return e.static}))}function S(e,t,n,r,o,i,a,u){if(t.static)return e;if(t.y===r&&t.x===n)return e;x("Moving element ".concat(t.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(t.x,",").concat(t.y,"]"));var c=t.x,s=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var l=k(e,a);("vertical"===a&&"number"==typeof r?s>=r:"horizontal"===a&&"number"==typeof n&&c>=n)&&(l=l.reverse());var f=w(l,t);if(i&&f.length)return x("Collision prevented on ".concat(t.i,", reverting.")),t.x=c,t.y=s,t.moved=!1,e;for(var p=0,d=f.length;p<d;p++){var h=f[p];x("Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(h.i," at [").concat(h.x,",").concat(h.y,"]")),h.moved||(e=h.static?_(e,h,t,o,a,u):_(e,t,h,o,a,u))}return e}function _(e,t,n,r,o,i){var a="horizontal"===o,u="horizontal"!==o,c=t.static;if(r){r=!1;var s={x:a?Math.max(t.x-n.w,0):n.x,y:u?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!v(e,s))return x("Doing reverse collision on ".concat(n.i," up to [").concat(s.x,",").concat(s.y,"].")),S(e,n,a?s.x:void 0,u?s.y:void 0,r,c,o,i)}return S(e,n,a?n.x+1:void 0,u?n.y+1:void 0,r,c,o,i)}function k(e,t){return"horizontal"===t?j(e):P(e)}function P(e){return[].concat(e).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function j(e){return[].concat(e).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,o=e.length;r<o;r++){for(var i=e[r],a=0;a<n.length;a++)if("number"!=typeof i[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(i.i&&"string"!=typeof i.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==i.static&&"boolean"!=typeof i.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}function x(){var e;s&&(e=console).log.apply(e,arguments)}t.noop=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(0)),o=l(n(3)),i=l(n(2)),a=l(n(35)),u=l(n(47)),c=l(n(48)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,y(t).call(this,e))).state={color:s.color.parseToHsv(e.color)},n}var n,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,l=[{key:"getDerivedStateFromProps",value:function(e,t){var n=s.color.parseToHsv(e.color);return s.color.equals(t.color,n)?null:{color:n}}}],(o=[{key:"getAlpha",value:function(){var e=this.state;return void 0===e.color[3]?1:e.color[3]}},{key:"getBackgroundGradient",value:function(){var e=p(this.state.color,3),t=e[0],n=e[1],r=e[2],o=s.color.toRgbString([t,n,r,1]);return"linear-gradient(to right, rgba(0,0,0,0) 0%, ".concat(o," 100%)")}},{key:"getBackgroundHue",value:function(){return s.color.toRgbString([this.state.color[0],100,100])}},{key:"update",value:function(e){var t=this.props;this.setState({color:e}),t.onChange(s.color.toRgbString(e))}},{key:"changeColor",value:function(e){var t=s.color.parseToHsv(e);s.color.equals(this.state.color,t)||this.setState({color:t})}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,o=p(t.color,3),l=o[0],f=o[1],d=o[2];return r.default.createElement("div",{className:(0,i.default)("colorpicker",n.className)},r.default.createElement(u.default,{x:f,y:d,max:100,backgroundColor:this.getBackgroundHue(),onChange:function(n,r){var o=p(t.color,4),i=o[0],a=o[3];e.update([i,n,r,a])},className:(0,i.default)("colorpicker__map",{"cpMap-dark":s.color.isDark(t.color),"cpMap-light":!s.color.isDark(t.color)})}),r.default.createElement("div",{className:"colorpicker__body"},r.default.createElement("nav",{className:"colorpicker__controller"},r.default.createElement(a.default,{value:l,max:360,onChange:function(n){var r=p(t.color,4),o=r[1],i=r[2],a=r[3];e.update([n,o,i,a])},className:"colorpicker__slider cpSlider-hue"}),r.default.createElement(a.default,{value:this.getAlpha(),max:1,background:this.getBackgroundGradient(),onChange:function(n){var r=p(t.color,3),o=r[0],i=r[1],a=r[2];e.update([o,i,a,n])},className:"colorpicker__slider cpSlider-opacity"})),r.default.createElement("figure",{className:"cpPreview colorpicker__preview"},r.default.createElement("span",null,r.default.createElement("i",{style:{backgroundColor:s.color.toRgbString(t.color)}})))),r.default.createElement(c.default,{colors:n.paletteColors,onSelectColor:function(t){var n=p(s.color.parseToHsv(t),4),r=n[0],o=n[1],i=n[2],a=n[3];e.update([r,o,i,a])},className:"colorpicker__palette"}))}}])&&d(n.prototype,o),l&&d(n,l),t}(r.default.Component);m.propTypes={color:o.default.string.isRequired,onChange:o.default.func.isRequired},m.defaultProps={color:"rgba(0,0,0,1)",onChange:function(e){},paletteColors:["#D0011B","#F6A623","#F8E81C","#8B572A","#7ED321","#417505","#BD0FE1","#9012FE","#4990E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF","#B31F37"],className:null};var b=m;t.default=b},function(e,t,n){(function(e,n){var r=200,o="__lodash_hash_undefined__",i=1,a=2,u=9007199254740991,c="[object Arguments]",s="[object Array]",l="[object AsyncFunction]",f="[object Boolean]",p="[object Date]",d="[object Error]",h="[object Function]",y="[object GeneratorFunction]",g="[object Map]",m="[object Number]",b="[object Null]",v="[object Object]",w="[object Proxy]",O="[object RegExp]",S="[object Set]",_="[object String]",k="[object Symbol]",P="[object Undefined]",j="[object ArrayBuffer]",E="[object DataView]",x=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[c]=D[s]=D[j]=D[f]=D[E]=D[p]=D[d]=D[h]=D[g]=D[m]=D[v]=D[O]=D[S]=D[_]=D["[object WeakMap]"]=!1;var R="object"==typeof e&&e&&e.Object===Object&&e,T="object"==typeof self&&self&&self.Object===Object&&self,z=R||T||Function("return this")(),M=t&&!t.nodeType&&t,N=M&&"object"==typeof n&&n&&!n.nodeType&&n,I=N&&N.exports===M,B=I&&R.process,L=function(){try{return B&&B.binding&&B.binding("util")}catch(e){}}(),A=L&&L.isTypedArray;function H(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function F(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function U(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var W,$,q,X=Array.prototype,Y=Function.prototype,G=Object.prototype,V=z["__core-js_shared__"],K=Y.toString,Q=G.hasOwnProperty,J=(W=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",Z=G.toString,ee=RegExp("^"+K.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=I?z.Buffer:void 0,ne=z.Symbol,re=z.Uint8Array,oe=G.propertyIsEnumerable,ie=X.splice,ae=ne?ne.toStringTag:void 0,ue=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,se=($=Object.keys,q=Object,function(e){return $(q(e))}),le=Le(z,"DataView"),fe=Le(z,"Map"),pe=Le(z,"Promise"),de=Le(z,"Set"),he=Le(z,"WeakMap"),ye=Le(Object,"create"),ge=Ue(le),me=Ue(fe),be=Ue(pe),ve=Ue(de),we=Ue(he),Oe=ne?ne.prototype:void 0,Se=Oe?Oe.valueOf:void 0;function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function je(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Pe;++t<n;)this.add(e[t])}function Ee(e){var t=this.__data__=new ke(e);this.size=t.size}function xe(e,t){var n=qe(e),r=!n&&$e(e),o=!n&&!r&&Xe(e),i=!n&&!r&&!o&&Qe(e),a=n||r||o||i,u=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=u.length;for(var s in e)!t&&!Q.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Fe(s,c))||u.push(s);return u}function Ce(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}function De(e){return null==e?void 0===e?P:b:ae&&ae in Object(e)?function(e){var t=Q.call(e,ae),n=e[ae];try{e[ae]=void 0;var r=!0}catch(e){}var o=Z.call(e);r&&(t?e[ae]=n:delete e[ae]);return o}(e):function(e){return Z.call(e)}(e)}function Re(e){return Ke(e)&&De(e)==c}function Te(e,t,n,r,o){return e===t||(null==e||null==t||!Ke(e)&&!Ke(t)?e!=e&&t!=t:function(e,t,n,r,o,u){var l=qe(e),h=qe(t),y=l?s:He(e),b=h?s:He(t),w=(y=y==c?v:y)==v,P=(b=b==c?v:b)==v,x=y==b;if(x&&Xe(e)){if(!Xe(t))return!1;l=!0,w=!1}if(x&&!w)return u||(u=new Ee),l||Qe(e)?Ne(e,t,n,r,o,u):function(e,t,n,r,o,u,c){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j:return!(e.byteLength!=t.byteLength||!u(new re(e),new re(t)));case f:case p:case m:return We(+e,+t);case d:return e.name==t.name&&e.message==t.message;case O:case _:return e==t+"";case g:var s=F;case S:var l=r&i;if(s||(s=U),e.size!=t.size&&!l)return!1;var h=c.get(e);if(h)return h==t;r|=a,c.set(e,t);var y=Ne(s(e),s(t),r,o,u,c);return c.delete(e),y;case k:if(Se)return Se.call(e)==Se.call(t)}return!1}(e,t,y,n,r,o,u);if(!(n&i)){var C=w&&Q.call(e,"__wrapped__"),D=P&&Q.call(t,"__wrapped__");if(C||D){var R=C?e.value():e,T=D?t.value():t;return u||(u=new Ee),o(R,T,n,r,u)}}if(!x)return!1;return u||(u=new Ee),function(e,t,n,r,o,a){var u=n&i,c=Ie(e),s=c.length,l=Ie(t).length;if(s!=l&&!u)return!1;var f=s;for(;f--;){var p=c[f];if(!(u?p in t:Q.call(t,p)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var h=!0;a.set(e,t),a.set(t,e);var y=u;for(;++f<s;){p=c[f];var g=e[p],m=t[p];if(r)var b=u?r(m,g,p,t,e,a):r(g,m,p,e,t,a);if(!(void 0===b?g===m||o(g,m,n,r,a):b)){h=!1;break}y||(y="constructor"==p)}if(h&&!y){var v=e.constructor,w=t.constructor;v!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w)&&(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,o,u)}(e,t,n,r,Te,o))}function ze(e){return!(!Ve(e)||function(e){return!!J&&J in e}(e))&&(Ye(e)?ee:x).test(Ue(e))}function Me(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||G,t!==r)return se(e);var t,n,r,o=[];for(var i in Object(e))Q.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Ne(e,t,n,r,o,u){var c=n&i,s=e.length,l=t.length;if(s!=l&&!(c&&l>s))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var p=-1,d=!0,h=n&a?new je:void 0;for(u.set(e,t),u.set(t,e);++p<s;){var y=e[p],g=t[p];if(r)var m=c?r(g,y,p,t,e,u):r(y,g,p,e,t,u);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!H(t,(function(e,t){if(i=t,!h.has(i)&&(y===e||o(y,e,n,r,u)))return h.push(t);var i}))){d=!1;break}}else if(y!==g&&!o(y,g,n,r,u)){d=!1;break}}return u.delete(e),u.delete(t),d}function Ie(e){return function(e,t,n){var r=t(e);return qe(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Je,Ae)}function Be(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Le(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ze(n)?n:void 0}_e.prototype.clear=function(){this.__data__=ye?ye(null):{},this.size=0},_e.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},_e.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===o?void 0:n}return Q.call(t,e)?t[e]:void 0},_e.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:Q.call(t,e)},_e.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ye&&void 0===t?o:t,this},ke.prototype.clear=function(){this.__data__=[],this.size=0},ke.prototype.delete=function(e){var t=this.__data__,n=Ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():ie.call(t,n,1),--this.size,!0)},ke.prototype.get=function(e){var t=this.__data__,n=Ce(t,e);return n<0?void 0:t[n][1]},ke.prototype.has=function(e){return Ce(this.__data__,e)>-1},ke.prototype.set=function(e,t){var n=this.__data__,r=Ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Pe.prototype.clear=function(){this.size=0,this.__data__={hash:new _e,map:new(fe||ke),string:new _e}},Pe.prototype.delete=function(e){var t=Be(this,e).delete(e);return this.size-=t?1:0,t},Pe.prototype.get=function(e){return Be(this,e).get(e)},Pe.prototype.has=function(e){return Be(this,e).has(e)},Pe.prototype.set=function(e,t){var n=Be(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},je.prototype.add=je.prototype.push=function(e){return this.__data__.set(e,o),this},je.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.clear=function(){this.__data__=new ke,this.size=0},Ee.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var o=n.__data__;if(!fe||o.length<r-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pe(o)}return n.set(e,t),this.size=n.size,this};var Ae=ue?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(ue(e),(function(t){return oe.call(e,t)})))}:function(){return[]},He=De;function Fe(e,t){return!!(t=null==t?u:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function We(e,t){return e===t||e!=e&&t!=t}(le&&He(new le(new ArrayBuffer(1)))!=E||fe&&He(new fe)!=g||pe&&"[object Promise]"!=He(pe.resolve())||de&&He(new de)!=S||he&&"[object WeakMap]"!=He(new he))&&(He=function(e){var t=De(e),n=t==v?e.constructor:void 0,r=n?Ue(n):"";if(r)switch(r){case ge:return E;case me:return g;case be:return"[object Promise]";case ve:return S;case we:return"[object WeakMap]"}return t});var $e=Re(function(){return arguments}())?Re:function(e){return Ke(e)&&Q.call(e,"callee")&&!oe.call(e,"callee")},qe=Array.isArray;var Xe=ce||function(){return!1};function Ye(e){if(!Ve(e))return!1;var t=De(e);return t==h||t==y||t==l||t==w}function Ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function Ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ke(e){return null!=e&&"object"==typeof e}var Qe=A?function(e){return function(t){return e(t)}}(A):function(e){return Ke(e)&&Ge(e.length)&&!!D[De(e)]};function Je(e){return null!=(t=e)&&Ge(t.length)&&!Ye(t)?xe(e):Me(e);var t}n.exports=function(e,t){return Te(e,t)}}).call(this,n(12),n(28)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.util=t.color=void 0;var r=i(n(36));t.color=r;var o=i(n(46));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}t.util=o},function(e,t,n){"use strict";var r=n(24),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function c(e){return r.isMemo(e)?a:u[e.$$typeof]||o}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var s=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=d(n);o&&o!==h&&e(t,o,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var u=c(t),y=c(n),g=0;g<a.length;++g){var m=a[g];if(!(i[m]||r&&r[m]||y&&y[m]||u&&u[m])){var b=p(n,m);try{s(t,m,b)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";(function(e,r){var o,i=n(20);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(12),n(27)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(0)),o=s(n(3)),i=s(n(8)),a=s(n(2)),u=n(6),c=s(n(29));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){var t=e||{},n=t.verticalCompact,r=t.compactType;return!1===n?null:r},w="react-grid-layout",O=!1;try{O=navigator.userAgent.toLowerCase().includes("firefox")}catch(e){}var S=function(e){function t(e,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?g(e):t}(this,y(t).call(this,e,n)),b(g(o),"state",{activeDrag:null,layout:(0,u.synchronizeLayoutWithChildren)(o.props.layout,o.props.children,o.props.cols,v(o.props)),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),b(g(o),"dragEnterCounter",0),b(g(o),"onDragOver",(function(e){if(O&&!e.nativeEvent.target.className.includes(w))return!1;var t=o.props.droppingItem,n=o.state.layout,i=e.nativeEvent,a=i.layerX,u=i.layerY,c={x:a,y:u,e:e};if(o.state.droppingDOMNode){if(o.state.droppingPosition){(o.state.droppingPosition.x!=a||o.state.droppingPosition.y!=u)&&o.setState({droppingPosition:c})}}else o.setState({droppingDOMNode:r.default.createElement("div",{key:t.i}),droppingPosition:c,layout:[].concat(d(n),[p({},t,{x:0,y:0,static:!1,isDraggable:!0})])});e.stopPropagation(),e.preventDefault()})),b(g(o),"removeDroppingPlaceholder",(function(){var e=o.props,t=e.droppingItem,n=e.cols,r=o.state.layout,i=(0,u.compact)(r.filter((function(e){return e.i!==t.i})),v(o.props),n);o.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),b(g(o),"onDragLeave",(function(){o.dragEnterCounter--,0===o.dragEnterCounter&&o.removeDroppingPlaceholder()})),b(g(o),"onDragEnter",(function(){o.dragEnterCounter++})),b(g(o),"onDrop",(function(){var e=o.props.droppingItem,t=o.state.layout.find((function(t){return t.i===e.i}))||{},n=t.x,r=t.y,i=t.w,a=t.h;o.dragEnterCounter=0,o.removeDroppingPlaceholder(),o.props.onDrop({x:n,y:r,w:i,h:a})})),(0,u.autoBindHandlers)(g(o),["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),o}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,s=[{key:"getDerivedStateFromProps",value:function(e,t){var n;return t.activeDrag?null:((0,i.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,u.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,u.synchronizeLayoutWithChildren)(n,e.children,e.cols,v(e)),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(o=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var n=this.state.layout,r=t.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,u.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onDragStart",value:function(e,t,n,r){var o=r.e,i=r.node,a=this.state.layout,c=(0,u.getLayoutItem)(a,e);if(c)return this.setState({oldDragItem:(0,u.cloneLayoutItem)(c),oldLayout:this.state.layout}),this.props.onDragStart(a,c,c,null,o,i)}},{key:"onDrag",value:function(e,t,n,r){var o=r.e,i=r.node,a=this.state.oldDragItem,c=this.state.layout,s=this.props.cols,l=(0,u.getLayoutItem)(c,e);if(l){var f={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:!0,i:e};c=(0,u.moveElement)(c,l,t,n,!0,this.props.preventCollision,v(this.props),s),this.props.onDrag(c,a,l,f,o,i),this.setState({layout:(0,u.compact)(c,v(this.props),s),activeDrag:f})}}},{key:"onDragStop",value:function(e,t,n,r){var o=r.e,i=r.node,a=this.state.oldDragItem,c=this.state.layout,s=this.props,l=s.cols,f=s.preventCollision,p=(0,u.getLayoutItem)(c,e);if(p){c=(0,u.moveElement)(c,p,t,n,!0,f,v(this.props),l),this.state.activeDrag&&this.props.onDragStop(c,a,p,null,o,i);var d=(0,u.compact)(c,v(this.props),l),h=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,h)}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,i.default)(t,e)||this.props.onLayoutChange(e)}},{key:"onResizeStart",value:function(e,t,n,r){var o=r.e,i=r.node,a=this.state.layout,c=(0,u.getLayoutItem)(a,e);c&&(this.setState({oldResizeItem:(0,u.cloneLayoutItem)(c),oldLayout:this.state.layout}),this.props.onResizeStart(a,c,c,null,o,i))}},{key:"onResize",value:function(e,t,n,r){var o=r.e,i=r.node,a=this.state,c=a.layout,s=a.oldResizeItem,l=this.props,f=l.cols,d=l.preventCollision,h=(0,u.getLayoutItem)(c,e);if(h){var y;if(d){var g=(0,u.getAllCollisions)(c,p({},h,{w:t,h:n})).filter((function(e){return e.i!==h.i}));if(y=g.length>0){var m=1/0,b=1/0;g.forEach((function(e){e.x>h.x&&(m=Math.min(m,e.x)),e.y>h.y&&(b=Math.min(b,e.y))})),Number.isFinite(m)&&(h.w=m-h.x),Number.isFinite(b)&&(h.h=b-h.y)}}y||(h.w=t,h.h=n);var w={w:h.w,h:h.h,x:h.x,y:h.y,static:!0,i:e};this.props.onResize(c,s,h,w,o,i),this.setState({layout:(0,u.compact)(c,v(this.props),f),activeDrag:w})}}},{key:"onResizeStop",value:function(e,t,n,r){var o=r.e,i=r.node,a=this.state,c=a.layout,s=a.oldResizeItem,l=this.props.cols,f=(0,u.getLayoutItem)(c,e);this.props.onResizeStop(c,s,f,null,o,i);var p=(0,u.compact)(c,v(this.props),l),d=this.state.oldLayout;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,d)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,o=t.cols,i=t.margin,a=t.containerPadding,u=t.rowHeight,s=t.maxRows,l=t.useCSSTransforms,f=t.transformScale;return r.default.createElement(c.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:o,margin:i,containerPadding:a||i,maxRows:s,rowHeight:u,isDraggable:!1,isResizable:!1,useCSSTransforms:l,transformScale:f},r.default.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var n=(0,u.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;var o=this.props,i=o.width,a=o.cols,s=o.margin,l=o.containerPadding,f=o.rowHeight,p=o.maxRows,d=o.isDraggable,h=o.isResizable,y=o.useCSSTransforms,g=o.transformScale,m=o.draggableCancel,b=o.draggableHandle,v=this.state,w=v.mounted,O=v.droppingPosition,S=Boolean(!n.static&&d&&(n.isDraggable||null==n.isDraggable)),_=Boolean(!n.static&&h&&(n.isResizable||null==n.isResizable));return r.default.createElement(c.default,{containerWidth:i,cols:a,margin:s,containerPadding:l||s,maxRows:p,rowHeight:f,cancel:m,handle:b,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:S,isResizable:_,useCSSTransforms:y&&w,usePercentages:!w,transformScale:g,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?O:void 0},e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.style,i=t.isDroppable,c=(0,a.default)(w,n),s=p({height:this.containerHeight()},o);return r.default.createElement("div",{className:c,style:s,onDrop:i?this.onDrop:u.noop,onDragLeave:i?this.onDragLeave:u.noop,onDragEnter:i?this.onDragEnter:u.noop,onDragOver:i?this.onDragOver:u.noop},r.default.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),i&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&h(n.prototype,o),s&&h(n,s),t}(r.default.Component);t.default=S,b(S,"displayName","ReactGridLayout"),b(S,"propTypes",{className:o.default.string,style:o.default.object,width:o.default.number,autoSize:o.default.bool,cols:o.default.number,draggableCancel:o.default.string,draggableHandle:o.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:o.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&(0,u.validateLayout)(t,"layout")},margin:o.default.arrayOf(o.default.number),containerPadding:o.default.arrayOf(o.default.number),rowHeight:o.default.number,maxRows:o.default.number,isDraggable:o.default.bool,isResizable:o.default.bool,preventCollision:o.default.bool,useCSSTransforms:o.default.bool,transformScale:o.default.number,isDroppable:o.default.bool,onLayoutChange:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onDragStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,onResizeStop:o.default.func,onDrop:o.default.func,droppingItem:o.default.shape({i:o.default.string.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired}),children:function(e,t){var n=e[t],o={};r.default.Children.forEach(n,(function(e){if(o[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');o[e.key]=!0}))}}),b(S,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},onLayoutChange:u.noop,onDragStart:u.noop,onDrag:u.noop,onDragStop:u.noop,onResizeStart:u.noop,onResize:u.noop,onResizeStop:u.noop,onDrop:u.noop})},function(e,t,n){var r,o;window,e.exports=(r=n(0),o=n(4),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(5)()},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(7),o=r.default,i=r.DraggableCore;e.exports=o,e.exports.default=o,e.exports.DraggableCore=i},function(e,t,n){"use strict";var r=n(6);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(0),a=n.n(i),u=n(2),c=n.n(u),s=n(3),l=n.n(s);function f(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function p(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function d(e){return"number"==typeof e&&!isNaN(e)}function h(e){return parseInt(e,10)}function y(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var g=["Moz","Webkit","O","ms"];function m(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<g.length;n++)if(m(e,g[n])in t)return g[n];return""}();function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O="";function S(e,t){return O||(O=f(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return p(e[t])}))),!!p(e[O])&&e[O](t)}function _(e,t,n){var r=e;do{if(S(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function k(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function P(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function j(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=h(n.borderTopWidth))+h(n.borderBottomWidth)}function E(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=h(n.borderLeftWidth))+h(n.borderRightWidth)}function x(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=h(n.paddingTop))-h(n.paddingBottom)}function C(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=h(n.paddingLeft))-h(n.paddingRight)}function D(e,t,n){var r=e.x,o=e.y,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),u="".concat("string"==typeof t.y?t.y:t.y+n);i="translate(".concat(a,", ").concat(u,")")+i}return i}function R(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function T(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function z(e){return"both"===e.props.axis||"x"===e.props.axis}function M(e){return"both"===e.props.axis||"y"===e.props.axis}function N(e,t,n){var r="number"==typeof t?function(e,t){return e.targetTouches&&f(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&f(e.changedTouches,(function(e){return t===e.identifier}))}(e,t):null;if("number"==typeof t&&!r)return null;var o=L(n);return function(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}(r||e,n.props.offsetParent||o.offsetParent||o.ownerDocument.body)}function I(e,t,n){var r=e.state,o=!d(r.lastX),i=L(e);return o?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function B(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function L(e){var t=c.a.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},X=q.mouse,Y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=(e=F(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==A(r)&&"function"!=typeof r?U(this):r,$(U(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),$(U(n),"handleDragStart",(function(e){if(n.props.onMouseDown(e),!n.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=c.a.findDOMNode(U(n));if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=t.ownerDocument;if(!(n.props.disabled||!(e.target instanceof r.defaultView.Node)||n.props.handle&&!_(e.target,n.props.handle,t)||n.props.cancel&&_(e.target,n.props.cancel,t))){var o=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(e);n.setState({touchIdentifier:o});var i=N(e,o,U(n));if(null!=i){var a=i.x,u=i.y,s=I(U(n),a,u);n.props.onStart,!1!==n.props.onStart(e,s)&&(n.props.enableUserSelectHack&&function(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(n="react-draggable-transparent-selection",(t=e.body).classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(t.className+=" ".concat(n)))}}(r),n.setState({dragging:!0,lastX:a,lastY:u}),k(r,X.move,n.handleDrag),k(r,X.stop,n.handleDragStop))}}})),$(U(n),"handleDrag",(function(e){"touchmove"===e.type&&e.preventDefault();var t=N(e,n.state.touchIdentifier,U(n));if(null!=t){var r,o,i,a=t.x,u=t.y;if(Array.isArray(n.props.grid)){var c=a-n.state.lastX,s=u-n.state.lastY,l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}((r=n.props.grid,o=c,i=s,[Math.round(o/r[0])*r[0],Math.round(i/r[1])*r[1]]),2);if(c=l[0],s=l[1],!c&&!s)return;a=n.state.lastX+c,u=n.state.lastY+s}var f=I(U(n),a,u);if(!1!==n.props.onDrag(e,f))n.setState({lastX:a,lastY:u});else try{n.handleDragStop(new MouseEvent("mouseup"))}catch(e){var p=document.createEvent("MouseEvents");p.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(p)}}})),$(U(n),"handleDragStop",(function(e){if(n.state.dragging){var t=N(e,n.state.touchIdentifier,U(n));if(null!=t){var r=t.x,o=t.y,i=I(U(n),r,o),a=c.a.findDOMNode(U(n));a&&n.props.enableUserSelectHack&&R(a.ownerDocument),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),n.props.onStop(e,i),a&&(P(a.ownerDocument,X.move,n.handleDrag),P(a.ownerDocument,X.stop,n.handleDragStop))}}})),$(U(n),"onMouseDown",(function(e){return X=q.mouse,n.handleDragStart(e)})),$(U(n),"onMouseUp",(function(e){return X=q.mouse,n.handleDragStop(e)})),$(U(n),"onTouchStart",(function(e){return X=q.touch,n.handleDragStart(e)})),$(U(n),"onTouchEnd",(function(e){return X=q.touch,n.handleDragStop(e)})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillUnmount",value:function(){var e=c.a.findDOMNode(this);if(e){var t=e.ownerDocument;P(t,q.mouse.move,this.handleDrag),P(t,q.touch.move,this.handleDrag),P(t,q.mouse.stop,this.handleDragStop),P(t,q.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&R(t)}}},{key:"render",value:function(){return o.a.cloneElement(o.a.Children.only(this.props.children),{style:T(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&H(n.prototype,r),t}();function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$(Y,"displayName","DraggableCore"),$(Y,"propTypes",{allowAnyClick:a.a.bool,disabled:a.a.bool,enableUserSelectHack:a.a.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.a.arrayOf(a.a.number),handle:a.a.string,cancel:a.a.string,onStart:a.a.func,onDrag:a.a.func,onStop:a.a.func,onMouseDown:a.a.func,className:y,style:y,transform:y}),$(Y,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}}),n.d(t,"default",(function(){return oe})),n.d(t,"DraggableCore",(function(){return Y}));var oe=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=J(t).call(this,e),n=!r||"object"!==G(r)&&"function"!=typeof r?Z(this):r,re(Z(n),"onDragStart",(function(e,t){if(!1===n.props.onStart(e,B(Z(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),re(Z(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;var r=B(Z(n),t),o={x:r.x,y:r.y};if(n.props.bounds){var i=o.x,a=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var o=L(e);if("string"==typeof r){var i,a=o.ownerDocument,u=a.defaultView;if(!((i="parent"===r?o.parentNode:a.querySelector(r))instanceof u.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var c=u.getComputedStyle(o),s=u.getComputedStyle(i);r={left:-o.offsetLeft+h(s.paddingLeft)+h(c.marginLeft),top:-o.offsetTop+h(s.paddingTop)+h(c.marginTop),right:C(i)-E(o)-o.offsetLeft+h(s.paddingRight)-h(c.marginRight),bottom:x(i)-j(o)-o.offsetTop+h(s.paddingBottom)-h(c.marginBottom)}}return d(r.right)&&(t=Math.min(t,r.right)),d(r.bottom)&&(n=Math.min(n,r.bottom)),d(r.left)&&(t=Math.max(t,r.left)),d(r.top)&&(n=Math.max(n,r.top)),[t,n]}(Z(n),o.x,o.y),2),c=u[0],s=u[1];o.x=c,o.y=s,o.slackX=n.state.slackX+(i-o.x),o.slackY=n.state.slackY+(a-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(o)})),re(Z(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,B(Z(n),t)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var o=n.props.position,i=o.x,a=o.y;r.x=i,r.y=a}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:Q({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,o.a.Component),te(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:{x:n.x,y:n.y,prevPropsPosition:Q({},n)}}}]),te(t,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&c.a.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,i=t.defaultClassName,a=t.defaultClassNameDragging,u=t.defaultClassNameDragged,c=t.position,s=t.positionOffset,f=(t.scale,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),p={},d=null,h=!Boolean(c)||this.state.dragging,y=c||r,g={x:z(this)&&h?this.state.x:y.x,y:M(this)&&h?this.state.y:y.y};this.state.isElementSVG?d=function(e,t){return D(e,t,"")}(g,s):p=function(e,t){var n=D(e,t,"px");return w({},m("transform",b),n)}(g,s);var v=l()(n.props.className||"",i,(re(e={},a,this.state.dragging),re(e,u,this.state.dragged),e));return o.a.createElement(Y,V({},f,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.a.cloneElement(o.a.Children.only(n),{className:v,style:Q({},n.props.style,{},p),transform:d}))}}]),t}();re(oe,"displayName","Draggable"),re(oe,"propTypes",Q({},Y.propTypes,{axis:a.a.oneOf(["both","x","y","none"]),bounds:a.a.oneOfType([a.a.shape({left:a.a.number,right:a.a.number,top:a.a.number,bottom:a.a.number}),a.a.string,a.a.oneOf([!1])]),defaultClassName:a.a.string,defaultClassNameDragging:a.a.string,defaultClassNameDragged:a.a.string,defaultPosition:a.a.shape({x:a.a.number,y:a.a.number}),positionOffset:a.a.shape({x:a.a.oneOfType([a.a.number,a.a.string]),y:a.a.oneOfType([a.a.number,a.a.string])}),position:a.a.shape({x:a.a.number,y:a.a.number}),className:y,style:y,transform:y})),re(oe,"defaultProps",Q({},Y.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))}]))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(0)),o=u(n(3)),i=n(14),a=n(31);function u(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return l(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=e.call.apply(e,[this].concat(r))||this),"state",{slackW:0,slackH:0}),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=o.prototype;return u.lockAspectRatio=function(e,t,n){return[e=(t=e/n)*n,t]},u.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],o=n[1];if(!r&&!o)return[e,t];if(this.props.lockAspectRatio)if(t===this.props.height){var i=this.props.width/this.props.height;e=(t=e/i)*i}else{var a=this.props.height/this.props.width;t=(e=t/a)*a}var u=e,c=t,s=this.state,l=s.slackW,f=s.slackH;return e+=l,t+=f,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),o&&(e=Math.min(o[0],e),t=Math.min(o[1],t)),f+=c-t,(l+=u-e)===this.state.slackW&&f===this.state.slackH||this.setState({slackW:l,slackH:f}),[e,t]},u.resizeHandler=function(e,t){var n=this;return function(r,o){var i=o.node,a=o.deltaX,u=o.deltaY,c=("both"===n.props.axis||"x"===n.props.axis)&&-1===["n","s"].indexOf(t),s=("both"===n.props.axis||"y"===n.props.axis)&&-1===["e","w"].indexOf(t);c&&"w"===t[t.length-1]&&(a=-a),s&&"n"===t[0]&&(u=-u);var l=n.props.width+(c?a:0),f=n.props.height+(s?u:0),p=l!==n.props.width,d=f!==n.props.height;if("onResize"!==e||p||d){var h=n.runConstraints(l,f);l=h[0],f=h[1];var y={};if("onResizeStart"===e);else if("onResizeStop"===e)y.slackW=y.slackH=0;else if(l===n.props.width&&f===n.props.height)return;"function"==typeof n.props[e]?("function"==typeof r.persist&&r.persist(),n.setState(y,(function(){return n.props[e](r,{node:i,size:{width:l,height:f},handle:t})}))):n.setState(y)}}},u.renderResizeHandle=function(e){var t=this.props.handle;return t?"function"==typeof t?t(e):t:r.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e})},u.render=function(){var e=this,t=this.props,n=t.children,o=t.draggableOpts,u=(t.width,t.height,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),f=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles"]),p=f.className?f.className+" react-resizable":"react-resizable";return(0,a.cloneElement)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},f,{className:p,children:[n.props.children,u.map((function(t){return r.default.createElement(i.DraggableCore,c({},o,{key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t))}))]}))},o}(r.default.Component);t.default=f,l(f,"propTypes",{children:o.default.element.isRequired,width:o.default.number.isRequired,height:o.default.number.isRequired,handle:o.default.element,handleSize:o.default.array,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),lockAspectRatio:o.default.bool,axis:o.default.oneOf(["both","x","y","none"]),minConstraints:o.default.arrayOf(o.default.number),maxConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,draggableOpts:o.default.object}),l(f,"defaultProps",{handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBreakpointFromWidth=function(e,t){for(var n=o(e),r=n[0],i=1,a=n.length;i<a;i++){var u=n[i];t>e[u]&&(r=u)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.findOrGenerateResponsiveLayout=function(e,t,n,i,a,u){if(e[n])return(0,r.cloneLayout)(e[n]);for(var c=e[i],s=o(t),l=s.slice(s.indexOf(n)),f=0,p=l.length;f<p;f++){var d=l[f];if(e[d]){c=e[d];break}}return c=(0,r.cloneLayout)(c||[]),(0,r.compact)((0,r.correctBounds)(c,{cols:a}),u,a)},t.sortBreakpoints=o;var r=n(6);function o(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}},function(e,t){var n=/-?\d+(\.\d+)?%?/g;e.exports=function(e){return e.match(n)}},function(e,t){e.exports=function(e,t,n){return Math.min(Math.max(e,t),n)}},function(e,t,n){"use strict";e.exports=n(26)},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(13).default,e.exports.utils=n(6),e.exports.Responsive=n(33).default,e.exports.Responsive.utils=n(16),e.exports.WidthProvider=n(34).default},function(e,t,n){"use strict";var r=n(23);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports=n(25)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case p:case a:case c:case u:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case s:return e;default:return t}}case m:case g:case i:return t}}}function O(e){return w(e)===p}t.typeOf=w,t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=s,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=c,t.StrictMode=u,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===u||e===h||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===s||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===v)},t.isAsyncMode=function(e){return O(e)||w(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===c},t.isStrictMode=function(e){return w(e)===u},t.isSuspense=function(e){return w(e)===h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function O(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case p:case a:case c:case u:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case g:case s:return e;default:return t}}case i:return t}}}function S(e){return O(e)===p}t.typeOf=O,t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=s,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=c,t.StrictMode=u,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===u||e===h||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===s||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===v||e.$$typeof===w)},t.isAsyncMode=function(e){return S(e)||O(e)===f},t.isConcurrentMode=S,t.isContextConsumer=function(e){return O(e)===l},t.isContextProvider=function(e){return O(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return O(e)===d},t.isFragment=function(e){return O(e)===a},t.isLazy=function(e){return O(e)===m},t.isMemo=function(e){return O(e)===g},t.isPortal=function(e){return O(e)===i},t.isProfiler=function(e){return O(e)===c},t.isStrictMode=function(e){return O(e)===u},t.isSuspense=function(e){return O(e)===h}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(0)),o=l(n(4)),i=l(n(3)),a=n(14),u=n(30),c=n(6),s=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}(this,(e=y(t)).call.apply(e,[this].concat(o))),b(g(n),"state",{resizing:null,dragging:null,className:""}),b(g(n),"currentNode",void 0),b(g(n),"onDragStart",(function(e,t){var r=t.node;if(n.props.onDragStart){var o={top:0,left:0},i=r.offsetParent;if(i){var a=i.getBoundingClientRect(),u=r.getBoundingClientRect(),c=u.left/n.props.transformScale,s=a.left/n.props.transformScale,l=u.top/n.props.transformScale,f=a.top/n.props.transformScale;o.left=c-s+i.scrollLeft,o.top=l-f+i.scrollTop,n.setState({dragging:o});var p=n.calcXY(o.top,o.left),d=p.x,h=p.y;return n.props.onDragStart&&n.props.onDragStart.call(g(n),n.props.i,d,h,{e:e,node:r,newPosition:o})}}})),b(g(n),"onDrag",(function(e,t){var r=t.node,o=t.deltaX,i=t.deltaY;if(n.props.onDrag){var a={top:0,left:0};if(!n.state.dragging)throw new Error("onDrag called before onDragStart.");a.left=n.state.dragging.left+o,a.top=n.state.dragging.top+i,n.setState({dragging:a});var u=n.calcXY(a.top,a.left),c=u.x,s=u.y;return n.props.onDrag&&n.props.onDrag.call(g(n),n.props.i,c,s,{e:e,node:r,newPosition:a})}})),b(g(n),"onDragStop",(function(e,t){var r=t.node;if(n.props.onDragStop){var o={top:0,left:0};if(!n.state.dragging)throw new Error("onDragEnd called before onDragStart.");o.left=n.state.dragging.left,o.top=n.state.dragging.top,n.setState({dragging:null});var i=n.calcXY(o.top,o.left),a=i.x,u=i.y;return n.props.onDragStop&&n.props.onDragStop.call(g(n),n.props.i,a,u,{e:e,node:r,newPosition:o})}})),b(g(n),"onResizeStop",(function(e,t){n.onResizeHandler(e,t,"onResizeStop")})),b(g(n),"onResizeStart",(function(e,t){n.onResizeHandler(e,t,"onResizeStart")})),b(g(n),"onResize",(function(e,t){n.onResizeHandler(e,t,"onResize")})),n}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(i=[{key:"componentDidUpdate",value:function(e){this.props.droppingPosition&&e.droppingPosition&&this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition,n=this.state.dragging;if(t&&e.droppingPosition){this.currentNode||(this.currentNode=o.default.findDOMNode(this));var r=n&&t.x!==e.droppingPosition.x||t.y!==e.droppingPosition.y;if(n){if(r){var i=t.x-n.left,a=t.y-n.top;this.onDrag(t.e,{node:this.currentNode,deltaX:i,deltaY:a})}}else this.onDragStart(t.e,{node:this.currentNode,deltaX:t.x,deltaY:t.y})}}},{key:"calcColWidth",value:function(){var e=this.props,t=e.margin,n=e.containerPadding,r=e.containerWidth,o=e.cols;return(r-t[0]*(o-1)-2*n[0])/o}},{key:"calcPosition",value:function(e,t,n,r,o){var i=this.props,a=i.margin,u=i.containerPadding,c=i.rowHeight,s=this.calcColWidth(),l={};return o&&o.resizing?(l.width=Math.round(o.resizing.width),l.height=Math.round(o.resizing.height)):(l.width=n===1/0?n:Math.round(s*n+Math.max(0,n-1)*a[0]),l.height=r===1/0?r:Math.round(c*r+Math.max(0,r-1)*a[1])),o&&o.dragging?(l.top=Math.round(o.dragging.top),l.left=Math.round(o.dragging.left)):(l.top=Math.round((c+a[1])*t+u[1]),l.left=Math.round((s+a[0])*e+u[0])),l}},{key:"calcXY",value:function(e,t){var n=this.props,r=n.margin,o=n.cols,i=n.rowHeight,a=n.w,u=n.h,c=n.maxRows,s=this.calcColWidth(),l=Math.round((t-r[0])/(s+r[0])),f=Math.round((e-r[1])/(i+r[1]));return{x:l=Math.max(Math.min(l,o-a),0),y:f=Math.max(Math.min(f,c-u),0)}}},{key:"calcWH",value:function(e){var t=e.height,n=e.width,r=this.props,o=r.margin,i=r.maxRows,a=r.cols,u=r.rowHeight,c=r.x,s=r.y,l=this.calcColWidth(),f=Math.round((n+o[0])/(l+o[0])),p=Math.round((t+o[1])/(u+o[1]));return{w:f=Math.max(Math.min(f,a-c),0),h:p=Math.max(Math.min(p,i-s),0)}}},{key:"createStyle",value:function(e){var t,n=this.props,r=n.usePercentages,o=n.containerWidth;return n.useCSSTransforms?t=(0,c.setTransform)(e):(t=(0,c.setTopLeft)(e),r&&(t.left=(0,c.perc)(e.left/o),t.width=(0,c.perc)(e.width/o))),t}},{key:"mixinDraggable",value:function(e){return r.default.createElement(a.DraggableCore,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale},e)}},{key:"mixinResizable",value:function(e,t){var n=this.props,o=n.cols,i=n.x,a=n.minW,c=n.minH,s=n.maxW,l=n.maxH,f=this.calcPosition(0,0,o-i,0).width,p=this.calcPosition(0,0,a,c),d=this.calcPosition(0,0,s,l),h=[p.width,p.height],y=[Math.min(d.width,f),Math.min(d.height,1/0)];return r.default.createElement(u.Resizable,{width:t.width,height:t.height,minConstraints:h,maxConstraints:y,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize},e)}},{key:"onResizeHandler",value:function(e,t,n){var r=t.node,o=t.size,i=this.props[n];if(i){var a=this.props,u=a.cols,c=a.x,s=a.i,l=a.maxW,f=a.minW,p=a.maxH,d=a.minH,h=this.calcWH(o),y=h.w,g=h.h;y=Math.min(y,u-c),y=Math.max(y,1),y=Math.max(Math.min(y,l),f),g=Math.max(Math.min(g,p),d),this.setState({resizing:"onResizeStop"===n?null:o}),i.call(this,s,y,g,{e:e,node:r,size:o})}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,o=e.w,i=e.h,a=e.isDraggable,u=e.isResizable,c=e.droppingPosition,l=e.useCSSTransforms,f=this.calcPosition(t,n,o,i,this.state),p=r.default.Children.only(this.props.children),h=r.default.cloneElement(p,{className:(0,s.default)("react-grid-item",p.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":a,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(c),cssTransforms:l}),style:d({},this.props.style,{},p.props.style,{},this.createStyle(f))});return u&&(h=this.mixinResizable(h,f)),a&&(h=this.mixinDraggable(h)),h}}])&&h(n.prototype,i),l&&h(n,l),t}(r.default.Component);t.default=v,b(v,"propTypes",{children:i.default.element,cols:i.default.number.isRequired,containerWidth:i.default.number.isRequired,rowHeight:i.default.number.isRequired,margin:i.default.array.isRequired,maxRows:i.default.number.isRequired,containerPadding:i.default.array.isRequired,x:i.default.number.isRequired,y:i.default.number.isRequired,w:i.default.number.isRequired,h:i.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:i.default.string.isRequired,onDragStop:i.default.func,onDragStart:i.default.func,onDrag:i.default.func,onResizeStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,isDraggable:i.default.bool.isRequired,isResizable:i.default.bool.isRequired,static:i.default.bool,useCSSTransforms:i.default.bool.isRequired,transformScale:i.default.number,className:i.default.string,handle:i.default.string,cancel:i.default.string,droppingPosition:i.default.shape({e:i.default.object.isRequired,x:i.default.number.isRequired,y:i.default.number.isRequired})}),b(v,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},function(e,t,n){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(15).default,e.exports.ResizableBox=n(32).default},function(e,t,n){"use strict";t.__esModule=!0,t.cloneElement=function(e,t){t.style&&e.props.style&&(t.style=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.props.style,{},t.style));t.className&&e.props.className&&(t.className=e.props.className+" "+t.className);return o.default.cloneElement(e,t)};var r,o=(r=n(0))&&r.__esModule?r:{default:r};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(0)),o=a(n(3)),i=a(n(15));function a(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return s(c(t=e.call.apply(e,[this].concat(r))||this),"state",{width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height}),s(c(t),"onResize",(function(e,n){var r=n.size;r.width,r.height;t.props.onResize?(e.persist&&e.persist(),t.setState(r,(function(){return t.props.onResize&&t.props.onResize(e,n)}))):t.setState(r)})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.getDerivedStateFromProps=function(e,t){if(t.propsWidth!==e.width||t.propsHeight!==e.height)return{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}},o.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,o=(e.onResize,e.onResizeStart),a=e.onResizeStop,c=e.draggableOpts,s=e.minConstraints,l=e.maxConstraints,f=e.lockAspectRatio,p=e.axis,d=(e.width,e.height,e.resizeHandles),h=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles"]);return r.default.createElement(i.default,{handle:t,handleSize:n,width:this.state.width,height:this.state.height,onResizeStart:o,onResize:this.onResize,onResizeStop:a,draggableOpts:c,minConstraints:s,maxConstraints:l,lockAspectRatio:f,axis:p,resizeHandles:d},r.default.createElement("div",u({style:{width:this.state.width+"px",height:this.state.height+"px"}},h)))},o}(r.default.Component);t.default=l,s(l,"propTypes",{height:o.default.number,width:o.default.number}),s(l,"defaultProps",{handleSize:[20,20]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(0)),o=s(n(3)),i=s(n(8)),a=n(6),u=n(16),c=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){return Object.prototype.toString.call(e)};function w(e,t){return Array.isArray(e)?e:e[t]}var O=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?g(e):t}(this,(e=y(t)).call.apply(e,[this].concat(o))),b(g(n),"state",n.generateInitialState()),b(g(n),"onLayoutChange",(function(e){n.props.onLayoutChange(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.props.layouts,b({},n.state.breakpoint,e)))})),n}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,s=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,i.default)(e.layouts,t.layouts)){var n=t.breakpoint,r=t.cols;return{layout:(0,u.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}}],(o=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,o=e.cols,i=(0,u.getBreakpointFromWidth)(n,t),a=(0,u.getColsFromBreakpoint)(i,o),c=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,u.findOrGenerateResponsiveLayout)(r,n,i,i,a,c),breakpoint:i,cols:a}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,i.default)(this.props.breakpoints,e.breakpoints)&&(0,i.default)(this.props.cols,e.cols)||this.onWidthChange(this.props)}},{key:"onWidthChange",value:function(e){var t=e.breakpoints,n=e.cols,r=e.layouts,o=e.compactType,i=e.breakpoint||(0,u.getBreakpointFromWidth)(e.breakpoints,e.width),c=this.state.breakpoint,s=(0,u.getColsFromBreakpoint)(i,n);if(c!==i||this.props.breakpoints!==t||this.props.cols!==n){c in r||(r[c]=(0,a.cloneLayout)(this.state.layout));var l=(0,u.findOrGenerateResponsiveLayout)(r,t,i,c,s,o);l=(0,a.synchronizeLayoutWithChildren)(l,e.children,s,o),r[i]=l,this.props.onLayoutChange(l,r),this.props.onBreakpointChange(i,s),this.setState({breakpoint:i,layout:l,cols:s})}var f=w(e.margin,i),p=w(e.containerPadding,i);this.props.onWidthChange(e.width,f,s,p)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),n=e.containerPadding,o=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,p(e,["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"]));return r.default.createElement(c.default,f({},o,{margin:w(t,this.state.breakpoint),containerPadding:w(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&h(n.prototype,o),s&&h(n,s),t}(r.default.Component);t.default=O,b(O,"propTypes",{breakpoint:o.default.string,breakpoints:o.default.object,cols:o.default.object,margin:o.default.oneOfType([o.default.array,o.default.object]),containerPadding:o.default.oneOfType([o.default.array,o.default.object]),layouts:function(e,t){if("[object Object]"!==v(e[t]))throw new Error("Layout property must be an object. Received: "+v(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,a.validateLayout)(e.layouts[t],"layouts."+t)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func}),b(O,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},margin:[10,10],containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},onBreakpointChange:a.noop,onLayoutChange:a.noop,onWidthChange:a.noop})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;return n=t=function(t){function n(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;return f(e)}(this,(e=l(n)).call.apply(e,[this].concat(o))),d(f(t),"state",{width:1280}),d(f(t),"mounted",!1),d(f(t),"onWindowResize",(function(){if(t.mounted){var e=i.default.findDOMNode(f(t));e instanceof HTMLElement&&t.setState({width:e.offsetWidth})}})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),function(e,t,n){t&&s(e.prototype,t);n&&s(e,n)}(n,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,n=t.measureBeforeMount,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["measureBeforeMount"]);return n&&!this.mounted?r.default.createElement("div",{className:this.props.className,style:this.props.style}):r.default.createElement(e,c({},o,this.state))}}]),n}(r.default.Component),d(t,"defaultProps",{measureBeforeMount:!1}),d(t,"propTypes",{measureBeforeMount:o.default.bool}),n};var r=a(n(0)),o=a(n(3)),i=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(0)),o=c(n(4)),i=c(n(3)),a=c(n(2)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(9));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}(this,f(t).call(this,e)))._self=null,n.rect=null,n.onHandleUpdate=n._onUpdate.bind(p(n)),n.onStopUpdates=n._onStopUpdates.bind(p(n)),n}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(i=[{key:"getPosition",value:function(e){return e.touches&&(e=e.touches[0]),{x:e.clientX,y:e.clientY}}},{key:"getPercentageValue",value:function(e){return"".concat(e/this.props.max*100,"%")}},{key:"updatePosition",value:function(e,t){this.props.onChange(this.getScaledValue((t-e.left)/e.width))}},{key:"getScaledValue",value:function(e){return u.util.clamp(e,0,1)*this.props.max}},{key:"getBoundingRect",value:function(){return o.default.findDOMNode(this._self).getBoundingClientRect()}},{key:"_onStartUpdates",value:function(e){e.preventDefault();var t=this.getPosition(e).x;this._rect=this.getBoundingRect(),document.addEventListener("mousemove",this.onHandleUpdate),document.addEventListener("touchmove",this.onHandleUpdate),document.addEventListener("mouseup",this.onStopUpdates),document.addEventListener("touchend",this.onStopUpdates),this.setState({active:!0}),this.updatePosition(this._rect,t)}},{key:"_onStopUpdates",value:function(){document.removeEventListener("mousemove",this.onHandleUpdate),document.removeEventListener("touchmove",this.onHandleUpdate),document.removeEventListener("mouseup",this.onStopUpdates),document.removeEventListener("touchend",this.onStopUpdates),this.setState({active:!1})}},{key:"_onUpdate",value:function(e){e.preventDefault();var t=this.getPosition(e).x;this.updatePosition(this._rect,t)}},{key:"render",value:function(){var e=this,t=this.props;return r.default.createElement("div",{ref:function(t){e._self=t},className:(0,a.default)("cpSlider",t.className),onMouseDown:this._onStartUpdates.bind(this),onTouchStart:this._onStartUpdates.bind(this)},r.default.createElement("div",{className:"cpSlider__track"},r.default.createElement("span",{style:{background:t.background}})),r.default.createElement("div",{className:"cpSlider__pointer",style:{left:this.getPercentageValue(this.props.value)}}))}}])&&l(n.prototype,i),c&&l(n,c),t}(r.default.Component);h.propTypes={value:i.default.number.isRequired,background:i.default.string},h.defaultProps={value:0,background:"",className:null};var y=h;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseToHsv=function(e){e=(0,r.default)(e);var t=(0,o.default)(e),n=4===e.length?e[3]:1;return t.push(n),t},t.toRgbString=s,t.equals=function(e,t){return s(e)===s(t)},t.isDark=function(e){return(0,u.default)((0,i.default)(e))<=128};var r=c(n(37)),o=c(n(42)),i=c(n(43)),a=c(n(44)),u=c(n(45));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=(0,i.default)(e);return 4===e.length&&t.push(e[3]),(0,a.default)(t)}},function(e,t,n){var r=n(38),o=n(39),i=n(40),a=n(41);var u={"#":o,hsl:function(e){var t=r(e),n=a(t);return 4===t.length&&n.push(t[3]),n},rgb:i};function c(e){for(var t in u)if(0===e.indexOf(t))return u[t](e)}c.rgb=i,c.hsl=r,c.hex=o,e.exports=c},function(e,t,n){var r=n(17),o=n(18);function i(e,t){switch(e=parseFloat(e),t){case 0:return o(e,0,360);case 1:case 2:return o(e,0,100);case 3:return o(e,0,1)}}e.exports=function(e){return r(e).map(i)}},function(e,t){e.exports=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var n=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(n)}return t}},function(e,t,n){var r=n(17),o=n(18);function i(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*o(parseInt(e,10),0,100)/100):o(parseInt(e,10),0,255):o(parseFloat(e),0,1)}e.exports=function(e){return r(e).map(i)}},function(e,t){e.exports=function(e){var t,n,r,o,i,a=e[0]/360,u=e[1]/100,c=e[2]/100;if(0==u)return[i=255*c,i,i];t=2*c-(n=c<.5?c*(1+u):c+u-c*u),o=[0,0,0];for(var s=0;s<3;s++)(r=a+1/3*-(s-1))<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[s]=255*i;return o}},function(e,t){e.exports=function(e){var t,n,r=e[0],o=e[1],i=e[2],a=Math.min(r,o,i),u=Math.max(r,o,i),c=u-a;return n=0==u?0:c/u*1e3/10,u==a?t=0:r==u?t=(o-i)/c:o==u?t=2+(i-r)/c:i==u&&(t=4+(r-o)/c),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,u/255*1e3/10]}},function(e,t){e.exports=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),u=255*r*(1-n*i),c=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,c,a];case 1:return[u,r,a];case 2:return[a,r,c];case 3:return[a,u,r];case 4:return[c,a,r];case 5:return[r,a,u]}}},function(e,t){e.exports=function(e){var t="rgb";return 4===e.length&&(t+="a"),e[0]=Math.round(e[0]),e[1]=Math.round(e[1]),e[2]=Math.round(e[2]),t+"("+e.join(",")+")"}},function(e,t){e.exports=function(e){return(299*e[0]+587*e[1]+114*e[2])/1e3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(0)),o=c(n(4)),i=c(n(3)),a=c(n(2)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(9));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}(this,f(t).call(this,e))).state={active:!1},n._self=null,n._rect=null,n.onHandleUpdate=n._onUpdate.bind(p(n)),n.onStopUpdates=n._onStopUpdates.bind(p(n)),n}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(i=[{key:"updatePosition",value:function(e,t,n){var r=(t-e.left)/e.width,o=(e.bottom-n)/e.height;this.props.onChange(this.getScaledValue(r),this.getScaledValue(o))}},{key:"getScaledValue",value:function(e){return u.util.clamp(e,0,1)*this.props.max}},{key:"getPercentageValue",value:function(e){return"".concat(e/this.props.max*100,"%")}},{key:"getPosition",value:function(e){return e.touches&&(e=e.touches[0]),{x:e.clientX,y:e.clientY}}},{key:"getBoundingRect",value:function(){return o.default.findDOMNode(this._self).getBoundingClientRect()}},{key:"_onStartUpdates",value:function(e){e.preventDefault();var t=this.getPosition(e),n=t.x,r=t.y;this._rect=this.getBoundingRect(),document.addEventListener("mousemove",this.onHandleUpdate),document.addEventListener("touchmove",this.onHandleUpdate),document.addEventListener("mouseup",this.onStopUpdates),document.addEventListener("touchend",this.onStopUpdates),this.setState({active:!0}),this.updatePosition(this._rect,n,r)}},{key:"_onStopUpdates",value:function(){document.removeEventListener("mousemove",this.onHandleUpdate),document.removeEventListener("touchmove",this.onHandleUpdate),document.removeEventListener("mouseup",this.onStopUpdates),document.removeEventListener("touchend",this.onStopUpdates),this.setState({active:!1})}},{key:"_onUpdate",value:function(e){e.preventDefault();var t=this.getPosition(e),n=t.x,r=t.y;this.updatePosition(this._rect,n,r)}},{key:"render",value:function(){var e=this,t=this.state,n=this.props;return r.default.createElement("div",{ref:function(t){e._self=t},onMouseDown:this._onStartUpdates.bind(this),onTouchStart:this._onStartUpdates.bind(this),className:(0,a.default)("cpMap",n.className,{"cpMap-active":t.active})},r.default.createElement("div",{className:"cpMap__background",style:{backgroundColor:n.backgroundColor}}),r.default.createElement("div",{className:"cpMap__pointer",style:{left:this.getPercentageValue(this.props.x),bottom:this.getPercentageValue(this.props.y)}}))}}])&&l(n.prototype,i),c&&l(n,c),t}(r.default.Component);h.propTypes={x:i.default.number.isRequired,y:i.default.number.isRequired,backgroundColor:i.default.string,className:i.default.string},h.defaultProps={x:0,y:0,backgroundColor:"transparent",className:null};var y=h;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,s(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(i=[{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"renderItem",value:function(e,t){var n=this;return r.default.createElement("li",{key:t},r.default.createElement("div",null,r.default.createElement("button",{type:"button",onClick:function(t){return n._onClickItem(e)},style:{backgroundColor:e}},e)))}},{key:"_onClickItem",value:function(e){var t=this.props;t.onSelectColor&&t.onSelectColor(e)}},{key:"render",value:function(){var e=this.props;return r.default.createElement("nav",{className:(0,o.default)("cpPalette",e.className)},r.default.createElement("ul",null,e.colors.map(this.renderItem.bind(this))))}}])&&u(n.prototype,i),a&&u(n,a),t}(r.default.Component);f.defaultProps={colors:[],onSelectColor:function(e){},className:null};var p=f;t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"init",(function(){return qe}));var o={};n.r(o),n.d(o,"addBlock",(function(){return Xe})),n.d(o,"removeBlock",(function(){return Ye})),n.d(o,"shuffleBlocks",(function(){return Ge})),n.d(o,"duplicateBlock",(function(){return Ve})),n.d(o,"updateBlocks",(function(){return Ke})),n.d(o,"activeBlock",(function(){return Qe})),n.d(o,"changeColorBlock",(function(){return Je})),n.d(o,"updateSetting",(function(){return Ze})),n.d(o,"attachImages",(function(){return et})),n.d(o,"attachImage",(function(){return tt}));var i={};n.r(i),n.d(i,"open",(function(){return nt})),n.d(i,"close",(function(){return rt}));var a={};n.r(a),n.d(a,"visible",(function(){return ot})),n.d(a,"toggle",(function(){return it})),n.d(a,"addFiles",(function(){return at})),n.d(a,"removeFiles",(function(){return ut})),n.d(a,"updateSelected",(function(){return ct})),n.d(a,"updateProgress",(function(){return st}));var u={};n.r(u),n.d(u,"isTouchDevice",(function(){return ht})),n.d(u,"sleep",(function(){return yt})),n.d(u,"getImageSize",(function(){return gt})),n.d(u,"cssPrefix",(function(){return vt})),n.d(u,"checkSupportCss",(function(){return wt})),n.d(u,"loadImage",(function(){return Ot}));var c={};n.r(c),n.d(c,"randomRange",(function(){return St})),n.d(c,"getRatioForResize",(function(){return _t})),n.d(c,"getTimeStamp",(function(){return kt})),n.d(c,"getRatio",(function(){return Pt}));var s={};n.r(s),n.d(s,"isArray",(function(){return jt}));var l=n(0),f=n.n(l),p=n(11),d=function(){return Math.random().toString(36).substring(7).split("").join(".")},h={INIT:"@@redux/INIT"+d(),REPLACE:"@@redux/REPLACE"+d(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+d()}};function y(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function g(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(g)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],u=a,c=!1;function s(){u===a&&(u=a.slice())}function l(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function f(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return s(),u.push(e),function(){if(t){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,s();var n=u.indexOf(e);u.splice(n,1)}}}function d(e){if(!y(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,i=o(i,e)}finally{c=!1}for(var t=a=u,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:h.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,d({type:h.REPLACE})}})[p.a]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[p.a]=function(){return this},e},r}function m(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function b(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:h.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:h.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+h.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},u=0;u<a.length;u++){var c=a[u],s=n[c],l=e[c],f=s(l,t);if(void 0===f){var p=m(c,t);throw new Error(p)}o[c]=f,r=r||f!==l}return r?o:e}}function v(e,t){return function(){return t(e.apply(this,arguments))}}var w=n(3),O=n.n(w),S=f.a.createContext(null);var _=function(e){e()},k=function(){return _},P=null,j={notify:function(){}};var E=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=j,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t,n;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=k(),t=[],n=[],{clear:function(){n=P,t=P},notify:function(){var r=t=n;e((function(){for(var e=0;e<r.length;e++)r[e]()}))},get:function(){return n},subscribe:function(e){var r=!0;return n===t&&(n=t.slice()),n.push(e),function(){r&&t!==P&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=j)},e}();function x(e){var t=e.store,n=e.context,r=e.children,o=Object(l.useMemo)((function(){var e=new E(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=Object(l.useMemo)((function(){return t.getState()}),[t]);Object(l.useEffect)((function(){var e=o.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var a=n||S;return f.a.createElement(a.Provider,{value:o},r)}x.propTypes={store:O.a.shape({subscribe:O.a.func.isRequired,dispatch:O.a.func.isRequired,getState:O.a.func.isRequired}),context:O.a.object,children:O.a.any};var C=x;function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var T=n(10),z=n.n(T),M=n(5),N=n.n(M),I=n(19),B="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?l.useLayoutEffect:l.useEffect,L=[],A=[null,null];function H(e,t){var n=e[1];return[t.payload,n+1]}var F=function(){return[null,0]};function U(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,a=void 0===i?"connectAdvanced":i,u=n.renderCountProp,c=void 0===u?void 0:u,s=n.shouldHandleStateChanges,p=void 0===s||s,d=n.storeKey,h=void 0===d?"store":d,y=n.withRef,g=void 0!==y&&y,m=n.forwardRef,b=void 0!==m&&m,v=n.context,w=void 0===v?S:v,O=R(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);N()(void 0===c,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),N()(!g,"withRef is removed. To access the wrapped instance, use a ref on the connected component");N()("store"===h,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var _=w;return function(t){var n=t.displayName||t.name||"Component",r=o(n),i=D({},O,{getDisplayName:o,methodName:a,renderCountProp:c,shouldHandleStateChanges:p,storeKey:h,displayName:r,wrappedComponentName:n,WrappedComponent:t}),u=O.pure;var s=u?l.useMemo:function(e){return e()};function d(n){var o=Object(l.useMemo)((function(){var e=n.forwardedRef,t=R(n,["forwardedRef"]);return[n.context,e,t]}),[n]),a=o[0],u=o[1],c=o[2],d=Object(l.useMemo)((function(){return a&&a.Consumer&&Object(I.isContextConsumer)(f.a.createElement(a.Consumer,null))?a:_}),[a,_]),h=Object(l.useContext)(d),y=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),g=Boolean(h)&&Boolean(h.store);N()(y||g,'Could not find "store" in the context of "'+r+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+r+" in connect options.");var m=y?n.store:h.store,b=Object(l.useMemo)((function(){return function(t){return e(t.dispatch,i)}(m)}),[m]),v=Object(l.useMemo)((function(){if(!p)return A;var e=new E(m,y?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[m,y,h]),w=v[0],O=v[1],S=Object(l.useMemo)((function(){return y?h:D({},h,{subscription:w})}),[y,h,w]),k=Object(l.useReducer)(H,L,F),P=k[0][0],j=k[1];if(P&&P.error)throw P.error;var x=Object(l.useRef)(),C=Object(l.useRef)(c),T=Object(l.useRef)(),z=Object(l.useRef)(!1),M=s((function(){return T.current&&c===C.current?T.current:b(m.getState(),c)}),[m,P,c]);B((function(){C.current=c,x.current=M,z.current=!1,T.current&&(T.current=null,O())})),B((function(){if(p){var e=!1,t=null,n=function(){if(!e){var n,r,o=m.getState();try{n=b(o,C.current)}catch(e){r=e,t=e}r||(t=null),n===x.current?z.current||O():(x.current=n,T.current=n,z.current=!0,j({type:"STORE_UPDATED",payload:{error:r}}))}};w.onStateChange=n,w.trySubscribe(),n();return function(){if(e=!0,w.tryUnsubscribe(),w.onStateChange=null,t)throw t}}}),[m,w,b]);var U=Object(l.useMemo)((function(){return f.a.createElement(t,D({},M,{ref:u}))}),[u,t,M]);return Object(l.useMemo)((function(){return p?f.a.createElement(d.Provider,{value:S},U):U}),[d,U,S])}var y=u?f.a.memo(d):d;if(y.WrappedComponent=t,y.displayName=r,b){var g=f.a.forwardRef((function(e,t){return f.a.createElement(y,D({},e,{forwardedRef:t}))}));return g.displayName=r,g.WrappedComponent=t,z()(g,t)}return z()(y,t)}}var W=Object.prototype.hasOwnProperty;function $(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function q(e,t){if($(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!W.call(t,n[o])||!$(e[n[o]],t[n[o]]))return!1;return!0}function X(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function Y(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function G(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Y(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=Y(o),o=r(t,n)),o},r}}var V=[function(e){return"function"==typeof e?G(e):void 0},function(e){return e?void 0:X((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?X((function(t){return function(e,t){if("function"==typeof e)return v(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=v(o,t))}return n}(e,t)})):void 0}];var K=[function(e){return"function"==typeof e?G(e):void 0},function(e){return e?void 0:X((function(){return{}}))}];function Q(e,t,n){return D({},n,{},e,{},t)}var J=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,u){var c=e(t,n,u);return a?o&&i(c,r)||(r=c):(a=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return Q}}];function Z(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function ee(e,t,n,r,o){var i,a,u,c,s,l=o.areStatesEqual,f=o.areOwnPropsEqual,p=o.areStatePropsEqual,d=!1;function h(o,d){var h,y,g=!f(d,a),m=!l(o,i);return i=o,a=d,g&&m?(u=e(i,a),t.dependsOnOwnProps&&(c=t(r,a)),s=n(u,c,a)):g?(e.dependsOnOwnProps&&(u=e(i,a)),t.dependsOnOwnProps&&(c=t(r,a)),s=n(u,c,a)):m?(h=e(i,a),y=!p(h,u),u=h,y&&(s=n(u,c,a)),s):s}return function(o,l){return d?h(o,l):(u=e(i=o,a=l),c=t(r,a),s=n(u,c,a),d=!0,s)}}function te(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=R(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),u=r(e,i),c=o(e,i);return(i.pure?ee:Z)(a,u,c,e,i)}function ne(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function re(e,t){return e===t}var oe,ie,ae,ue,ce,se,le,fe,pe,de,he,ye,ge=(ae=(ie=void 0===oe?{}:oe).connectHOC,ue=void 0===ae?U:ae,ce=ie.mapStateToPropsFactories,se=void 0===ce?K:ce,le=ie.mapDispatchToPropsFactories,fe=void 0===le?V:le,pe=ie.mergePropsFactories,de=void 0===pe?J:pe,he=ie.selectorFactory,ye=void 0===he?te:he,function(e,t,n,r){void 0===r&&(r={});var o=r,i=o.pure,a=void 0===i||i,u=o.areStatesEqual,c=void 0===u?re:u,s=o.areOwnPropsEqual,l=void 0===s?q:s,f=o.areStatePropsEqual,p=void 0===f?q:f,d=o.areMergedPropsEqual,h=void 0===d?q:d,y=R(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),g=ne(e,se,"mapStateToProps"),m=ne(t,fe,"mapDispatchToProps"),b=ne(n,de,"mergeProps");return ue(ye,D({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:g,initMapDispatchToProps:m,initMergeProps:b,pure:a,areStatesEqual:c,areOwnPropsEqual:l,areStatePropsEqual:p,areMergedPropsEqual:h},y))});function me(){var e=Object(l.useContext)(S);return N()(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}function be(e){void 0===e&&(e=S);var t=e===S?me:function(){return Object(l.useContext)(e)};return function(){return t().store}}var ve=be();!function(e){void 0===e&&(e=S);var t=e===S?ve:be(e)}();var we=function(e,t){return e===t};!function(e){void 0===e&&(e=S);var t=e===S?me:function(){return Object(l.useContext)(e)}}();var Oe,Se=n(4),_e=n.n(Se);Oe=Se.unstable_batchedUpdates,_=Oe;var ke=n(2),Pe=n.n(ke),je="INIT_PLE",Ee="SIDE_VISIBLE",xe="SIDE_ADD_FILES",Ce="SIDE_REMOVE_FILES",De="SIDE_UPDATE_SELECTED",Re="SIDE_TOGGLE",Te="SIDE_UPDATE_PROGRESS",ze="GRID_ATTACH_IMAGES",Me="GRID_ATTACH_IMAGE",Ne="GRID_ADD_BLOCK",Ie="GRID_REMOVE_BLOCK",Be="GRID_SHUFFLE_BLOCKS",Le="GRID_DUPLICATE_BLOCK",Ae="GRID_UPDATE_BLOCKS",He="GRID_ACTIVE_BLOCK",Fe="GRID_SETTING_UPDATE",Ue="GRID_CHANGE_COLOR",We="CROPPER_OPEN",$e="CROPPER_CLOSE";function qe(e,t,n){return{type:je,api:e,preference:t,element:n}}function Xe(e){return{type:Ne,value:e}}function Ye(e){return{type:Ie,keys:e}}function Ge(e){return{type:Be,value:e}}function Ve(e){return{type:Le,keys:e}}function Ke(e){return{type:Ae,value:e}}function Qe(e){return{type:He,value:e}}function Je(e,t){return{type:Ue,keys:e,color:t}}function Ze(e){return{type:Fe,value:e}}function et(e,t,n){return{type:ze,value:e,columns:t,activeBlocks:n}}function tt(e,t){return{type:Me,keys:e,image:t}}function nt(e,t){return{type:We,item:t,key:e}}function rt(e,t,n){return{type:$e,key:e,position:t,size:n}}function ot(e){return{type:Ee,value:e}}function it(){return{type:Re}}function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:xe,files:e}}function ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:Ce,keys:e}}function ct(e){return{type:De,value:e}}function st(e){return{type:Te,value:e}}var lt=n(21),ft=n.n(lt),pt=n(1),dt=n.n(pt);function ht(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}function yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pleTimer";return new Promise((function(n){window[t]=setTimeout(n,e)}))}function gt(e){return new Promise((function(t,n){e&&"string"==typeof e||n();var r=document.createElement("img");r.onload=function(){t({width:r.naturalWidth,height:r.naturalHeight,ratio:r.naturalHeight/r.naturalWidth})},r.onerror=function(){n()},r.src=e}))}var mt,bt,vt=(mt=window.getComputedStyle(document.documentElement,""),bt=(Array.prototype.slice.call(mt).join("").match(/-(moz|webkit|ms)-/)||""===mt.OLink&&["","o"])[1],{dom:"WebKit|Moz|MS|O".match(new RegExp("("+bt+")","i"))[1],lowercase:bt,css:"-".concat(bt,"-"),js:bt[0].toUpperCase()+bt.substr(1)});function wt(e,t){if(CSS&&CSS.supports)return CSS.supports(e,t)}function Ot(e){return new Promise((function(t){if(e){var n=new Image;n.onload=function(e){t(n)},n.onError=function(e){t(null)},n.crossOrigin="Anonymous",n.src=e}else t(null)}))}function St(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Math.random()*(t-e)+e:Math.floor(Math.random()*(t-e+1))+e}function _t(e,t){return t>e?e/t:t/e}function kt(){return Math.round(+new Date/1e3)}function Pt(e,t){var n=parseInt(e)/parseInt(t);return n=Math.round(1e3*n)/1e3}function jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!(!e||!e.length)}function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){var n=dt.a.Deferred(),r=e.length,o=0;return function i(){o>=r?n.resolve():t?function(e,t){var n=dt.a.Deferred(),r=new XMLHttpRequest;if("function"!=typeof FormData&&"object"!==("undefined"==typeof FormData?"undefined":Et(FormData)))return n.reject("not support browser",t),null;var o=new FormData;return o.append("files[]",t),r.open("post",e,!0),r.addEventListener("load",(function(e){try{var t=JSON.parse(e.target.responseText);if("success"!==t.state)throw"server error";n.resolve(t.data)}catch(e){n.reject(e)}})),r.upload.addEventListener("progress",(function(e){var t=e.loaded,r=e.total;n.notify("progress",t,r)})),r.send(o),n.notify("start"),n.promise()}(t,e[o]).done((function(e){n.notify("done",{count:o,data:e}),o++,i()})).progress((function(e,t,r){n.notify(e,"progress"===e&&{loaded:t,total:r})})).fail((function(e){n.reject(e)})):function(e){var t=dt.a.Deferred(),n=new FileReader;return n.addEventListener("load",(function(n){t.resolve({name:e.name,type:e.type,size:e.size,url:n.target.result})})),n.addEventListener("error",(function(e){t.reject(e.target)})),n.readAsDataURL(e),t.promise()}(e[o]).done((function(e){n.notify("done",{count:o,data:e}),o++,i()})).fail((function(){}))}(),n.promise()}function Ct(e,t,n,r,o){var i={width:0,height:0};switch(e){case"cover":t>n?(i.width=t,i.height=o*(t/r),n>i.height&&(i.width=r*(n/o),i.height=n)):(i.width=r*(n/o),i.height=n,t>i.width&&(i.width=t,i.height=o*(t/r)));break;case"width":i.width=t,i.height=o*(t/r);break;case"height":i.width=r*(n/o),i.height=n;break;default:i.width=t,i.height=n}return{width:Math.round(i.width),height:Math.round(i.height)}}function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){u.loadImage(e.image?e.image.src:null).then((function(r){if(r){var o={width:r.naturalWidth,height:r.naturalHeight},i={},a={};e.image.size?(i=Ct("width",parseInt(e.image.size[0]),0,o.width,o.height),a.x=parseInt(e.image.position[0]),a.y=parseInt(e.image.position[1])):(i=Ct("cover",e.width,e.height,o.width,o.height),a.x=.5*e.width-.5*i.width,a.y=.5*e.height-.5*i.height),function(e){return e=Object.assign({},Mt,e),new Promise((function(t,n){e.image||n("not found image"),e.reSampleCount=Math.min(4,e.reSampleCount),e.reSampleCount=Math.max(0,e.reSampleCount);var r=Math.pow(2,e.reSampleCount),o=new zt(e.width*r,e.height*r,e.bgColor);o.ctx.drawImage(e.image,e.cx,e.cy,e.cw,e.ch,e.dx*r,e.dy*r,e.dw*r,e.dh*r),e.reSampleCount>0?function(e,t,n){return new Promise((function(r){!function t(n,o){var i=Math.pow(2,n),a=new zt(e.width*i,e.height*i,e.bgColor);a.ctx.drawImage(o.el,0,0,.5*o.el.width,.5*o.el.height),n>0?t(n-1,a):r(a)}(t-1,n)}))}(e,e.reSampleCount,o).then(t):t(o)}))}({image:r,reSampleCount:t.sampling,width:e.width,height:e.height,cx:0,cy:0,cw:o.width,ch:o.height,dx:a.x,dy:a.y,dw:i.width,dh:i.height,bgColor:e.color}).then((function(t){n({width:e.width,height:e.height,x:e.x,y:e.y,image:t})}))}else n({width:e.width,height:e.height,x:e.x,y:e.y,color:e.color,image:new zt(e.width,e.height,e.color)})}))}))}function Rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=dt.a.Deferred(),o=function(e,t){if(!e||!t)return null;var n=dt()(e).children(),r=[];return n.each((function(e,n){var o=dt()(n),i=t[o.data("key")],a=i.image;a&&(a={src:a.src,position:a.position.split(" "),size:"cover"===a.size?null:a.size.split(" ")}),r.push({x:o.position().left,y:o.position().top,width:o.width(),height:o.height(),image:a||null,color:i.color||"rgba(255,255,255,1)"})})),r}(e,t.grid),i=0,a=o.length,u=new zt(e.offsetWidth,e.offsetHeight,t.setting.bgColor);function c(e){return new Promise((function(t,r){Dt(e,n).then((function(e){(function(e,t){return new Promise((function(n){e.ctx.drawImage(t.image.el,t.x,t.y,t.width,t.height),n(t.image.el)}))})(u,e).then(t,r)}),r)}))}function s(e){r.reject(e)}return r.notify(a,i++,null),o.length?c(o[0]).then((function e(t){o.splice(0,1),r.notify(a,i++,t),o.length?c(o[0]).then(e,s):function(){switch(n.output){case"base64":r.resolve(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.75;switch(t){case"png":t="image/png";break;case"jpg":default:t="image/jpeg"}return e.toDataURL(t,"image/jpeg"===t?n:void 0)}(u.el,n.format,n.quality));break;case"canvas":default:r.resolve(u.el)}}()}),s):s("not found queue"),r.promise()}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var zt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:150,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#ffffff";Tt(this,e),this.el=document.createElement("canvas"),this.ctx=this.el.getContext("2d"),this.el.width=t,this.el.height=n,this.ctx.fillStyle=r,this.ctx.fillRect(0,0,t,n)},Mt={image:null,width:100,height:100,reSampleCount:1,bgColor:"rgba(255,255,255,1)",cw:0,ch:0,cx:0,cy:0,dw:0,dh:0,dx:0,dy:0};function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e,t){return(At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ht={start:u.isTouchDevice()?"touchstart":"mousedown",move:u.isTouchDevice()?"touchmove":"mousemove",end:u.isTouchDevice()?"touchend":"mouseup"},Ft=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Bt(this,Lt(t).call(this,e))).state={position:e.position,size:e.size,isCover:"cover"===e.size},n._self=null,n.$self=null,n.$img=null,n.moveStartInfo={},n.resizeStartInfo={},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(t,e),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return t.size!==e.size&&(n={size:e.size,isCover:"cover"===e.size}),t.position!==e.position&&(n.position=e.position),n}}],(r=[{key:"componentDidMount",value:function(){this.$self=dt()(_e.a.findDOMNode(this._self))}},{key:"_moveStart",value:function(e){var t=this;e.stopPropagation();var n=this.state;this.$img=this.$self.find("img"),this.moveStartInfo={containerX:parseInt(n.position.split(" ")[0]),containerY:parseInt(n.position.split(" ")[1]),mouseX:(e.clientX||e.pageX||e.nativeEvent.touches[0].clientX)+dt()(window).scrollLeft(),mouseY:(e.clientY||e.pageY||e.nativeEvent.touches[0].clientY)+dt()(window).scrollTop()},dt()(document).on("".concat(Ht.move,".move"),(function(e){return t._moveIng(e)})).on("".concat(Ht.end,".move"),(function(e){return t._moveEnd(e)}))}},{key:"_moveIng",value:function(e){e.stopPropagation();var t="touchmove"===e.type?e.originalEvent.touches[0]:e,n={},r={};n.x=(t.clientX||t.pageX)+dt()(window).scrollLeft(),n.y=(t.clientY||t.pageY)+dt()(window).scrollTop(),r.x=this.moveStartInfo.containerX+(n.x-this.moveStartInfo.mouseX),r.y=this.moveStartInfo.containerY+(n.y-this.moveStartInfo.mouseY),this._update({position:"".concat(parseInt(r.x),"px ").concat(parseInt(r.y),"px")})}},{key:"_moveEnd",value:function(e){e.preventDefault(),this.$img=null,this.moveStartInfo=null,dt()(document).off("".concat(Ht.move,".move")).off("".concat(Ht.end,".move"))}},{key:"_resizeStart",value:function(e){var t=this;e.stopPropagation();var n=this.state;this.$img=this.$self.find("img"),this.resizeStartInfo={title:e.currentTarget.title,width:this.$img.width(),height:this.$img.height(),mouseX:(e.clientX||e.pageX||e.nativeEvent.touches[0].clientX)+dt()(window).scrollLeft(),posX:parseInt(n.position.split(" ")[0]),posY:parseInt(n.position.split(" ")[1])},dt()(document).on("".concat(Ht.move,".resize"),(function(e){return t._resizeIng(e)})).on("".concat(Ht.end,".resize"),(function(e){return t._resizeEnd(e)}))}},{key:"_resizeIng",value:function(e){e.stopPropagation();var t={},n={},r=1,o=0,i="touchmove"===e.type?e.originalEvent.touches[0]:e,a=(i.clientX||i.pageX)+dt()(window).scrollLeft()-this.resizeStartInfo.mouseX;switch(this.resizeStartInfo.title){case"resize-lt":n.x=this.resizeStartInfo.posX+a,t.width=this.resizeStartInfo.width-a,r=t.width/this.$img.get(0).naturalWidth,t.height=parseInt(this.$img.get(0).naturalHeight)*r,o=this.resizeStartInfo.height-t.height,n.y=this.resizeStartInfo.posY+o;break;case"resize-rt":n.x=this.resizeStartInfo.posX,t.width=this.resizeStartInfo.width+a,r=t.width/this.$img.get(0).naturalWidth,t.height=parseInt(this.$img.get(0).naturalHeight)*r,o=this.resizeStartInfo.height-t.height,n.y=this.resizeStartInfo.posY+o;break;case"resize-lb":n.x=this.resizeStartInfo.posX+a,n.y=this.resizeStartInfo.posY,t.width=this.resizeStartInfo.width-a,r=t.width/this.$img.get(0).naturalWidth,t.height=parseInt(this.$img.get(0).naturalHeight)*r;break;case"resize-rb":n.x=this.resizeStartInfo.posX,n.y=this.resizeStartInfo.posY,t.width=this.resizeStartInfo.width+a,r=t.width/this.$img.get(0).naturalWidth,t.height=parseInt(this.$img.get(0).naturalHeight)*r;break;default:return}this._update({size:"".concat(parseInt(t.width),"px ").concat(parseInt(t.height),"px"),position:"".concat(parseInt(n.x),"px ").concat(parseInt(n.y),"px")})}},{key:"_resizeEnd",value:function(e){this.$img=null,this.resizeStartInfo=null,dt()(document).off("".concat(Ht.move,".resize")).off("".concat(Ht.end,".resize"))}},{key:"_update",value:function(e){this.props.onUpdateBlock(e)}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,r="cover"!==t.size?t.size.split(" "):t.size,o=t.position.split(" ");return f.a.createElement("figure",{ref:function(t){e._self=t},style:{backgroundColor:n.bgColor},className:"ple-cropperBlock ple-cropper__block"},t.isCover?f.a.createElement("span",{style:{backgroundImage:"url('".concat(n.src,"')")},className:"ple-cropperBlock__image ple-cropperBlock__image-cover"}):f.a.createElement("span",{className:Pe()("ple-cropperBlock__image",{"ple-cropperBlock__image-resize":"cover"!==n.size})},f.a.createElement("img",{src:n.src,style:Object.assign({},"cover"!==t.size&&{width:r[0],transform:"translate(".concat(o[0],", ").concat(o[1],")")}),alt:"image"})),f.a.createElement("div",{onMouseDown:function(t){return e._moveStart(t)},onTouchStart:function(t){return e._moveStart(t)},style:Object.assign({},"cover"!==t.size&&{width:r[0],height:r[1],transform:"translate(".concat(o[0],", ").concat(o[1],")")}),className:Pe()("ple-cropperBlock__control",{"ple-cropperBlock__control-active":"cover"!==n.size})},f.a.createElement("button",{type:"button",title:"resize-lt",onMouseDown:function(t){return e._resizeStart(t)},onTouchStart:function(t){return e._resizeStart(t)},className:"ple-cropperBlock__resize ple-cropperBlock__resize-lt"},f.a.createElement("i",{className:"ple-sp-ico ple-abs ple-ico-clamp"})),f.a.createElement("button",{type:"button",title:"resize-rt",onMouseDown:function(t){return e._resizeStart(t)},onTouchStart:function(t){return e._resizeStart(t)},className:"ple-cropperBlock__resize ple-cropperBlock__resize-rt"},f.a.createElement("i",{className:"ple-sp-ico ple-abs ple-ico-clamp"})),f.a.createElement("button",{type:"button",title:"resize-lb",onMouseDown:function(t){return e._resizeStart(t)},onTouchStart:function(t){return e._resizeStart(t)},className:"ple-cropperBlock__resize ple-cropperBlock__resize-lb"},f.a.createElement("i",{className:"ple-sp-ico ple-abs ple-ico-clamp"})),f.a.createElement("button",{type:"button",title:"resize-rb",onMouseDown:function(t){return e._resizeStart(t)},onTouchStart:function(t){return e._resizeStart(t)},className:"ple-cropperBlock__resize ple-cropperBlock__resize-rb"},f.a.createElement("i",{className:"ple-sp-ico ple-abs ple-ico-clamp"}))))}}])&&It(n.prototype,r),o&&It(n,o),t}(f.a.Component);Ft.displayName="Block",Ft.defaultProps={src:"",position:"",size:"",bgColor:"#fff"};var Ut=Ft;function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return!t||"object"!==Wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gt=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=qt(this,Xt(t).call(this,e));var r=e.tree.cropper;return n.imageMeta=null,n._block=null,n.$item=dt()(e.element).find(".react-grid-item").filter("[data-key=".concat(r.key,"]")),n.state={pending:!0,position:r.item.image.position,size:r.item.image.size||"cover",width:n.$item.width(),height:n.$item.height(),top:n.$item.position().top,left:n.$item.position().left},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.tree.cropper;u.getImageSize(t.item.image.src).then((function(t){e.imageMeta=t,e.setState({pending:!1})}))}},{key:"_onClose",value:function(){var e=this.props;e.api.cropper.close(e.tree.cropper.key,this._block.state.position,this._block.state.size)}},{key:"_toggleImageType",value:function(){var e=this.state;if(this.props,"cover"===e.size){var t="",n=0;e.height>e.width?(n=c.getRatioForResize(e.height,this.imageMeta.height),t="".concat(parseInt(this.imageMeta.width*n),"px ").concat(e.height,"px")):(n=c.getRatioForResize(e.width,this.imageMeta.width),t="".concat(e.width,"px ").concat(parseInt(this.imageMeta.height*n),"px")),this.setState({position:"0 0",size:t})}else this.setState({position:"50% 50%",size:"cover"})}},{key:"onUpdateBlock",value:function(e){this.setState(e)}},{key:"render",value:function(){var e=this,t=this.state,n=this.props;return t.pending?null:f.a.createElement("div",{className:"ple-cropper"},f.a.createElement("span",{className:"ple-cropper__bg"}),f.a.createElement("div",{style:{width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),top:"".concat(t.top,"px"),left:"".concat(t.left,"px")},className:"ple-cropper__wrap"},f.a.createElement(Ut,{ref:function(t){e._block=t},src:n.tree.cropper.item.image.src,position:t.position,size:t.size,bgColor:n.tree.cropper.item.color||n.setting.body.blockColor,onUpdateBlock:function(t){return e.onUpdateBlock(t)}}),f.a.createElement("nav",{className:"ple-cropper__nav"},f.a.createElement("button",{type:"button",onClick:function(){return e._onClose()}},f.a.createElement("i",{className:"ple-sp-ico ple-ico-close ple-abs"},"Close cropper")),f.a.createElement("button",{type:"button",onClick:function(){return e._toggleImageType()},className:Pe()({"ple-cropper__nav-active":"cover"!==t.size})},f.a.createElement("i",{className:"ple-sp-ico ple-ico-resize ple-abs"},"Toggle background size type")))))}}])&&$t(n.prototype,r),o&&$t(n,o),t}(f.a.Component);Gt.displayName="Cropper";var Vt=ge((function(e){return Object.assign({},e,{})}))(Gt);function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var on=[],an=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tn(this,nn(t).call(this,e))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(t,e),n=t,(r=[{key:"_selectBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props;if(null!==e){switch(t.keyboard.keyName){case"CMD":case"CTRL":case"SHIFT":if(s.isArray(t.tree.body.activeBlock)){var n=Object.assign([],t.tree.body.activeBlock);return n.indexOf(e)>-1?n.splice(n.indexOf(e),1):n.push(e),void t.api.grid.select(n)}}t.api.grid.select([e])}else t.api.grid.select([])}},{key:"_updateBlocks",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],this.props);function r(){for(var e={},n=0;n<t.length;n++)e[t[n].i.split("__")[1]]=t[n];return e}switch(e){case"start":on[0]=(new Date).getTime();break;case"end":if(on[1]=(new Date).getTime(),on[1]-on[0]>400){var i=r(),a={};Object.keys(n.tree.body.grid).forEach((function(e){a[e]=Jt({},n.tree.body.grid[e],{layout:{x:i[e].x,y:i[e].y,w:i[e].w,h:i[e].h}})})),n.dispatch(o.updateBlocks(a))}on=[]}}},{key:"renderItem",value:function(e){var t=this,n=this.props,r=n.tree.body,o=r.activeBlock,i=r.grid[e],a="".concat(i.indexPrefix,"__").concat(e),u=!!(o&&o.length&&o.indexOf(e)>-1);return f.a.createElement("div",{key:a,"data-grid":i.layout,"data-key":e,onClick:function(n){n.stopPropagation(),t._selectBlock(e,!!i.image)},style:{backgroundColor:i.color||n.setting.body.blockColor},className:Pe()({"ple-grid__item-active":u})},i.image&&f.a.createElement("figure",{style:{backgroundImage:"url('".concat(i.image.src,"')"),backgroundPosition:i.image.position,backgroundSize:i.image.size}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.tree.body.setting,r=n.width*n.column+n.innerMargin*(n.column-1)+2*n.outerMargin;return f.a.createElement("div",{className:"ple-grid__wrap",onClick:function(){return e._selectBlock()}},f.a.createElement("div",{className:"ple-grid__body",style:{width:"".concat(r,"px")}},f.a.createElement(ft.a,{autoSize:!0,cols:n.column,rowHeight:n.height,width:r,margin:[n.innerMargin,n.innerMargin],containerPadding:[n.outerMargin,n.outerMargin],verticalCompact:!n.freeMode,onDragStart:function(){return e._updateBlocks("start")},onDragStop:function(t,n,r,o,i,a){return e._updateBlocks("end",t,a)},onResizeStart:function(){return e._updateBlocks("start")},onResizeStop:function(t,n,r,o,i,a){return e._updateBlocks("end",t,a)},style:{width:"100%",backgroundColor:n.bgColor},className:"ple-grid"},Object.keys(t.tree.body.grid).map((function(t){return e.renderItem(t)}))),t.tree.cropper.visible?f.a.createElement(Vt,null):null))}}])&&en(n.prototype,r),i&&en(n,i),t}(f.a.Component);an.displayName="GridLayout",an.defaultProps={tree:null,dispatch:null};var un=ge((function(e){return Object.assign({},e,{})}))(an),cn=n(7),sn=n.n(cn),ln=function(e){return f.a.createElement("div",{className:Pe()("ple-toolbar__block",e.className)},f.a.createElement("button",{type:"button",title:e.title,onClick:e.onClick},f.a.createElement("i",{className:Pe()("ple-sp-ico","ple-abs",e.iconClass)},e.title)),!!e.children&&f.a.createElement("div",{className:"ple-toolbar__pop"},e.children))};function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return!t||"object"!==fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mn(e){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=gn(this,mn(t).call(this,e))).state=dn({},e.defaultSetting,{},e.setting,{popup_bgColor:!1}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(t,e),n=t,(r=[{key:"activeBgColorPopup",value:function(e,t){var n=this,r=this.state,o=t?t.currentTarget:null;(e=e||!r.popup_bgColor)?dt()(document).on("click.pleEditBgColor",(function(e){dt()(e.target).closest(".ple-edit-bgColor__popup").length||e.target!==o&&e.target.parentNode!==o&&n.activeBgColorPopup(!1)})):dt()(document).off("click.pleEditBgColor"),this.setState({popup_bgColor:e})}},{key:"_submit",value:function(e){e.preventDefault(),this.props.submit(this.state)}},{key:"_reset",value:function(){this.setState(dn({},this.props.defaultSetting))}},{key:"_change",value:function(e){var t=e.target.value||"";switch(e.target.type){case"text":this.setState(hn({},e.target.name,t));break;case"number":t=t||0,this.setState(hn({},e.target.name,parseInt(t)))}}},{key:"_openBgColorPicker",value:function(e){e.persist(),this.activeBgColorPopup(null,e)}},{key:"render",value:function(){var e=this,t=this.state;return this.props,f.a.createElement("form",{onSubmit:function(t){return e._submit(t)},className:"ple-edit-setting"},f.a.createElement("fieldset",{className:"ple-edit-setting__form"},f.a.createElement("legend",null,"Settings form"),f.a.createElement("h1",{className:"ple-edit-setting__title"},"Settings"),f.a.createElement("dl",null,f.a.createElement("dt",null,f.a.createElement("label",{htmlFor:"frm_width"},"Width")),f.a.createElement("dd",{className:"ple-type-input"},f.a.createElement("input",{type:"number",name:"width",id:"frm_width",min:1,max:999,maxLength:3,value:t.width,onChange:function(t){return e._change(t)},style:{width:"72px"},required:!0}),f.a.createElement("span",null,"px"))),f.a.createElement("dl",null,f.a.createElement("dt",null,f.a.createElement("label",{htmlFor:"frm_height"},"Height")),f.a.createElement("dd",{className:"ple-type-input"},f.a.createElement("input",{type:"number",name:"height",id:"frm_height",min:1,max:999,value:t.height,onChange:function(t){return e._change(t)},style:{width:"72px"},required:!0}),f.a.createElement("span",null,"px"))),f.a.createElement("dl",null,f.a.createElement("dt",null,f.a.createElement("label",{htmlFor:"frm_column"},"Column")),f.a.createElement("dd",{className:"ple-type-input"},f.a.createElement("input",{type:"number",name:"column",id:"frm_column",min:1,max:99,value:t.column,onChange:function(t){return e._change(t)},style:{width:"54px"},required:!0}),f.a.createElement("span",null,"ea"))),f.a.createElement("dl",{className:"ple-type-input"},f.a.createElement("dt",null,f.a.createElement("label",{htmlFor:"frm_outerMargin"},"Outer margin")),f.a.createElement("dd",null,f.a.createElement("input",{type:"number",name:"outerMargin",id:"frm_outerMargin",min:0,max:500,value:t.outerMargin,onChange:function(t){return e._change(t)},style:{width:"58px"},required:!0}),f.a.createElement("span",null,"px"))),f.a.createElement("dl",{className:"ple-type-input"},f.a.createElement("dt",null,f.a.createElement("label",{htmlFor:"frm_innerMargin"},"Inner margin")),f.a.createElement("dd",null,f.a.createElement("input",{type:"number",name:"innerMargin",id:"frm_innerMargin",min:0,max:500,value:t.innerMargin,onChange:function(t){return e._change(t)},style:{width:"58px"},required:!0}),f.a.createElement("span",null,"px"))),f.a.createElement("dl",null,f.a.createElement("dt",null,f.a.createElement("label",{htmlFor:"frm_bgColor"},"Bg color")),f.a.createElement("dd",null,f.a.createElement("div",{className:"ple-edit-bgColor"},f.a.createElement("span",{className:Pe()("ple-edit-bgColor__inputBox",{"ple-edit-bgColor__inputBox-active":t.popup_bgColor})},f.a.createElement("input",{type:"text",name:"bgColor",id:"frm_bgColor",value:t.bgColor,onChange:function(t){return e._change(t)},onClick:function(t){return e._openBgColorPicker(t)},readOnly:!0,required:!0,className:"ple-edit-bgColor__input",style:{backgroundColor:t.bgColor}})),t.popup_bgColor&&f.a.createElement("div",{className:"ple-edit-bgColor__popup"},f.a.createElement("div",{className:"ple-edit-bgColor__picker"},f.a.createElement(sn.a,{onChange:function(t){return e.setState({bgColor:t})},color:t.bgColor})))))),f.a.createElement("dl",null,f.a.createElement("dt",null,f.a.createElement("label",{htmlFor:"frm_freeMode"},"Free mode")),f.a.createElement("dd",{className:"ple-type-checkbox"},f.a.createElement("label",null,f.a.createElement("input",{type:"radio",name:"freeMode",id:"frm_freeMode",onChange:function(){return e.setState({freeMode:!0})},checked:t.freeMode}),f.a.createElement("span",null,"true")),f.a.createElement("label",null,f.a.createElement("input",{type:"radio",name:"freeMode",onChange:function(){return e.setState({freeMode:!1})},checked:!t.freeMode}),f.a.createElement("span",null,"false"))))),f.a.createElement("nav",{className:"ple-edit-setting__buttons"},f.a.createElement("span",null,f.a.createElement("button",{type:"button",onClick:function(){return e._reset()}},"Reset")),f.a.createElement("span",null,f.a.createElement("button",{type:"submit",className:"ple-submit"},"Apply"))))}}])&&yn(n.prototype,r),o&&yn(n,o),t}(f.a.Component);vn.displayName="EditLayoutSetting",vn.defaultProps={submit:function(e){},setting:null,defaultSetting:{width:100,height:100,column:5,outerMargin:10,innerMargin:10,freeMode:!1,bgColor:"rgba(255,255,255,1)"}};var wn=vn;function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return!t||"object"!==On(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=jn(this,En(t).call(this,e))).state={active:{setting:!1,editBlockColor:!1},visible:{setting:!0,shuffle:!0,add:!0,select:!0,edit:!1,removeImage:!1,duplicate:!1,removeBlock:!1,editColor:!1},activeBlockCount:0},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=Object.assign({},t);if(n.activeBlockCount=e.tree.body.activeBlock.length,t.activeBlockCount!==e.tree.body.activeBlock.length){var r=!!e.tree.body.activeBlock.length;n.visible=Object.assign({},n.visible,{edit:!1,removeImage:!1,duplicate:r,removeBlock:r,editColor:r})}if(e.tree.body.activeBlock[0]){var o=!1;e.tree.body.activeBlock.some((function(t){if(e.tree.body.grid[t].image)return o=!0,!0}));var i=e.tree.body.grid[e.tree.body.activeBlock[0]];n.visible=Object.assign({},n.visible,{removeImage:o,edit:!(!i||!i.image)})}return _n({},t,{},n)}}],(r=[{key:"changeActive",value:function(e,t,n){var r=this,o=this.state,i=t||!o.active[e],a=n?n.currentTarget:null;i?dt()(document).on("click.pleToolbar",(function(t){dt()(t.target).closest(".ple-toolbar__pop").length||t.target!==a&&t.target.parentNode!==a&&r.changeActive(e,!1)})):dt()(document).off("click.pleToolbar"),this.setState({active:_n({},o.active,kn({setting:!1,editColor:!1},e,i))})}},{key:"deactivate",value:function(){var e=this;return dt()(document).off("click.pleToolbar"),new Promise((function(t){e.setState({active:{setting:!1,editColor:!1}},t)}))}},{key:"submitEditSetting",value:function(e){var t=this;return this.props.dispatch(o.updateSetting(e)),u.sleep(50).then((function(){return t.changeActive("setting",!1)})),!1}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,r="#fff";if("object"===On(n.tree.body.grid)&&s.isArray(n.tree.body.activeBlock)){var i=n.tree.body.activeBlock[0];r=n.tree.body.grid[i]&&n.tree.body.grid[i].color?n.tree.body.grid[i].color:n.setting.body.blockColor}return f.a.createElement("nav",{className:"ple-toolbar"},f.a.createElement("div",{className:"ple-toolbar__wrap"},t.visible.setting&&f.a.createElement(ln,{iconClass:"ple-ico-setting",className:Pe()("ple-edit-setting",{"ple-toolbar__block-active":t.active.setting}),onClick:function(n){n.persist(),t.active.setting||e.deactivate().then((function(){e.changeActive("setting",null,n)}))},title:"Edit preference"},t.active.setting&&f.a.createElement(wn,{submit:function(t){return e.submitEditSetting(t)},setting:n.tree.body.setting,defaultSetting:n.setting.body.setting})),t.visible.shuffle&&f.a.createElement(ln,{iconClass:"ple-ico-arrow-random",onClick:function(){return n.api.grid.shuffle()},title:"Shuffle block"}),t.visible.add&&f.a.createElement(ln,{iconClass:"ple-ico-plus",onClick:function(){return n.api.grid.add()},title:"Add block"}),t.visible.select&&f.a.createElement(ln,{iconClass:"ple-ico-select",onClick:function(){return n.api.grid.toggleSelectAll()},title:"Toggle select block"}),t.visible.edit&&f.a.createElement(ln,{iconClass:"ple-ico-pencil",className:"ple-toolbar__block-key",onClick:function(){return n.api.cropper.open(n.tree.body.activeBlock[0])},title:"Edit block"}),t.visible.removeImage&&f.a.createElement(ln,{iconClass:"ple-ico-empty",className:"ple-toolbar__block-key",onClick:function(){return n.api.grid.removeImages(n.tree.body.activeBlock)},title:"Remove image in block"}),t.visible.duplicate&&f.a.createElement(ln,{iconClass:"ple-ico-duplicate",className:"ple-toolbar__block-key",onClick:function(){null!==n.tree.body.activeBlock?n.dispatch(o.duplicateBlock(n.tree.body.activeBlock)):alert("Not found select block")},title:"Duplicate block"}),t.visible.removeBlock&&f.a.createElement(ln,{iconClass:"ple-ico-trash",className:"ple-toolbar__block-key",onClick:function(){null!==n.tree.body.activeBlock?n.api.grid.remove(n.tree.body.activeBlock):alert("Not found select block")},title:"Remove block"}),t.visible.editColor&&f.a.createElement(ln,{iconClass:"ple-ico-palette",className:Pe()("ple-edit-color","ple-toolbar__block-key",{"ple-toolbar__block-active":t.active.editColor}),onClick:function(n){n.persist(),t.active.editColor||e.deactivate().then((function(){return e.changeActive("editColor",null,n)}))},title:"Change color"},f.a.createElement("div",{className:"ple-colorPicker__wrap"},f.a.createElement(sn.a,{onChange:function(e){e&&n.dispatch(o.changeColorBlock(n.tree.body.activeBlock,e))},color:r,className:"ple-colorPicker__body"})))))}}])&&Pn(n.prototype,r),i&&Pn(n,i),t}(f.a.Component);Cn.displayName="Toolbar",Cn.defaultProps={dispatch:null,tree:null};var Dn=ge((function(e){return Object.assign({},e,{})}))(Cn);function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return!t||"object"!==Rn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var In=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zn(this,Mn(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return f.a.createElement("div",{className:"ple-container"},f.a.createElement("div",{className:"ple-body"},f.a.createElement(Dn,null),f.a.createElement(un,null)))}}])&&Tn(n.prototype,r),o&&Tn(n,o),t}(f.a.Component);In.displayName="Body";var Bn=In;function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Hn(this,Fn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props;return f.a.createElement("button",{type:"button",onClick:e.onClick,className:"ple-side__toggle"},f.a.createElement("span",null,f.a.createElement("i",{className:Pe()("ple-sp-ico","ple-abs",{"ple-ico-arrow-right":e.show,"ple-ico-arrow-left":!e.show})},"Toggle sidebar")))}}])&&An(n.prototype,r),o&&An(n,o),t}(l.Component);Wn.displayName="ToggleSideButton",Wn.defaultProps={show:!1,onClick:function(){}};var $n=Wn;function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t){return!t||"object"!==qn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Yn(this,Gn(t).call(this,e))).comps={inputFile:null},n.state={timestamp:Date.now()},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(t,e),n=t,(r=[{key:"upload",value:function(e){this.props.onUpload(e.target.files),this.setState({timestamp:Date.now()})}},{key:"render",value:function(){var e=this,t=this.props,n=this.state,r=this.comps;return f.a.createElement("nav",{className:"ple-sideNavigation ple-side__navigation"},f.a.createElement("div",{className:"ple-sideNavigation__wrap"},f.a.createElement("button",{type:"button",title:"attach images",onClick:t.onAttach},f.a.createElement("i",{className:"ple-sp-ico ple-ico-reply ple-abs"},"Moving the image to grid block")),f.a.createElement("button",{type:"button",title:"toggle select",onClick:t.onToggleSelect},f.a.createElement("i",{className:"ple-sp-ico ple-ico-select ple-abs"},"Toggle all select")),f.a.createElement("span",{title:"upload images",key:n.timestamp},f.a.createElement("input",{ref:function(e){r.inputFile=e},type:"file",onChange:function(t){return e.upload(t)},multiple:!0}),f.a.createElement("i",{className:"ple-sp-ico ple-ico-upload ple-abs"},"upload images")),f.a.createElement("button",{type:"button",title:"remove images",onClick:t.onRemove},f.a.createElement("i",{className:"ple-sp-ico ple-ico-trash ple-abs"},"remove images"))))}}])&&Xn(n.prototype,r),o&&Xn(n,o),t}(f.a.Component);Kn.displayName="Navigation",Kn.defaultProps={onRemove:function(){},onToggleSelect:function(){},onAttach:function(){},onUpload:function(){}};var Qn=Kn;function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(){return(Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var or=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tr(this,nr(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=Object.assign({},u.isTouchDevice()?{onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd}:{onDragStart:e.onDragStart,onDragEnd:e.onDragEnd});return f.a.createElement("li",null,f.a.createElement("span",Zn({type:"button","data-id":e.id,"data-image":e.image,draggable:!0,onClick:e.onClick},t,{style:{backgroundImage:"url('".concat(e.image,"')")},className:Pe()({"ple-sideItems__item-active":e.active})})))}}])&&er(n.prototype,r),o&&er(n,o),t}(f.a.Component);or.displayName="Item",or.defaultProps={image:null,id:null,active:null,onClick:null,onDragStart:null,onDragEnd:null,onTouchStart:null,onTouchMove:null,onTouchEnd:null};var ir=or;function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t){return!t||"object"!==ar(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cr(this,sr(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props;return f.a.createElement("div",{className:"ple-sideItems"},f.a.createElement("div",{className:"ple-sideItems__wrap"},f.a.createElement("ul",null,Object.keys(e.files).map((function(t){return f.a.createElement(ir,{key:t,id:t,image:e.files[t].image,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd,onClick:function(){return e.onSelect(parseInt(t))},active:e.files[t].active})})),null!==e.progress&&f.a.createElement("li",{className:"ple-sideItems__loading"},f.a.createElement("div",{className:"ple-sideItems__progress"},f.a.createElement("span",{className:"ple-sideItems__bar",style:{height:"".concat(e.progress,"%")}}),f.a.createElement("span",{className:"ple-sideItems__percent"},"".concat(e.progress,"%")))))))}}])&&ur(n.prototype,r),o&&ur(n,o),t}(f.a.Component);fr.displayName="Items",fr.defaultProps={files:[],onSelect:function(e){},onDragStart:null,onDragEnd:null,onTouchStart:null,onTouchMove:null,onTouchEnd:null,progress:null};var pr=fr,dr=null;var hr=function(e,t){var n=e.keyboard.keyName,r=e.tree.side.files,o=null,i=!1,a={};if("SHIFT"!==n){var u=null;Object.keys(e.tree.side.files).forEach((function(n){var r=e.tree.side.files[n];if(parseInt(n)===t)return u=r,!1})),(dr=!0===u.active?null:t)||!0!==u.active||(dr=u.key)}switch(n){case"CTRL":case"CMD":o="add";break;case"SHIFT":o="range"}return Object.keys(r).forEach((function(e){var n=function(e,t,n,r,o){switch(o){case"add":return{key:e,active:e===r?!t.active:t.active};case"range":return(n=n||0)<r?{key:e,active:e>=n&&e<=r}:{key:e,active:e<=n&&e>=r}}return e===r?{key:e,active:!t.active}:{key:e,active:!1}}(parseInt(e),r[e],dr,t,o);n.active&&(i=!0),a[e]=n})),i||(dr=null),a};function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e,t){return!t||"object"!==yr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=mr(this,br(t).call(this,e))).dragTarget=null,n.dragPosition=[],n.$gridItems=null,n.$dragItem=null,n.uploading=!1,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(t,e),n=t,(r=[{key:"getGridsterItem",value:function(){var e=this,t=this.props,n=null;return this.$gridItems=dt()(t.element).find(".ple-grid > div"),this.$gridItems.each((function(t,r){var o=dt()(r),i=o.offset();if(i.left<e.dragPosition[0]&&i.left+o.width()>e.dragPosition[0]&&i.top<e.dragPosition[1]&&i.top+o.height()>e.dragPosition[1])return n=o.data("key"),!1})),n}},{key:"_selectItem",value:function(e){var t=this.props,n=hr(t,e);t.api.side.select(n)}},{key:"_removeItems",value:function(){var e=this.props,t=e.api.side.getKeys("selected");if(t.length)confirm("Do you really want to delete it?")&&e.api.side.remove(t);else{if(!confirm("Delete all?"))return;t=e.api.side.getKeys("all"),e.api.side.remove(t)}}},{key:"_upload",value:function(e){this.props.api.side.upload(e)}},{key:"_attach",value:function(){try{var e=this.props.api.side.getKeys("selected"),t=this.props.api.side.attachToGrid(e);if(t)throw t}catch(e){alert(e.message)}}},{key:"_dragStartItem",value:function(e){var t=this,n=this.props;e.dataTransfer.setData("text/plain",null),this.$gridItems=dt()(n.element).find(".ple-grid > div"),this.$gridItems.on("dragover",(function(e){e.preventDefault(),dt()(e.currentTarget).hasClass("ple-grid__item-hover")||dt()(e.currentTarget).addClass("ple-grid__item-hover")})).on("dragleave",(function(e){e.preventDefault(),dt()(e.currentTarget).removeClass("ple-grid__item-hover")})).on("drop",(function(e){e.preventDefault(),dt()(e.currentTarget).removeClass("ple-grid__item-hover"),t.dragTarget=dt()(e.currentTarget).data("key")}))}},{key:"_dragEndItem",value:function(e){var t=this.props;this.$gridItems.off(),this.$gridItems=null,null!==this.dragTarget&&(t.dispatch(o.attachImage(this.dragTarget,dt()(e.currentTarget).data("image"))),this.dragTarget=null)}},{key:"_touchStartItem",value:function(e){this.$dragItem=dt()(e.currentTarget).clone().removeAttr("draggable").addClass("ple-side__placeholder").width(dt()(e.currentTarget).width()).height(dt()(e.currentTarget).height()),dt()("body").append(this.$dragItem)}},{key:"_touchMoveItem",value:function(e){u.checkSupportCss("touch-action","pan-y")||e.preventDefault();var t=e.nativeEvent.touches[0];this.dragPosition=[t.pageX,t.pageY],this.$dragItem.css({left:t.pageX-.5*this.$dragItem.width(),top:t.pageY-.5*this.$dragItem.height()})}},{key:"_touchEndItem",value:function(e){var t=this.props;if(this.$dragItem.remove(),this.$dragItem=null,this.dragPosition.length>0){if(this.dragTarget=this.getGridsterItem(),null===this.dragTarget)return;t.dispatch(o.attachImage(this.dragTarget,dt()(e.currentTarget).data("image"))),this.dragPosition=[]}}},{key:"render",value:function(){var e=this,t=this.props;return f.a.createElement("aside",{className:"ple-side"},f.a.createElement("div",{className:Pe()("ple-side__wrap",{"ple-side__wrap-show":t.tree.side.visible})},f.a.createElement("span",{onClick:function(){return t.api.side.toggleSelectAll(!1)},className:"ple-side__background"}),f.a.createElement($n,{show:t.tree.side.visible,onClick:function(){return t.api.util.toggleSide(void 0)}}),f.a.createElement(Qn,{onAttach:function(){return e._attach()},onToggleSelect:function(){return t.api.side.toggleSelectAll()},onUpload:function(t){return e._upload(t)},onRemove:function(){return e._removeItems()}}),f.a.createElement(pr,{files:t.tree.side.files,onSelect:function(t){return e._selectItem(t)},onDragStart:function(t){return e._dragStartItem(t)},onDragEnd:function(t){return e._dragEndItem(t)},onTouchStart:function(t){return e._touchStartItem(t)},onTouchMove:function(t){return e._touchMoveItem(t)},onTouchEnd:function(t){return e._touchEndItem(t)},progress:t.tree.side.progressPercent})))}}])&&gr(n.prototype,r),i&&gr(n,i),t}(f.a.Component);wr.displayName="Side",wr.defaultProps={tree:{},setting:{},api:{},dispatch:null};var Or=ge((function(e){return Object.assign({},e)}))(wr);function Sr(e){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,t){return!t||"object"!==Sr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jr(e,t){return(jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Er=!1,xr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=kr(this,Pr(t).call(this,e))).el=null,n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}(t,e),n=t,(o=[{key:"componentDidUpdate",value:function(e,t,n){var r=this.props;!r.setting.base.updateStoreFunc||"function"!=typeof r.setting.base.updateStoreFunc||e.tree.side.visible===r.tree.side.visible&&e.tree.side.files===r.tree.side.files&&e.tree.body.setting===r.tree.body.setting&&e.tree.body.grid===r.tree.body.grid||r.setting.base.updateStoreFunc(),!Er&&r.setting.base.callback.init&&"function"==typeof r.setting.base.callback.init&&(r.setting.base.callback.init(),Er=!0)}},{key:"componentDidMount",value:function(){var e=this.props;e.dispatch(r.init(e.parent.api,e.parent.preference||{side:{},body:{}},this.el))}},{key:"render",value:function(){var e=this,t=this.props;return f.a.createElement("div",{ref:function(t){e.el=t},className:Pe()("ple-editor",{"ple-side-active":t.tree.side.visible})},t.setting&&f.a.createElement("div",{className:"ple-wrap"},f.a.createElement(Bn,null),f.a.createElement(Or,null)))}}])&&_r(n.prototype,o),i&&_r(n,i),t}(f.a.Component);xr.displayName="Container",xr.defaultProps={parent:{},dispatch:null,tree:{},setting:null};var Cr=ge((function(e){return Object.assign({},e,{})}))(xr);function Dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Rr=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventName="PLE_".concat(c.getTimeStamp()),this.code=null,this.keyName=null,this.names={17:"CTRL",18:"ALT",91:"CMD",93:"CMD",16:"SHIFT"},dt()(window).on("keydown.".concat(this.eventName),(function(e){return t._keyDown(e)}))}var t,n,r;return t=e,(n=[{key:"apply",value:function(e){this.code=e,this.keyName=this.names[this.code]||null}},{key:"_keyDown",value:function(e){var t=this;this.apply(e.keyCode),dt()(window).on("keyup.".concat(this.eventName),(function(){return t._keyUp()})).on("contextmenu.".concat(this.eventName),(function(){return t._keyUp()})).on("blur.".concat(this.eventName),(function(){return t._keyUp()})).off("keydown.".concat(this.eventName))}},{key:"_keyUp",value:function(){var e=this;this.apply(null),dt()(window).on("keydown.".concat(this.eventName),(function(t){return e._keyDown(t)})).off("contextmenu.".concat(this.eventName," keyup.").concat(this.eventName," blur.").concat(this.eventName))}},{key:"destroy",value:function(){dt()(window).off("keydown.".concat(this.eventName," contextmenu.").concat(this.eventName," keyup.").concat(this.eventName," blur.").concat(this.eventName))}}])&&Dr(t.prototype,n),r&&Dr(t,r),e}(),Tr={base:{uploadScript:null,uploadParamsConvertFunc:null,updateStoreFunc:null,callback:{}},body:{setting:{width:100,height:100,column:5,outerMargin:10,innerMargin:10,freeMode:!1,bgColor:"rgba(255,255,255,1)"},blockColor:"rgba(211,211,211,1)",grid:[]},side:{files:[],visible:!0}},zr={files:{},visible:!0,progressPercent:null};function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){Ir(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Br(e){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach((function(t){Hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fr=0,Ur=0;function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xr=0;var Yr=b({setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(Object.assign({},e),t.type){case je:return Object.assign({},{base:Nr({},Tr.base,{uploadScript:t.preference.uploadScript||Tr.base.uploadScript,uploadParamsConvertFunc:t.preference.uploadParamsConvertFunc||Tr.base.uploadParamsConvertFunc,updateStoreFunc:t.preference.updateStoreFunc||Tr.base.updateStoreFunc,callback:t.preference.callback||Tr.base.callback}),side:Nr({},Tr.side,{},t.preference.side),body:Nr({},Tr.body,{},t.preference.body)});default:return e}},api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return t.api;default:return e}},keyboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch((arguments.length>1?arguments[1]:void 0).type){case je:return new Rr;default:return e}},element:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return t.element;default:return e}},tree:b({side:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e),r={};switch(t.type){case je:try{return t.preference.side.files.forEach((function(e){r[Xr++]={image:e,active:!1}})),$r({},e,{},t.preference.side,{files:$r({},e.files,{},r)})}catch(t){return e}case Ee:return $r({},e,{visible:t.value});case Re:return $r({},e,{visible:!e.visible});case xe:return t.files.forEach((function(e){r[Xr++]={image:e,active:!1}})),$r({},n,{files:$r({},n.files,{},r)});case Ce:return t.keys.length?(t.keys.forEach((function(e){delete n.files[e]})),n):e;case De:return t.value&&Object.keys(t.value).length?(Object.keys(t.value).forEach((function(e){n.files[e]&&(n.files[e].active=t.value[e].active)})),n):e;case Te:return $r({},e,{progressPercent:t.value});default:return e}},body:b({setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr.body.setting,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:try{return Ar({},e,{},t.preference.body.setting)}catch(t){return e}case Fe:return Ar({},e,{},t.value)}return e},grid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case je:var r={};try{if(t.preference.body.grid instanceof Array)t.preference.body.grid.forEach((function(e,t){r[t]=e}));else{if("object"!==Br(t.preference.body.grid))throw"error";r=t.preference.body.grid}Object.keys(r).forEach((function(e){n[Fr++]=Ar({color:Tr.body.blockColor},r[e],{indexPrefix:Ur})}))}catch(e){n={}}return n;case Ne:return n[Fr++]=Ar({color:Tr.body.blockColor,layout:{x:1/0,y:1/0,w:1,h:1}},t.value,{indexPrefix:Ur}),n;case Ie:return t.keys&&t.keys.length?(t.keys.forEach((function(e){delete n[e]})),n):e;case Be:return Object.keys(n).map((function(e){return Ar({},n[e],{layout:{x:c.randomRange(0,t.value.x-1),y:c.randomRange(0,t.value.y-1),w:c.randomRange(1,t.value.w),h:c.randomRange(1,t.value.h)},indexPrefix:Ur++})}));case Le:return t.keys.forEach((function(e){n[e]&&(n[Fr++]=Object.assign({},n[e]))})),n;case Ue:return t.keys.forEach((function(e){n[e]&&(n[e].color=t.color)})),n;case ze:return s.isArray(t.value)?(t.activeBlocks&&t.activeBlocks.length?Object.keys(n).forEach((function(e){t.value.length&&-1!==t.activeBlocks.indexOf(e)&&(n[e].image={src:t.value.splice(0,1)[0],position:"50% 50%",size:"cover"})})):(Object.keys(n).forEach((function(e){n[e].image||t.value&&t.value.length&&(n[e].image={src:t.value.splice(0,1)[0],position:"50% 50%",size:"cover"})})),t.value.length&&t.value.forEach((function(r,o){n[Fr++]={color:Tr.body.blockColor,layout:{x:(Object.keys(e).length+o)%t.columns,y:1/0,w:1,h:1},image:{src:r,position:"50% 50%",size:"cover"},indexPrefix:Ur}}))),n):e;case Me:return t.image&&"string"==typeof t.image&&n[t.keys]?(n[t.keys].image={src:t.image,position:"50% 50%",size:"cover"},n):e;case Ae:return Object.assign({},e,t.value);case $e:return n[t.key]?(t.position&&(n[t.key].image.position=t.position),t.size&&(n[t.key].image.size=t.size),n):e}return e},activeBlock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Object.assign([],e);switch(t.type){case He:return t.value;case Ie:return t.keys&&t.keys.length?(t.keys.forEach((function(e){n.indexOf(e)<0||n.splice(n.indexOf(e),1)})),n):[]}return e}}),cropper:b({visible:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case We:return!0;case $e:return!1;default:return e}},item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:return t.item;case $e:return null;default:return e}},key:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:return t.key;case $e:return null;default:return e}}})})});function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.uploading=!1}var t,n,r;return t=e,(n=[{key:"getKeys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.store.getState(),r=n.tree.side.files,o=[];switch(e){case"selected":Object.keys(r).forEach((function(e){r[e].active&&o.push(parseInt(e))}));break;case"value":t.forEach((function(e){r[e]&&o.push(parseInt(e))}));break;case"all":default:o=Object.keys(r).map((function(e){return parseInt(e)}))}return o}},{key:"getItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState(),n=t.tree.side;e=this.getKeys("value",e);var r={};return e.forEach((function(e){n.files[e]&&(r[e]=n.files[e])})),r}},{key:"getImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.getItems(e);return Object.keys(t).map((function(e){return t[e].image}))}},{key:"add",value:function(e){try{if(!(e instanceof Array))throw new Error("not found files");this.store.dispatch(a.addFiles(e))}catch(e){return e}}},{key:"selection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var n={},r=this.getKeys("value",e);if(r.length<=0)throw new Error("not found select item");r.forEach((function(e){n[e]={key:e,active:t}})),this.store.dispatch(a.updateSelected(n))}catch(e){return e}}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.store.dispatch(a.updateSelected(e))}},{key:"toggleSelectAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("boolean"==typeof e){var t=this.getKeys("all");this.selection(t,e)}else{var n=this.getKeys("selected").length,r=this.getKeys("all");this.selection(r,!(n>0))}}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{if(!e.length)throw new Error("Not found items.");var t=this.store.getState(),n=t.setting.base.callback,r=e.map((function(e){return t.tree.side.files[e].image}));this.store.dispatch(a.removeFiles(e)),n.sideRemove&&"function"==typeof n.sideRemove&&n.sideRemove(r)}catch(e){return e}}},{key:"clear",value:function(){var e=this.getKeys("all"),t=this.store.getState(),n=t.setting.base.callback,r=Object.keys(t.tree.side.files).map((function(e){return t.tree.side.files[e].image}));this.store.dispatch(a.removeFiles(e)),n.sideRemove&&"function"==typeof n.sideRemove&&n.sideRemove(r)}},{key:"upload",value:function(e){var t=this;if(!this.uploading){var n=this.store.getState(),r=n.setting.base.callback;this.uploading=!0,r.sideUploadStart&&"function"==typeof r.sideUploadStart&&r.sideUploadStart(),xt(e,n.setting.base.uploadScript).progress((function(e,o){switch(e){case"start":t.store.dispatch(a.updateProgress(0));break;case"progress":var i=parseInt(o.loaded/o.total*100);t.store.dispatch(a.updateProgress(i)),r.sideUploadProgress&&"function"==typeof r.sideUploadProgress&&r.sideUploadProgress(o.loaded,o.total,i);break;case"done":if(t.store.dispatch(a.updateProgress(null)),!o.data)return;if(n.setting.base.uploadParamsConvertFunc){var u=n.setting.base.uploadParamsConvertFunc(o.data);t.store.dispatch(a.addFiles([u]))}else t.store.dispatch(a.addFiles([o.data.url]));return void(r.sideUploadComplete&&"function"==typeof r.sideUploadComplete&&r.sideUploadComplete(o.data))}})).done((function(){t.uploading=!1,r.sideUploadCompleteAll&&"function"==typeof r.sideUploadCompleteAll&&r.sideUploadCompleteAll()})).fail((function(e){t.uploading=!1,r.sideUploadFail&&"function"==typeof r.sideUploadFail&&r.sideUploadFail(e)}))}}},{key:"attachToGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState(),n=t.tree.body;try{var r=this.getImages(e);if(!r.length)throw new Error("not found item.");this.store.dispatch(o.attachImages(r,n.setting.column,n.activeBlock))}catch(e){return e}}}])&&Gr(t.prototype,n),r&&Gr(t,r),e}();function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){Jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var eo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t}var t,n,r;return t=e,(n=[{key:"getKeys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.store.getState(),r=n.tree.body,o=[];switch(e){case"selected":return r.activeBlock;case"value":return o=[],t.forEach((function(e){r.grid[e]&&o.push(e)})),o;case"all":default:return Object.keys(r.grid).map((function(e){return e}))}}},{key:"getBlocks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.store.getState(),r=n.tree.body,o=[],i={};switch(e){case"selected":o=this.getKeys("selected");break;case"value":o=this.getKeys("value",t);break;case"all":default:return r.grid}return o.forEach((function(e){r.grid[e]&&(i[e]=r.grid[e])})),i}},{key:"shuffle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.store.getState(),n=t.tree.body,r={x:n.setting.column,y:2,w:2,h:2};e=Object.assign({},r,e),this.store.dispatch(o.shuffleBlocks(e))}},{key:"assignImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState(),n=t.tree.body;this.store.dispatch(o.attachImages(e,n.setting.column,n.activeBlock))}},{key:"assignImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!==e&&null!==t&&this.store.dispatch(o.attachImage(e,t))}},{key:"removeImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState(),n=Object.assign({},t.tree.body.grid);e.forEach((function(e){n[e].image=null})),this.update(n)}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.store,n=t.getState,r=t.dispatch,i=n(),a=i.tree.body,u={layout:{x:Object.keys(a.grid).length%a.setting.column,y:1/0,w:1,h:1},color:null,image:null};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},u,e)).layout=Object.assign({},u.layout,e.layout),e.image=e.image?Qr({src:null,position:"50% 50%",size:"cover"},e.image):null,r(o.addBlock(e))}(e=e&&e.length?e:[null]).forEach((function(e){return c(e)}))}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.store.dispatch(o.updateBlocks(e))}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.store.dispatch(o.removeBlock(e))}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e=e.map((function(e){return e.toString()})),this.store.dispatch(o.activeBlock(e))}},{key:"unselect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState(),n=Object.assign([],t.tree.body.activeBlock);e.forEach((function(e){e=e.toString(),-1!==n.indexOf(e)&&n.splice(n.indexOf(e),1)})),this.store.dispatch(o.activeBlock(n))}},{key:"toggleSelectAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.store.getState();"boolean"!=typeof e&&(e=!t.tree.body.activeBlock.length),e?this.select(this.getKeys("all")):this.select([])}},{key:"duplicate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.store.dispatch(o.duplicateBlock(e))}},{key:"getPreference",value:function(){return this.store.getState().tree.body.setting}},{key:"setPreference",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},this.getPreference(),e);this.store.dispatch(o.updateSetting(t))}}])&&Zr(t.prototype,n),r&&Zr(t,r),e}();function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var no=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t}var t,n,r;return t=e,(n=[{key:"open",value:function(e){var t=this.store.getState(),n=null;try{if(!(n=t.tree.body.grid[e]).image)throw"Not found image in item"}catch(e){return void alert(e)}this.store.dispatch(i.open(e,n))}},{key:"close",value:function(e,t,n){this.store.dispatch(i.close(e,t,n))}}])&&to(t.prototype,n),r&&to(t,r),e}();function ro(e){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var io=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t}var t,n,r;return t=e,(n=[{key:"toggleSide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;try{var t=this.store.getState().tree.side.visible,n=void 0===e?!t:e;this.store.dispatch(a.visible(n))}catch(e){console.warn("Error action",e)}}},{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return null;var n=this.store.getState();function r(){if(!t)return[];var e=n.api.side.getKeys("all");return n.api.side.getImages(e)}function o(){var e=n.api.grid.getBlocks("all");return Object.keys(e).sort().map((function(n){return delete e[n].indexPrefix,!t&&e[n]&&e[n].image&&delete e[n].image,e[n]}))}function i(){return n.api.grid.getPreference()}switch(e){case"side":return r();case"grid":return o();case"preference":return n.api.grid.getPreference();case"all":return{side:r(),grid:o(),preference:i()}}return null}},{key:"import",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=this.store.getState();e.side&&jt(e.side)&&r(e.side),e.grid&&jt(e.grid)&&o(e.grid),e.preference&&"object"===ro(e.preference)&&n.api.grid.setPreference(e.preference)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&n.api.side.clear(),n.api.side.add(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var r=n.api.grid.getKeys("all");n.api.grid.remove(r)}n.api.grid.add(e)}}},{key:"makeImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jpg",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=dt.a.Deferred(),i=this.store.getState(),a=i.tree.body,u=a.setting,c=a.grid;return Rt(i.element.querySelector(".ple-grid"),{setting:u,grid:c},{format:e,quality:t,sampling:n,output:r}).done((function(e){o.resolve(e)})).progress((function(e,t,n){o.notify(e,t,n)})).fail((function(e){o.reject(e)})),o.promise()}}])&&oo(t.prototype,n),r&&oo(t,r),e}();var ao=function(e){this.side=new Vr(e),this.grid=new eo(e),this.cropper=new no(e),this.util=new io(e)};function uo(e){return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function so(e,t){return!t||"object"!==uo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var po=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=so(this,lo(t).call(this,e))).store=g(Yr),n.api=new ao(n.store),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fo(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props;return f.a.createElement(C,{store:this.store},f.a.createElement(Cr,{parent:{preference:e,api:this.api}}))}}])&&co(n.prototype,r),o&&co(n,o),t}(f.a.Component);po.displayName="PhotoLayoutEditor",po.defaultProps={body:{setting:{},blockColor:"#dddddd",grid:[]},side:{files:[],visible:!0},uploadScript:null,uploadParamsConvertFunc:null};var ho=po;n(49),t.default=ho}]).default}));